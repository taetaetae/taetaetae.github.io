<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>공모주 알리미 개발 후기 - 1부 - 👨‍💻꿈꾸는 태태태의 공간</title><meta name=Description content><meta property="og:title" content="공모주 알리미 개발 후기 - 1부"><meta property="og:description" content="작년부터 시작된 &lsquo;동학개미운동&rsquo;에 언제부터인가 필자도 주린이로써 동참을 하게 되었다. 최근에는 &lsquo;공모주 청약&rsquo; 이라는걸 알게 되었는데 따라해보고 정신차려보니 치킨 한마리정도의 수익을 얻는 기적이 일어났다. 공모주란 정해진 일자에 청약을 하고 배정을 받으면 해당 주식이 상장을 하기 전에 미리 살 수 있다는 &lsquo;기회&rsquo;로 이해했다. (주린이라 이해의 범위가 여기까지다&mldr;) 공모주 배정이 로또처럼 엄청난 큰 수익률을 가져다 주는건 아니지만 앞서 이야기 한것처럼 언제 있을지 모르는 공모주 청약을 꼬박꼬박 챙겨서 하게 된다면 맛있는 치킨을 먹을 수 있겠다는 기대감이 부풀었다. (치킨은 역시 교촌 허니콤보&mldr;)
주린이는 계속 자야 할까 싶다. 출처 : https://b-s-d.tistory.com/8&#34; 주린이는 계속 자야 할까 싶다.
출처 : https://b-s-d.tistory.com/8  　치킨이 머릿속에 맴도는 시간도 잠시. 필자의 머리를 스치는 하나의 생각. 그러면 공모주 청약은 언제하는거지? 청약 하니까 준비하라고 누가 알려주면 좋을텐데&mldr; 그러면서 이런저런 검색을 해보니 안드로이드 앱은 이미 있었고, IOS 앱은 없었다. 음? 그럼 이걸 내가 만들어보면 어떨까?
　결론부터 말하자면, 텔레그램을 활용하여 자동화 공모주 알림봇을 만들게 되었다. 혹시 공모주에 관심이 있다면 필자가 만든 텔레그램 채널을 가입하는것도 좋을것 같다.
　이번 글에서는 필자의 새로운 토이 프로젝트인 &lsquo;공모주 알리미&rsquo;를 만들게 된 배경과 설계, 그리고 개발부터 릴리즈까지에 대해 이야기를 해보고자 한다. 크게 아래의 목차로 이야기 하게 될것 같다.
 1부 : 프로젝트 설계, 데이터 수집 2부 : 수집한 데이터 알림 3부 : 서버 선정 및 릴리즈  　자칫 너무 간단한데~, 이런걸 구지 왜 만들어? 라는 시각이 있을수 있겠지만 토이프로젝트를 해야지 하고 마음을 먹었지만 막상 시작을 못하고 있는 어느 누군가에게는 도움이 될 내용인것 같아서 꽤 자세히 정리를 하려 한다. 물론 이러한 정리는 필자 자신을 위해서가 더 크긴 하다.
프로젝트 설계 　과거에 토이프로젝트로 진행했던 기술블로그 구독서비스 의 경험을 되새기면서 처음부터 황소처럼 달려드는것보단 충분에 충족을 더해 충만해 질때까지 고민을 오랬동안 해보기로 했다. (그래봤자 하루정도&mldr;?^^)
　우선 데이터를 어딘가에서 가져오고 가져온 데이터를 DB에 저장할 것인지 아니면 저장하지 않고 휘발성으로 조회후 버리는(?) 형태로 할것인지를 고민해야했다. 공모주 라는 데이터의 특성상 한번 정해진 메타 데이터가 상황에 따라 변경이 될수도 있다고 했기에(일정이 변경되거나 공모가가 변경되거나 등) DB에 저장을 하게 되면 이를 동기화(Sync)하는 비용이 추가로 생길것 같아서 알림을 보내기 직전에만 조회하고 버리는 형태를 생각했다.
　그렇게 데이터를 조회했다면 이를 입맛에 맞게 가공하고서 사용자에게 알림을 줘야한다. 알림을 발생시키는 방법은 매우 다양한데 뭔가 적은 비용으로 구성하고 싶었다. 즉, 알림을 받는 사용자가 10명, 100명, 1000명 이 되어도 (그렇게 될지는 모르겠지만;;) 내가 만든 서비스에서 알림수신인이 늘어나는 경우를 고려하지 않아도 되었으면 했다. 그에 생각한게 메신저 API. 그중에서도 텔레그램 API가 뭔가 이런 형식으로 딱일것 같았기 때문이다. 결국 데이터를 메세지 형태에 맞춰 한번만 발송하게 되면 1:N 형식(Broadcast)으로 텔레그램 채널을 구독하고 있는 사용자들에게 전송이 될테니 안성맞춤이었다.
　그럼 언제 어떤정보를 알려주는게 좋을까? 청약이 보통 오전에 시작하기 때문에 대략 매일 오전 9시에 관련 정보들을 보내주면 될 것 같았다. 3일 전에 청약을 시작하게 되니 미리 준비 하라는 알림. 그리고 청약 날짜가 도래해서 잊지 말고 청약을 신청 하라는 알림. 마지막으로 공모주가 상장을 하게 되는 알림. 이 세가지 알림만 잘 챙긴다면 필자같은 주린이들도 충분히 공모주 청약으로 치킨을 먹을수 있을꺼라 생각했다.
　마지막으로 이 모든 내용을 개발한 어플리케이션을 어느곳에 배포해야 하는지를 결정해야했다. 항상 머릿속에는 있었지만 한번도 안해본 클라우드 Paas 인 heroku가 딱일꺼라 생각했다. (실제로 해보지 않았던 지금까지는 그랬다&mldr;) 다들 토이프로젝트 서버로 잘 활용한다는 소리를 들었고 가장 큰 장점은 &lsquo;무료&rsquo;라는 점에서 heroku를 선택하지 않을수 없었다.
 참, 이번 토이프로젝트는 전부 &lsquo;무료 서비스&rsquo;를 이용하려 했다."><meta property="og:type" content="article"><meta property="og:url" content="https://taetaetae.github.io/posts/public-offering-notice-1/"><meta property="og:image" content="https://taetaetae.github.io/images/public-offering-notice-1/logo.jpg"><meta property="article:published_time" content="2021-03-21T19:13:49+09:00"><meta property="article:modified_time" content="2021-03-21T19:13:49+09:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://taetaetae.github.io/images/public-offering-notice-1/logo.jpg"><meta name=twitter:title content="공모주 알리미 개발 후기 - 1부"><meta name=twitter:description content="작년부터 시작된 &lsquo;동학개미운동&rsquo;에 언제부터인가 필자도 주린이로써 동참을 하게 되었다. 최근에는 &lsquo;공모주 청약&rsquo; 이라는걸 알게 되었는데 따라해보고 정신차려보니 치킨 한마리정도의 수익을 얻는 기적이 일어났다. 공모주란 정해진 일자에 청약을 하고 배정을 받으면 해당 주식이 상장을 하기 전에 미리 살 수 있다는 &lsquo;기회&rsquo;로 이해했다. (주린이라 이해의 범위가 여기까지다&mldr;) 공모주 배정이 로또처럼 엄청난 큰 수익률을 가져다 주는건 아니지만 앞서 이야기 한것처럼 언제 있을지 모르는 공모주 청약을 꼬박꼬박 챙겨서 하게 된다면 맛있는 치킨을 먹을 수 있겠다는 기대감이 부풀었다. (치킨은 역시 교촌 허니콤보&mldr;)
주린이는 계속 자야 할까 싶다. 출처 : https://b-s-d.tistory.com/8&#34; 주린이는 계속 자야 할까 싶다.
출처 : https://b-s-d.tistory.com/8  　치킨이 머릿속에 맴도는 시간도 잠시. 필자의 머리를 스치는 하나의 생각. 그러면 공모주 청약은 언제하는거지? 청약 하니까 준비하라고 누가 알려주면 좋을텐데&mldr; 그러면서 이런저런 검색을 해보니 안드로이드 앱은 이미 있었고, IOS 앱은 없었다. 음? 그럼 이걸 내가 만들어보면 어떨까?
　결론부터 말하자면, 텔레그램을 활용하여 자동화 공모주 알림봇을 만들게 되었다. 혹시 공모주에 관심이 있다면 필자가 만든 텔레그램 채널을 가입하는것도 좋을것 같다.
　이번 글에서는 필자의 새로운 토이 프로젝트인 &lsquo;공모주 알리미&rsquo;를 만들게 된 배경과 설계, 그리고 개발부터 릴리즈까지에 대해 이야기를 해보고자 한다. 크게 아래의 목차로 이야기 하게 될것 같다.
 1부 : 프로젝트 설계, 데이터 수집 2부 : 수집한 데이터 알림 3부 : 서버 선정 및 릴리즈  　자칫 너무 간단한데~, 이런걸 구지 왜 만들어? 라는 시각이 있을수 있겠지만 토이프로젝트를 해야지 하고 마음을 먹었지만 막상 시작을 못하고 있는 어느 누군가에게는 도움이 될 내용인것 같아서 꽤 자세히 정리를 하려 한다. 물론 이러한 정리는 필자 자신을 위해서가 더 크긴 하다.
프로젝트 설계 　과거에 토이프로젝트로 진행했던 기술블로그 구독서비스 의 경험을 되새기면서 처음부터 황소처럼 달려드는것보단 충분에 충족을 더해 충만해 질때까지 고민을 오랬동안 해보기로 했다. (그래봤자 하루정도&mldr;?^^)
　우선 데이터를 어딘가에서 가져오고 가져온 데이터를 DB에 저장할 것인지 아니면 저장하지 않고 휘발성으로 조회후 버리는(?) 형태로 할것인지를 고민해야했다. 공모주 라는 데이터의 특성상 한번 정해진 메타 데이터가 상황에 따라 변경이 될수도 있다고 했기에(일정이 변경되거나 공모가가 변경되거나 등) DB에 저장을 하게 되면 이를 동기화(Sync)하는 비용이 추가로 생길것 같아서 알림을 보내기 직전에만 조회하고 버리는 형태를 생각했다.
　그렇게 데이터를 조회했다면 이를 입맛에 맞게 가공하고서 사용자에게 알림을 줘야한다. 알림을 발생시키는 방법은 매우 다양한데 뭔가 적은 비용으로 구성하고 싶었다. 즉, 알림을 받는 사용자가 10명, 100명, 1000명 이 되어도 (그렇게 될지는 모르겠지만;;) 내가 만든 서비스에서 알림수신인이 늘어나는 경우를 고려하지 않아도 되었으면 했다. 그에 생각한게 메신저 API. 그중에서도 텔레그램 API가 뭔가 이런 형식으로 딱일것 같았기 때문이다. 결국 데이터를 메세지 형태에 맞춰 한번만 발송하게 되면 1:N 형식(Broadcast)으로 텔레그램 채널을 구독하고 있는 사용자들에게 전송이 될테니 안성맞춤이었다.
　그럼 언제 어떤정보를 알려주는게 좋을까? 청약이 보통 오전에 시작하기 때문에 대략 매일 오전 9시에 관련 정보들을 보내주면 될 것 같았다. 3일 전에 청약을 시작하게 되니 미리 준비 하라는 알림. 그리고 청약 날짜가 도래해서 잊지 말고 청약을 신청 하라는 알림. 마지막으로 공모주가 상장을 하게 되는 알림. 이 세가지 알림만 잘 챙긴다면 필자같은 주린이들도 충분히 공모주 청약으로 치킨을 먹을수 있을꺼라 생각했다.
　마지막으로 이 모든 내용을 개발한 어플리케이션을 어느곳에 배포해야 하는지를 결정해야했다. 항상 머릿속에는 있었지만 한번도 안해본 클라우드 Paas 인 heroku가 딱일꺼라 생각했다. (실제로 해보지 않았던 지금까지는 그랬다&mldr;) 다들 토이프로젝트 서버로 잘 활용한다는 소리를 들었고 가장 큰 장점은 &lsquo;무료&rsquo;라는 점에서 heroku를 선택하지 않을수 없었다.
 참, 이번 토이프로젝트는 전부 &lsquo;무료 서비스&rsquo;를 이용하려 했다."><meta name=application-name content="👨‍💻꿈꾸는 태태태의 공간"><meta name=apple-mobile-web-app-title content="👨‍💻꿈꾸는 태태태의 공간"><meta name=naver-site-verification content="2d1cdbb963ba178aa7cbf58500afc668cae1e645"><meta name=google-site-verification content="vvFCdv0-GuQhEWG8vtNJfA7YSY2HYQ1hpHh9P-a6Pv8"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://taetaetae.github.io/posts/public-offering-notice-1/><link rel=prev href=https://taetaetae.github.io/posts/a-good-developer-in-terms-of-mentoring/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"공모주 알리미 개발 후기 - 1부","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/taetaetae.github.io\/posts\/public-offering-notice-1\/"},"genre":"posts","keywords":"public-offering-notice, jsoup, crawling","wordcount":748,"url":"https:\/\/taetaetae.github.io\/posts\/public-offering-notice-1\/","datePublished":"2021-03-21T19:13:49+09:00","dateModified":"2021-03-21T19:13:49+09:00","publisher":{"@type":"Organization","name":"태태태"},"author":{"@type":"Person","name":"태태태"},"description":""}</script></head><body header-desktop=auto header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="👨‍💻꿈꾸는 태태태의 공간">👨‍💻꿈꾸는 태태태의 공간</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="👨‍💻꿈꾸는 태태태의 공간">👨‍💻꿈꾸는 태태태의 공간</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/>Posts</a><a class=menu-item href=/tags/>Tags</a><a class=menu-item href=/categories/>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:inline-block;width:260px;height:600px data-ad-client=ca-pub-5788330009690816 data-ad-slot=2248955907></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div><article class="page single"><h1 class="single-title animated flipInX">공모주 알리미 개발 후기 - 1부</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://taetaetae.github.io/resume title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>태태태</a></span>&nbsp;<span class=post-category>included in <a href=/categories/tech/><i class="far fa-folder fa-fw"></i>Tech</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-03-21>2021-03-21</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;748 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/images/public-offering-notice-1/logo.jpg data-srcset="/images/public-offering-notice-1/logo.jpg, /images/public-offering-notice-1/logo.jpg 1.5x, /images/public-offering-notice-1/logo.jpg 2x" data-sizes=auto alt=/images/public-offering-notice-1/logo.jpg title=/images/public-offering-notice-1/logo.jpg></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#프로젝트-설계>프로젝트 설계</a></li><li><a href=#데이터-수집>데이터 수집</a></li><li><a href=#마치며>마치며</a></li></ul></nav></div></div><div class=content id=content><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block;height:150px data-ad-client=ca-pub-5788330009690816 data-ad-slot=9180895229 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script><p>　작년부터 시작된 &lsquo;동학개미운동&rsquo;에 언제부터인가 필자도 주린이로써 동참을 하게 되었다. 최근에는 &lsquo;공모주 청약&rsquo; 이라는걸 알게 되었는데 따라해보고 정신차려보니 치킨 한마리정도의 수익을 얻는 기적이 일어났다. 공모주란 정해진 일자에 청약을 하고 배정을 받으면 해당 주식이 상장을 하기 전에 미리 살 수 있다는 &lsquo;기회&rsquo;로 이해했다. (주린이라 이해의 범위가 여기까지다&mldr;) 공모주 배정이 로또처럼 엄청난 큰 수익률을 가져다 주는건 아니지만 앞서 이야기 한것처럼 언제 있을지 모르는 공모주 청약을 꼬박꼬박 챙겨서 하게 된다면 맛있는 치킨을 먹을 수 있겠다는 기대감이 부풀었다. (치킨은 역시 교촌 허니콤보&mldr;)</p><figure><a class=lightgallery href=/images/public-offering-notice-1/stock.jpg title=/images/public-offering-notice-1/stock.jpg data-thumbnail=/images/public-offering-notice-1/stock.jpg data-sub-html="<h2>주린이는 계속 자야 할까 싶다. 출처 : https://b-s-d.tistory.com/8</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/public-offering-notice-1/stock.jpg data-srcset="/images/public-offering-notice-1/stock.jpg, /images/public-offering-notice-1/stock.jpg 1.5x, /images/public-offering-notice-1/stock.jpg 2x" data-sizes=auto alt=/images/public-offering-notice-1/stock.jpg width=50%></a><figcaption class=image-caption>주린이는 계속 자야 할까 싶다.<br>출처 : <a href=https://b-s-d.tistory.com/8>https://b-s-d.tistory.com/8</a></figcaption></figure><p>　치킨이 머릿속에 맴도는 시간도 잠시. 필자의 머리를 스치는 하나의 생각. 그러면 공모주 청약은 언제하는거지? 청약 하니까 준비하라고 누가 알려주면 좋을텐데&mldr; 그러면서 이런저런 검색을 해보니 안드로이드 앱은 이미 있었고, IOS 앱은 없었다. 음? 그럼 이걸 내가 만들어보면 어떨까?</p><p>　결론부터 말하자면, 텔레그램을 활용하여 자동화 공모주 알림봇을 만들게 되었다. 혹시 공모주에 관심이 있다면 필자가 만든 <a href=https://t.me/PublicOfferingNotice target=_blank rel="noopener noreffer">텔레그램 채널</a>을 가입하는것도 좋을것 같다.</p><p>　이번 글에서는 필자의 새로운 토이 프로젝트인 &lsquo;공모주 알리미&rsquo;를 만들게 된 배경과 설계, 그리고 개발부터 릴리즈까지에 대해 이야기를 해보고자 한다. 크게 아래의 목차로 이야기 하게 될것 같다.</p><ul><li>1부 : 프로젝트 설계, 데이터 수집</li><li>2부 : 수집한 데이터 알림</li><li>3부 : 서버 선정 및 릴리즈</li></ul><p>　자칫 너무 간단한데~, 이런걸 구지 왜 만들어? 라는 시각이 있을수 있겠지만 토이프로젝트를 해야지 하고 마음을 먹었지만 막상 시작을 못하고 있는 어느 누군가에게는 도움이 될 내용인것 같아서 꽤 자세히 정리를 하려 한다. 물론 이러한 정리는 필자 자신을 위해서가 더 크긴 하다.</p><h2 id=프로젝트-설계>프로젝트 설계</h2><p>　과거에 토이프로젝트로 진행했던 <a href=http://daily-devblog.com/ target=_blank rel="noopener noreffer">기술블로그 구독서비스</a> 의 경험을 되새기면서 처음부터 황소처럼 달려드는것보단 충분에 충족을 더해 충만해 질때까지 고민을 오랬동안 해보기로 했다. (그래봤자 하루정도&mldr;?^^)</p><p>　우선 데이터를 어딘가에서 가져오고 가져온 데이터를 DB에 저장할 것인지 아니면 저장하지 않고 휘발성으로 조회후 버리는(?) 형태로 할것인지를 고민해야했다. 공모주 라는 데이터의 특성상 한번 정해진 메타 데이터가 상황에 따라 변경이 될수도 있다고 했기에(일정이 변경되거나 공모가가 변경되거나 등) DB에 저장을 하게 되면 이를 동기화(Sync)하는 비용이 추가로 생길것 같아서 알림을 보내기 직전에만 조회하고 버리는 형태를 생각했다.</p><p>　그렇게 데이터를 조회했다면 이를 입맛에 맞게 가공하고서 사용자에게 알림을 줘야한다. 알림을 발생시키는 방법은 매우 다양한데 뭔가 적은 비용으로 구성하고 싶었다. 즉, 알림을 받는 사용자가 10명, 100명, 1000명 이 되어도 (그렇게 될지는 모르겠지만;;) 내가 만든 서비스에서 알림수신인이 늘어나는 경우를 고려하지 않아도 되었으면 했다. 그에 생각한게 메신저 API. 그중에서도 텔레그램 API가 뭔가 이런 형식으로 딱일것 같았기 때문이다. 결국 데이터를 메세지 형태에 맞춰 한번만 발송하게 되면 1:N 형식(Broadcast)으로 텔레그램 채널을 구독하고 있는 사용자들에게 전송이 될테니 안성맞춤이었다.</p><p>　그럼 언제 어떤정보를 알려주는게 좋을까? 청약이 보통 오전에 시작하기 때문에 대략 매일 오전 9시에 관련 정보들을 보내주면 될 것 같았다. 3일 전에 청약을 시작하게 되니 미리 준비 하라는 알림. 그리고 청약 날짜가 도래해서 잊지 말고 청약을 신청 하라는 알림. 마지막으로 공모주가 상장을 하게 되는 알림. 이 세가지 알림만 잘 챙긴다면 필자같은 주린이들도 충분히 공모주 청약으로 치킨을 먹을수 있을꺼라 생각했다.</p><p>　마지막으로 이 모든 내용을 개발한 어플리케이션을 어느곳에 배포해야 하는지를 결정해야했다. 항상 머릿속에는 있었지만 한번도 안해본 클라우드 Paas 인 <a href=https://dashboard.heroku.com/ target=_blank rel="noopener noreffer">heroku</a>가 딱일꺼라 생각했다. (실제로 해보지 않았던 지금까지는 그랬다&mldr;) 다들 토이프로젝트 서버로 잘 활용한다는 소리를 들었고 가장 큰 장점은 &lsquo;무료&rsquo;라는 점에서 heroku를 선택하지 않을수 없었다.</p><blockquote><p>참, 이번 토이프로젝트는 전부 &lsquo;무료 서비스&rsquo;를 이용하려 했다. 이 서비스가 비지니스 모델이 있는것도 아니고 그렇다고 후원을 받자니 턱없이 부족할것만 같았다. (그럼에도 불구하고 후원 버튼은 달아둘 예정이긴 하다.)</p></blockquote><h2 id=데이터-수집>데이터 수집</h2><p>　국내 공모주 데이터는 <a href=http://38.co.kr/ target=_blank rel="noopener noreffer">38커뮤니케이션</a> 홈페이지에서 얻을수 있었다. 꽤 자세하고 방대한 정보가 있었지만 필자가 원하는 데이터는 대부분 <a href="http://www.38.co.kr/html/fund/index.htm?o=k" target=_blank rel="noopener noreffer">이 페이지</a>에 나와 있었기에 이 페이지를 크롤링 하면 되겠구나 싶었다.</p><blockquote><p>크롤링에 대한 법적인 문제는 깊게 고민하지 않았다. 해당 데이터를 가지고 영리목적으로 활용하는것도 아니고 오히려 필자같은 주린이들이 공모주에 더 참여할 수 있게 도와주는(?)거라 생각이 든다. 혹시 문제가 된다는 연락이 오게 되면 서비스를 내릴수도 있을것 같다&mldr;ㅠ</p></blockquote><p>　이번엔 조금이라도 더 친숙한 Java + Spring 조합으로 만들게 되었다. 그러다보니 크롤링을 위해서 오픈소스를 사용해야 했는데 <a href=https://github.com/jhy/jsoup target=_blank rel="noopener noreffer">jsoup</a>와 <a href=https://github.com/yasserg/crawler4j target=_blank rel="noopener noreffer">crawler4j</a>를 찾을 수 있었다. 조금만 더 검색해보면 대부분 jsoup를 사용하는 사람들이 많았고 마지막 업데이트 일자도 jsoup가 crawler4j보다 나름 최신 이라 jsoup를 사용해서 크롤링을 하면 될 것 같았다.</p><p>　우선 아래처럼 dependency를 추가해주고</p><div class=highlight><pre class=chroma><code class=language-markdown data-lang=markdown>dependencies {
    implementation &#39;org.jsoup:jsoup:1.13.1&#39;
}
</code></pre></div><p>　jsoup을 이용하여 페이지를 읽어와보자.</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=n>Document</span> <span class=n>document</span><span class=o>;</span>
<span class=k>try</span> <span class=o>{</span>
  <span class=n>document</span> <span class=o>=</span> <span class=n>Jsoup</span><span class=o>.</span><span class=na>connect</span><span class=o>(</span><span class=s>&#34;http://www.38.co.kr/html/fund/index.htm?o=k&#34;</span><span class=o>).</span><span class=na>get</span><span class=o>();</span>
<span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>IOException</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
  <span class=n>logger</span><span class=o>.</span><span class=na>error</span><span class=o>(</span><span class=n>e</span><span class=o>);</span>
<span class=o>}</span>
</code></pre></div><figure><a class=lightgallery href=/images/public-offering-notice-1/38.jpg title=/images/public-offering-notice-1/38.jpg data-thumbnail=/images/public-offering-notice-1/38.jpg data-sub-html="<h2>크롤링 할 데이터 영역</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/public-offering-notice-1/38.jpg data-srcset="/images/public-offering-notice-1/38.jpg, /images/public-offering-notice-1/38.jpg 1.5x, /images/public-offering-notice-1/38.jpg 2x" data-sizes=auto alt=/images/public-offering-notice-1/38.jpg width=100%></a><figcaption class=image-caption>크롤링 할 데이터 영역</figcaption></figure><p>　이후 css문법으로 원하는 DOM을 선택해야 하는데 아쉽게도 원하는 Table에 id나 css가 없어 바로 선택하기 어려워서 한참을 해매다 다행히 &lsquo;summary&rsquo;항목이 table 마다 달라서 이를 활용해서 가져오게 된다. 이후 여러 tr 요소들을 순회하면서 데이터를 가져오자.</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=n>Elements</span> <span class=n>trElements</span> <span class=o>=</span> <span class=n>document</span><span class=o>.</span><span class=na>select</span><span class=o>(</span><span class=s>&#34;table[summary=&#39;공모주 청약일정&#39;] tr&#34;</span><span class=o>);</span>
<span class=k>for</span> <span class=o>(</span><span class=n>Element</span> <span class=n>trElement</span> <span class=o>:</span> <span class=n>trElements</span><span class=o>)</span> <span class=o>{</span>
	<span class=n>Elements</span> <span class=n>tdElements</span> <span class=o>=</span> <span class=n>trElement</span><span class=o>.</span><span class=na>select</span><span class=o>(</span><span class=err>&#39;</span><span class=n>td</span><span class=err>&#39;</span><span class=o>);</span>
	<span class=c1>// 헤더 제외
</span><span class=c1></span>	<span class=k>if</span> <span class=o>(</span><span class=n>tdElements</span><span class=o>.</span><span class=na>size</span><span class=o>()</span> <span class=o>!=</span> <span class=n>7</span><span class=o>)</span> <span class=o>{</span>
		<span class=k>continue</span><span class=o>;</span>
	<span class=o>}</span>
	<span class=n>tdElements</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>0</span><span class=o>).</span><span class=na>text</span><span class=o>();</span> <span class=c1>// 공모주 이름
</span><span class=c1></span>	<span class=n>tdElements</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>2</span><span class=o>).</span><span class=na>text</span><span class=o>();</span> <span class=c1>// 확정 공모가 
</span><span class=c1></span>	<span class=c1>// ...
</span><span class=c1></span><span class=o>}</span>
</code></pre></div><h2 id=마치며>마치며</h2><p>　여기까지 토이프로젝트에 대해 다양한 시각으로 설계를 해보았고 공모주 관련 데이터를 크롤링을 통해 가져왔다. 다음으로는 가져온 이 데이터를 텔레그램 API 를 사용해서 텔레그램 채널에 보내보도록 하자.</p><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block;height:150px data-ad-client=ca-pub-5788330009690816 data-ad-slot=9180895229 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div><center><style>.bmc-button img{width:27px!important;margin-bottom:1px!important;box-shadow:none!important;border:none!important;vertical-align:middle!important}.bmc-button{line-height:29px!important;height:30px!important;text-decoration:none!important;display:inline-flex!important;color:#000!important;background-color:#fd0!important;border-radius:3px!important;border:1px solid transparent!important;padding:1px 9px!important;font-size:22px!important;letter-spacing:.6px!important;box-shadow:0 1px 2px rgba(190,190,190,.5)!important;-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;margin:0 auto!important;font-family:cookie,cursive!important;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;-o-transition:.3s all linear!important;-webkit-transition:.3s all linear!important;-moz-transition:.3s all linear!important;-ms-transition:.3s all linear!important;transition:.3s all linear!important}.bmc-button:hover,.bmc-button:active,.bmc-button:focus{-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;text-decoration:none!important;box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;opacity:.85!important;color:#000!important}</style><link href="https://fonts.googleapis.com/css?family=Cookie" rel=stylesheet><center><br><a class=bmc-button target=_blank href=https://www.buymeacoffee.com/taetaetae><img src=https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg alt="Buy me a coffee"><span style=margin-left:5px>Buy me a coffee</span></a>
<a href=https://bit.ly/ddbSupport target=_blank><img src=https://i.imgur.com/peaYpjh.png style=height:28px></a></center><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2021-03-21</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://taetaetae.github.io/posts/public-offering-notice-1/ data-title="공모주 알리미 개발 후기 - 1부" data-hashtags=public-offering-notice,jsoup,crawling><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://taetaetae.github.io/posts/public-offering-notice-1/ data-hashtag=public-offering-notice><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://taetaetae.github.io/posts/public-offering-notice-1/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Blogger" data-sharer=blogger data-url=https://taetaetae.github.io/posts/public-offering-notice-1/ data-title="공모주 알리미 개발 후기 - 1부" data-description><i class="fab fa-blogger fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/public-offering-notice/>public-offering-notice</a>,&nbsp;<a href=/tags/jsoup/>jsoup</a>,&nbsp;<a href=/tags/crawling/>crawling</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/a-good-developer-in-terms-of-mentoring/ class=prev rel=prev title="그런 개발자로 괜찮은가 - '멘토링' 편"><i class="fas fa-angle-left fa-fw"></i>그런 개발자로 괜찮은가 - '멘토링' 편</a></div></div><div id=comments><div id=utterances></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://utteranc.es/>Utterances</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.74.3">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i>LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2016 - 2021</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://taetaetae.github.io/resume target=_blank>태태태</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":500},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"Comment","lightTheme":"github-light","repo":"taetaetae/blog-comment"}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true}};</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','UA-86432198-1',{'anonymize_ip':true});</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-86432198-1" async></script></body></html>