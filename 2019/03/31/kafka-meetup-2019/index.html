<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>KafkaKRU(Kafka 한국사용자 모임) 밋업 후기 - 👨‍💻꿈꾸는 태태태의 공간</title><meta name=Description content><meta property="og:title" content="KafkaKRU(Kafka 한국사용자 모임) 밋업 후기"><meta property="og:description" content="필자는 ElasticStack을 사용하면서 처음 카프카를 접하게 되었다. 메세징 큐 라는 개념도 전혀 모르는 상태에서 설치부터 ElasticStack 연동까지 사용하며 정말 강제로 카프카에 대해 공부를 하게 되었다. 카프카를 자주 다루고 메커니즘에 대해 자세히 살펴보다 잠깐 해이해질 무렵 카프카 한국 사용자 모임에서 밋업을 한다고 하길래 빛의 속도로 신청, 아마도 1등으로 신청했지 않았을까 싶다.사실 작년 카프카 밋업을 못간게 너무 한(?)이 되어 이번엔 회사 업무 등 여러가지로 한창 바쁘지만 &ldquo;지금이 아니면 안돼&rdquo; 라는 생각으로 밋업을 다녀왔고, 짧지만 후기를 작성해 보고자 한다.
 (요즘 왜 이렇게 바쁜지 모르겠지만&mldr; 신기하게도 그 바쁜 일정들이 하나도 겹치지 않는게 더 신기하다&mldr; )
 삼성 SDS 건물에서 진행된 카프카 밋업&#34; 삼성 SDS 건물에서 진행된 카프카 밋업  참고로 필자는 카프카에 대해 아주 조금 건드려본 수준이라 발표하시는 분들의 전부를 습득하기엔 다소 그릇이 작아서 일부 세션은 거의 &ldquo;그런가보다~&rdquo; 하고 들을 수 밖에 없었다. 후기도 아마 그런 맥락으로 작성할듯 싶다.
 Kafka 한국 사용자 모임 링크 : https://www.facebook.com/groups/kafka.kru  카프카를 활용한 캐시 로그 처리 - 김현준(카카오)  이미지 등 캐시서버의 로그를 분석하기 위한 시스템을 구축하는데 ElasticStack 을 활용 Elasticsearch 로 늦게 들어와서 사례를 찾아보니 대용량 로깅 처리시 앞단에 메세징 큐를 둬야 한다고 했고 그게 카프카 카프카 모니터링은 그라파나로 활용 lag이 자꾸 생김  파티션을 쪼개거나, 컨슈머를 늘리는 방법이 있음 auto.commit.interval.ms 와 enable.auto.commit=true 로 조정 interval을 줄이니 lag이 줄어듬   현재는 수백대 캐시서버의 로그를 초당 15만건 이상 처리중  질문을 했다. 필자도 lag이 높아지면 어쩌지 하는 불안감과 높아지면 컨슈머를 늘리면 되겠지 하는 막연함이 있었는데 commit interval을 줄이면 lag이 줄어든다고 해서 무조건 줄이면 좋은가에 답변은 카프카를 관리하는 주키퍼쪽에 무리가 간다고 설명해 주셨다. 역시 만병통치약은 없고 상황에 따라 적절하게 시스템 관리자가 조정해가며 운영해야 하는점을 느꼈다.
 참고 URL : https://kafka.apache.org/documentation/#adminclientconfigs  카프카를 활용한 엘라스틱서치 실무프로젝트 소개 - 이은학(메가존)  카드사의 프로젝트를 약 3개월간 개발하였고 전체 아키텍쳐 중에 일부분을 kakfa를 활용 Elasticsearch 데이터를 hadoop에 백업 형태로 옮기며 관리 filebeat > kafka > spark streaming 을 활용하여 데이터의 검증처리가 가능 (특정 상황에서의 관리자에게 알림 등) logstash 의 ruby 필터를 활용하여 일정의 작업을 해주는 데이터 파이프라인 구성 가능 (개인정보 식별 등) logstash 는 cron형태의 배치로도 가능  또 질문을 하였다. (카프카 밋업과는 무관했지만&mldr;) logastsh 를 사용하면서 필터쪽에 로직이 들어가면 성능상 괜찮냐는 질문에 하루에 15억건을 처리하고있고 문제가 없었다고 한다. 필자는 아파치 엑세스 로그를 logstash로 처리하면서 간혹 뻗거나 에러가 발생했는데 아마 파일을 logstash가 직접 바라보고 처리도 하게해서 그런것 같다. (지금은 filebeat가 shipper 역활을 수행하고 있고 큰 무리 없이 운영중)
카프카를 활용한 rabbitMQ 로그처리 - 정원빈 (카카오)  레빗엠큐는 erlang으로 구현된 AMQP 메시지 브로커이고 TCP기반으로 구성 Kafka 는 게으르지만 메우 효율성이 뛰어남, 반면 RabbitMQ 는 똑똑하지만 보다 느림 Kafka 에서 Elasticsearch 로의 ingset 는 NIFI를 활용 레빗엠큐와 카프카의 차이     Kafka RabbitMQ     컨슈머 추가 여러 컨슈머가 하나의 메세지를 동시에 할수 있어 확장에 용이함 확장할때마다 큐를 추가 생성해야함   메세지 저장 로그기반으로 디스크에 저장, 리텐션 이후 삭제 큐 기반으로 메모리에 저장 컨슈머가 메세지 수신시 즉시 삭제   메세지 처리 발송확인 가능 / 수신확인 불가능 발송확인/수신확인 가능      카프카를 마이크로서비스 아키텍쳐에 활용하기 - 이동진 (아파치 소프트웨어 파운데이션)  카프카 스트림즈 소개 (Interactive Query) 카프카를 활용하여 마이크로서비스에서 사용하려면 데이터를 임시 공간에 넣어두고 (redis 같은?"><meta property="og:type" content="article"><meta property="og:url" content="https://taetaetae.github.io/2019/03/31/kafka-meetup-2019/"><meta property="og:image" content="https://taetaetae.github.io/images/kafka-meetup-2019/kafka.jpg"><meta property="article:published_time" content="2019-03-31T01:49:30+00:00"><meta property="article:modified_time" content="2019-03-31T01:49:30+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://taetaetae.github.io/images/kafka-meetup-2019/kafka.jpg"><meta name=twitter:title content="KafkaKRU(Kafka 한국사용자 모임) 밋업 후기"><meta name=twitter:description content="필자는 ElasticStack을 사용하면서 처음 카프카를 접하게 되었다. 메세징 큐 라는 개념도 전혀 모르는 상태에서 설치부터 ElasticStack 연동까지 사용하며 정말 강제로 카프카에 대해 공부를 하게 되었다. 카프카를 자주 다루고 메커니즘에 대해 자세히 살펴보다 잠깐 해이해질 무렵 카프카 한국 사용자 모임에서 밋업을 한다고 하길래 빛의 속도로 신청, 아마도 1등으로 신청했지 않았을까 싶다.사실 작년 카프카 밋업을 못간게 너무 한(?)이 되어 이번엔 회사 업무 등 여러가지로 한창 바쁘지만 &ldquo;지금이 아니면 안돼&rdquo; 라는 생각으로 밋업을 다녀왔고, 짧지만 후기를 작성해 보고자 한다.
 (요즘 왜 이렇게 바쁜지 모르겠지만&mldr; 신기하게도 그 바쁜 일정들이 하나도 겹치지 않는게 더 신기하다&mldr; )
 삼성 SDS 건물에서 진행된 카프카 밋업&#34; 삼성 SDS 건물에서 진행된 카프카 밋업  참고로 필자는 카프카에 대해 아주 조금 건드려본 수준이라 발표하시는 분들의 전부를 습득하기엔 다소 그릇이 작아서 일부 세션은 거의 &ldquo;그런가보다~&rdquo; 하고 들을 수 밖에 없었다. 후기도 아마 그런 맥락으로 작성할듯 싶다.
 Kafka 한국 사용자 모임 링크 : https://www.facebook.com/groups/kafka.kru  카프카를 활용한 캐시 로그 처리 - 김현준(카카오)  이미지 등 캐시서버의 로그를 분석하기 위한 시스템을 구축하는데 ElasticStack 을 활용 Elasticsearch 로 늦게 들어와서 사례를 찾아보니 대용량 로깅 처리시 앞단에 메세징 큐를 둬야 한다고 했고 그게 카프카 카프카 모니터링은 그라파나로 활용 lag이 자꾸 생김  파티션을 쪼개거나, 컨슈머를 늘리는 방법이 있음 auto.commit.interval.ms 와 enable.auto.commit=true 로 조정 interval을 줄이니 lag이 줄어듬   현재는 수백대 캐시서버의 로그를 초당 15만건 이상 처리중  질문을 했다. 필자도 lag이 높아지면 어쩌지 하는 불안감과 높아지면 컨슈머를 늘리면 되겠지 하는 막연함이 있었는데 commit interval을 줄이면 lag이 줄어든다고 해서 무조건 줄이면 좋은가에 답변은 카프카를 관리하는 주키퍼쪽에 무리가 간다고 설명해 주셨다. 역시 만병통치약은 없고 상황에 따라 적절하게 시스템 관리자가 조정해가며 운영해야 하는점을 느꼈다.
 참고 URL : https://kafka.apache.org/documentation/#adminclientconfigs  카프카를 활용한 엘라스틱서치 실무프로젝트 소개 - 이은학(메가존)  카드사의 프로젝트를 약 3개월간 개발하였고 전체 아키텍쳐 중에 일부분을 kakfa를 활용 Elasticsearch 데이터를 hadoop에 백업 형태로 옮기며 관리 filebeat > kafka > spark streaming 을 활용하여 데이터의 검증처리가 가능 (특정 상황에서의 관리자에게 알림 등) logstash 의 ruby 필터를 활용하여 일정의 작업을 해주는 데이터 파이프라인 구성 가능 (개인정보 식별 등) logstash 는 cron형태의 배치로도 가능  또 질문을 하였다. (카프카 밋업과는 무관했지만&mldr;) logastsh 를 사용하면서 필터쪽에 로직이 들어가면 성능상 괜찮냐는 질문에 하루에 15억건을 처리하고있고 문제가 없었다고 한다. 필자는 아파치 엑세스 로그를 logstash로 처리하면서 간혹 뻗거나 에러가 발생했는데 아마 파일을 logstash가 직접 바라보고 처리도 하게해서 그런것 같다. (지금은 filebeat가 shipper 역활을 수행하고 있고 큰 무리 없이 운영중)
카프카를 활용한 rabbitMQ 로그처리 - 정원빈 (카카오)  레빗엠큐는 erlang으로 구현된 AMQP 메시지 브로커이고 TCP기반으로 구성 Kafka 는 게으르지만 메우 효율성이 뛰어남, 반면 RabbitMQ 는 똑똑하지만 보다 느림 Kafka 에서 Elasticsearch 로의 ingset 는 NIFI를 활용 레빗엠큐와 카프카의 차이     Kafka RabbitMQ     컨슈머 추가 여러 컨슈머가 하나의 메세지를 동시에 할수 있어 확장에 용이함 확장할때마다 큐를 추가 생성해야함   메세지 저장 로그기반으로 디스크에 저장, 리텐션 이후 삭제 큐 기반으로 메모리에 저장 컨슈머가 메세지 수신시 즉시 삭제   메세지 처리 발송확인 가능 / 수신확인 불가능 발송확인/수신확인 가능      카프카를 마이크로서비스 아키텍쳐에 활용하기 - 이동진 (아파치 소프트웨어 파운데이션)  카프카 스트림즈 소개 (Interactive Query) 카프카를 활용하여 마이크로서비스에서 사용하려면 데이터를 임시 공간에 넣어두고 (redis 같은?"><meta name=application-name content="👨‍💻꿈꾸는 태태태의 공간"><meta name=apple-mobile-web-app-title content="👨‍💻꿈꾸는 태태태의 공간"><meta name=naver-site-verification content="2d1cdbb963ba178aa7cbf58500afc668cae1e645"><meta name=google-site-verification content="vvFCdv0-GuQhEWG8vtNJfA7YSY2HYQ1hpHh9P-a6Pv8"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://taetaetae.github.io/2019/03/31/kafka-meetup-2019/><link rel=prev href=https://taetaetae.github.io/2019/03/24/write-the-docs-seoul-2019-review/><link rel=next href=https://taetaetae.github.io/2019/04/14/aws-freetier-create-and-ssh-access/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"KafkaKRU(Kafka 한국사용자 모임) 밋업 후기","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/taetaetae.github.io\/2019\/03\/31\/kafka-meetup-2019\/"},"genre":"posts","keywords":"kafka, archives-2019","wordcount":669,"url":"https:\/\/taetaetae.github.io\/2019\/03\/31\/kafka-meetup-2019\/","datePublished":"2019-03-31T01:49:30+00:00","dateModified":"2019-03-31T01:49:30+00:00","publisher":{"@type":"Organization","name":"태태태"},"author":{"@type":"Person","name":"태태태"},"description":""}</script></head><body header-desktop=auto header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="👨‍💻꿈꾸는 태태태의 공간">👨‍💻꿈꾸는 태태태의 공간</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="👨‍💻꿈꾸는 태태태의 공간">👨‍💻꿈꾸는 태태태의 공간</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/>Posts</a><a class=menu-item href=/tags/>Tags</a><a class=menu-item href=/categories/>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:inline-block;width:260px;height:600px data-ad-client=ca-pub-5788330009690816 data-ad-slot=2248955907></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div><article class="page single"><h1 class="single-title animated flipInX">KafkaKRU(Kafka 한국사용자 모임) 밋업 후기</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://taetaetae.github.io/resume title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>태태태</a></span>&nbsp;<span class=post-category>included in <a href=/categories/review/><i class="far fa-folder fa-fw"></i>review</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2019-03-31>2019-03-31</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;669 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/images/kafka-meetup-2019/kafka.jpg data-srcset="/images/kafka-meetup-2019/kafka.jpg, /images/kafka-meetup-2019/kafka.jpg 1.5x, /images/kafka-meetup-2019/kafka.jpg 2x" data-sizes=auto alt=/images/kafka-meetup-2019/kafka.jpg title=/images/kafka-meetup-2019/kafka.jpg></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#카프카를-활용한-캐시-로그-처리---김현준카카오>카프카를 활용한 캐시 로그 처리 - 김현준(카카오)</a></li><li><a href=#카프카를-활용한-엘라스틱서치-실무프로젝트-소개---이은학메가존>카프카를 활용한 엘라스틱서치 실무프로젝트 소개 - 이은학(메가존)</a></li><li><a href=#카프카를-활용한-rabbitmq-로그처리---정원빈-카카오>카프카를 활용한 rabbitMQ 로그처리 - 정원빈 (카카오)</a></li><li><a href=#카프카를-마이크로서비스-아키텍쳐에-활용하기---이동진-아파치-소프트웨어-파운데이션>카프카를 마이크로서비스 아키텍쳐에 활용하기 - 이동진 (아파치 소프트웨어 파운데이션)</a></li><li><a href=#카프카-프로듀서--컨슈머---강한구-카카오-모빌리티>카프카 프로듀서 & 컨슈머 - 강한구 (카카오 모빌리티)</a></li><li><a href=#마치며>마치며</a></li></ul></nav></div></div><div class=content id=content><p>필자는 ElasticStack을 사용하면서 처음 카프카를 접하게 되었다. 메세징 큐 라는 개념도 전혀 모르는 상태에서 설치부터 ElasticStack 연동까지 사용하며 정말 <code>강제로</code> 카프카에 대해 공부를 하게 되었다. 카프카를 자주 다루고 메커니즘에 대해 자세히 살펴보다 잠깐 해이해질 무렵 카프카 한국 사용자 모임에서 밋업을 한다고 하길래 빛의 속도로 신청, 아마도 1등으로 신청했지 않았을까 싶다.
사실 작년 카프카 밋업을 못간게 너무 한(?)이 되어 이번엔 회사 업무 등 여러가지로 한창 바쁘지만 &ldquo;지금이 아니면 안돼&rdquo; 라는 생각으로 밋업을 다녀왔고, 짧지만 후기를 작성해 보고자 한다.</p><blockquote><p>(요즘 왜 이렇게 바쁜지 모르겠지만&mldr; 신기하게도 그 바쁜 일정들이 하나도 겹치지 않는게 더 신기하다&mldr; )</p></blockquote><figure><a class=lightgallery href=/images/kafka-meetup-2019/first.jpg title=/images/kafka-meetup-2019/first.jpg data-thumbnail=/images/kafka-meetup-2019/first.jpg data-sub-html="<h2>삼성 SDS 건물에서 진행된 카프카 밋업</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/kafka-meetup-2019/first.jpg data-srcset="/images/kafka-meetup-2019/first.jpg, /images/kafka-meetup-2019/first.jpg 1.5x, /images/kafka-meetup-2019/first.jpg 2x" data-sizes=auto alt=/images/kafka-meetup-2019/first.jpg width=80%></a><figcaption class=image-caption>삼성 SDS 건물에서 진행된 카프카 밋업</figcaption></figure><p>참고로 필자는 카프카에 대해 아주 조금 건드려본 수준이라 발표하시는 분들의 전부를 습득하기엔 다소 그릇이 작아서 일부 세션은 거의 &ldquo;그런가보다~&rdquo; 하고 들을 수 밖에 없었다. 후기도 아마 그런 맥락으로 작성할듯 싶다.</p><ul><li>Kafka 한국 사용자 모임 링크 : <a href=https://www.facebook.com/groups/kafka.kru>https://www.facebook.com/groups/kafka.kru</a></li></ul><h2 id=카프카를-활용한-캐시-로그-처리---김현준카카오>카프카를 활용한 캐시 로그 처리 - 김현준(카카오)</h2><ul><li>이미지 등 캐시서버의 로그를 분석하기 위한 시스템을 구축하는데 ElasticStack 을 활용</li><li>Elasticsearch 로 늦게 들어와서 사례를 찾아보니 대용량 로깅 처리시 앞단에 메세징 큐를 둬야 한다고 했고 그게 카프카</li><li>카프카 모니터링은 그라파나로 활용</li><li>lag이 자꾸 생김<ul><li>파티션을 쪼개거나, 컨슈머를 늘리는 방법이 있음</li><li>auto.commit.interval.ms 와 enable.auto.commit=true 로 조정</li><li>interval을 줄이니 lag이 줄어듬</li></ul></li><li>현재는 수백대 캐시서버의 로그를 초당 15만건 이상 처리중</li></ul><p>질문을 했다. 필자도 lag이 높아지면 어쩌지 하는 불안감과 높아지면 컨슈머를 늘리면 되겠지 하는 막연함이 있었는데 commit interval을 줄이면 lag이 줄어든다고 해서 무조건 줄이면 좋은가에 답변은 카프카를 관리하는 주키퍼쪽에 무리가 간다고 설명해 주셨다. 역시 만병통치약은 없고 상황에 따라 적절하게 시스템 관리자가 조정해가며 운영해야 하는점을 느꼈다.</p><ul><li>참고 URL : <a href=https://kafka.apache.org/documentation/#adminclientconfigs target=_blank rel="noopener noreffer">https://kafka.apache.org/documentation/#adminclientconfigs</a></li></ul><h2 id=카프카를-활용한-엘라스틱서치-실무프로젝트-소개---이은학메가존>카프카를 활용한 엘라스틱서치 실무프로젝트 소개 - 이은학(메가존)</h2><ul><li>카드사의 프로젝트를 약 3개월간 개발하였고 전체 아키텍쳐 중에 일부분을 kakfa를 활용</li><li>Elasticsearch 데이터를 hadoop에 백업 형태로 옮기며 관리</li><li>filebeat > kafka > spark streaming 을 활용하여 데이터의 검증처리가 가능 (특정 상황에서의 관리자에게 알림 등)</li><li>logstash 의 ruby 필터를 활용하여 일정의 작업을 해주는 데이터 파이프라인 구성 가능 (개인정보 식별 등)</li><li>logstash 는 cron형태의 배치로도 가능</li></ul><p>또 질문을 하였다. (카프카 밋업과는 무관했지만&mldr;) logastsh 를 사용하면서 필터쪽에 로직이 들어가면 성능상 괜찮냐는 질문에 하루에 15억건을 처리하고있고 문제가 없었다고 한다. 필자는 아파치 엑세스 로그를 logstash로 처리하면서 간혹 뻗거나 에러가 발생했는데 아마 파일을 logstash가 직접 바라보고 처리도 하게해서 그런것 같다. (지금은 filebeat가 shipper 역활을 수행하고 있고 큰 무리 없이 운영중)</p><h2 id=카프카를-활용한-rabbitmq-로그처리---정원빈-카카오>카프카를 활용한 rabbitMQ 로그처리 - 정원빈 (카카오)</h2><ul><li>레빗엠큐는 erlang으로 구현된 AMQP 메시지 브로커이고 TCP기반으로 구성</li><li>Kafka 는 게으르지만 메우 효율성이 뛰어남, 반면 RabbitMQ 는 똑똑하지만 보다 느림</li><li>Kafka 에서 Elasticsearch 로의 ingset 는 NIFI를 활용</li><li>레빗엠큐와 카프카의 차이<table><thead><tr><th></th><th>Kafka</th><th>RabbitMQ</th></tr></thead><tbody><tr><td>컨슈머 추가</td><td>여러 컨슈머가 하나의 메세지를 동시에 할수 있어 확장에 용이함</td><td>확장할때마다 큐를 추가 생성해야함</td></tr><tr><td>메세지 저장</td><td>로그기반으로 디스크에 저장, 리텐션 이후 삭제</td><td>큐 기반으로 메모리에 저장 컨슈머가 메세지 수신시 즉시 삭제</td></tr><tr><td>메세지 처리</td><td>발송확인 가능 / 수신확인 불가능</td><td>발송확인/수신확인 가능</td></tr></tbody></table></li></ul><h2 id=카프카를-마이크로서비스-아키텍쳐에-활용하기---이동진-아파치-소프트웨어-파운데이션>카프카를 마이크로서비스 아키텍쳐에 활용하기 - 이동진 (아파치 소프트웨어 파운데이션)</h2><ul><li>카프카 스트림즈 소개 (Interactive Query)</li><li>카프카를 활용하여 마이크로서비스에서 사용하려면 데이터를 임시 공간에 넣어두고 (redis 같은?) 빼서 사용하는 형태가 아니라 Interactive Query 또는 Queryable Store 로 활용 가능</li></ul><p>사실 이부분은 필자가 제대로 못따라간 세션중에 하나이다. 용어나 메커니즘도 다소 생소했고 대략 어떤 부분을 발표해주시는지 느낌은 있었으나 제대로 이해를 못해서 &mldr; 부끄럽지만 카프카 스트림즈의 공식링크로 대체한다.</p><p><a href=https://kafka.apache.org/documentation/streams/ target=_blank rel="noopener noreffer">https://kafka.apache.org/documentation/streams/</a></p><h2 id=카프카-프로듀서--컨슈머---강한구-카카오-모빌리티>카프카 프로듀서 & 컨슈머 - 강한구 (카카오 모빌리티)</h2><ul><li>프로듀서<ul><li>메세지를 생산 및 전송</li><li>Accumulator : 사용자가 send한 record를 메모리 쌓는 역활</li><li>Network thread : 전송</li><li>각 옵션 활용법 (도큐먼트 문서로 대체)<ul><li><a href=https://docs.confluent.io/current/installation/configuration/producer-configs.html#linger-ms target=_blank rel="noopener noreffer">linger.ms</a></li><li><a href=https://docs.confluent.io/current/installation/configuration/producer-configs.html#max-request-size target=_blank rel="noopener noreffer">max.request</a></li><li><a href=https://docs.confluent.io/current/installation/configuration/producer-configs.html#max-in-flight-requests-per-connection target=_blank rel="noopener noreffer">max.in.flight.requests.per.connection</a></li></ul></li></ul></li><li>브로커<ul><li>메세지를 저장</li><li>topic name - partition 폴더 구조</li><li>세그먼트 단위로 저장 (*.index, *.log, *.timeindex)</li></ul></li><li>컨슈머<ul><li>Fetcher : 네트워크 스레드와 비슷한 역할</li><li>Coordinator : 어떤 토픽의 어떤 파티션을 comsume할지, 브로커의 그룹 코디네이터와 통신 (hearbeat, offset comit, consumer group join)</li></ul></li></ul><h2 id=마치며>마치며</h2><figure><a class=lightgallery href=/images/kafka-meetup-2019/meetup.jpg title=/images/kafka-meetup-2019/meetup.jpg data-thumbnail=/images/kafka-meetup-2019/meetup.jpg data-sub-html="<h2>발표자 분들과 질문 두번에서 받은 책선물</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/kafka-meetup-2019/meetup.jpg data-srcset="/images/kafka-meetup-2019/meetup.jpg, /images/kafka-meetup-2019/meetup.jpg 1.5x, /images/kafka-meetup-2019/meetup.jpg 2x" data-sizes=auto alt=/images/kafka-meetup-2019/meetup.jpg width=80%></a><figcaption class=image-caption>발표자 분들과 질문 두번에서 받은 책선물</figcaption></figure><p>확실히 수박 겉핥기 식으로 보다보니 지식에 대한 깊이도 얕아 발표자분이 전달하시고자 하는 내용을 100% 다 수용하기엔 힘들었다. 다음엔 가기전에 미리 밋업 발표에 대한 공부를 조금이라도 하고 들을 준비를 한 뒤에 참여하는것으로&mldr; 하지만 카프카를 활용해서 다양한 시스템 구성 방법론에 대해 간접으로라도 배울수 있었고, 현재 필자가 운영하고 있는 카프카의 설정값들을에 대해 잘 설정이 되어있나 (막연히 기본값들로만 설정되어 있지는 않은가) 살펴볼 계기가 만들어진것 같다. 이번에도 <code>다행히</code> &ldquo;행사에 참여하면 꼭 질문을 하나이상 하자!&rdquo; 라는 나와의 약속을 지킬수 있어 다행이었다.</p></div><center><style>.bmc-button img{width:27px!important;margin-bottom:1px!important;box-shadow:none!important;border:none!important;vertical-align:middle!important}.bmc-button{line-height:29px!important;height:30px!important;text-decoration:none!important;display:inline-flex!important;color:#000!important;background-color:#fd0!important;border-radius:3px!important;border:1px solid transparent!important;padding:1px 9px!important;font-size:22px!important;letter-spacing:.6px!important;box-shadow:0 1px 2px rgba(190,190,190,.5)!important;-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;margin:0 auto!important;font-family:cookie,cursive!important;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;-o-transition:.3s all linear!important;-webkit-transition:.3s all linear!important;-moz-transition:.3s all linear!important;-ms-transition:.3s all linear!important;transition:.3s all linear!important}.bmc-button:hover,.bmc-button:active,.bmc-button:focus{-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;text-decoration:none!important;box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;opacity:.85!important;color:#000!important}</style><link href="https://fonts.googleapis.com/css?family=Cookie" rel=stylesheet><center><br><a class=bmc-button target=_blank href=https://www.buymeacoffee.com/taetaetae><img src=https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg alt="Buy me a coffee"><span style=margin-left:5px>Buy me a coffee</span></a>
<a href=https://bit.ly/ddbSupport target=_blank><img src=https://i.imgur.com/peaYpjh.png style=height:28px></a></center><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2019-03-31</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://taetaetae.github.io/2019/03/31/kafka-meetup-2019/ data-title="KafkaKRU(Kafka 한국사용자 모임) 밋업 후기" data-hashtags=kafka,archives-2019><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://taetaetae.github.io/2019/03/31/kafka-meetup-2019/ data-hashtag=kafka><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://taetaetae.github.io/2019/03/31/kafka-meetup-2019/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Blogger" data-sharer=blogger data-url=https://taetaetae.github.io/2019/03/31/kafka-meetup-2019/ data-title="KafkaKRU(Kafka 한국사용자 모임) 밋업 후기" data-description><i class="fab fa-blogger fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/kafka/>kafka</a>,&nbsp;<a href=/tags/archives-2019/>archives-2019</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/2019/03/24/write-the-docs-seoul-2019-review/ class=prev rel=prev title="Write The Docs 서울 밋업 후기 (개발자 강추!)"><i class="fas fa-angle-left fa-fw"></i>Write The Docs 서울 밋업 후기 (개발자 강추!)</a>
<a href=/2019/04/14/aws-freetier-create-and-ssh-access/ class=next rel=next title="AWS 프리티어 발급부터 EC2 접속까지">AWS 프리티어 발급부터 EC2 접속까지<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=utterances></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://utteranc.es/>Utterances</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.74.3">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i>LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2016 - 2021</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://taetaetae.github.io/resume target=_blank>태태태</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":500},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"Comment","lightTheme":"github-light","repo":"taetaetae/blog-comment"}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true}};</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','UA-86432198-1',{'anonymize_ip':true});</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-86432198-1" async></script></body></html>