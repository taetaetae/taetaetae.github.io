<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>ì´ˆê°„ë‹¨ APIì„œë²„ ë§Œë“¤ê¸° - 1ë¶€ (Python + Flask + Apache) - ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„</title><meta name=Description content><meta property="og:title" content="ì´ˆê°„ë‹¨ APIì„œë²„ ë§Œë“¤ê¸° - 1ë¶€ (Python + Flask + Apache)"><meta property="og:description" content="Staticí•œ HTMLì´ ì•„ë‹Œ ë¡œì§ì´ í•„ìš”í•œ APIì„œë²„ë¥¼ êµ¬ì„±í•œë‹¤ê³  ê°€ì •í•´ë³´ì. (ì´ì œê¹Œì§€ ì§€ì‹ìœ¼ë¡œ)ì²˜ìŒ ë¨¸ë¦¿ì†ì— ë– ì˜¤ë¥´ëŠ”ê±´ Javaë¥¼ ì‚¬ìš©í•˜ê³  ìŠ¤í”„ë§ìœ¼ë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ê³  apacheì— tomcatì„ ì—°ë™í•œ ë‹¤ìŒ &mldr;ì´ëŸ¬í•œ ë°©ë²•ìœ¼ë¡œ APIì„œë²„ë¥¼ êµ¬ì„±í• ìˆ˜ ìˆê² ì§€ë§Œ í”„ë¡œí† íƒ€ì´í•‘ ë˜ëŠ” í…ŒìŠ¤íŠ¸ ëª©ì ìœ¼ë¡œ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ì„¤ì •í•˜ëŠ” ì‹œê°„ì´ ì€ê·¼ ë§ì´ ì†Œìš”ëœë‹¤. (ë¬¼ë¡  Java Config, Spring Boot ë“± ê°„ì†Œí•´ì¡Œì§€ë§Œ&mldr;) ì–¼ë§ˆì „ë¶€í„° Pythonì— ëŒ€í•œ ë§¤ë ¥ì„ ë¼ˆì €ë¦¬ê²Œ ëŠë¼ê³  ìˆë‹¤ë³´ë‹ˆ Pythonìœ¼ë¡œ APIì„œë²„ë¥¼ êµ¬ì„±í• ìˆœ ì—†ì„ê¹Œ ì•Œì•„ë´¤ê³  (ëª¨ë°”ì¼ ê²Œì„ ë“€ë‘ê³  ì„œë²„ê°€ pythonì´ë¼ê³  í•˜ê¸°ë„ í•˜ê³ &mldr;) Flaskì™€ Djangoê°€ ìˆì–´ì„œ ë‘˜ë‹¤ ì¨ë³¸ ê²°ê³¼ í•„ìëŠ” Flaskê°€ ë§ê² ë‹¤ê³  ìƒê°í•´ì„œ ì •ë¦¬ë¥¼ í•´ë³¼ê¹Œ í•œë‹¤.
 &lsquo;ì¥ê³ &rsquo;ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” Djangoì—ëŠ” ëª¨ë“ ê²ƒë“¤ì´ ë‹¤ ë“¤ì–´ê°€ ìˆì–´ì„œ ì‚¬ìš©í•˜ê¸° ë„ˆë¬´ í¸ë¦¬í•˜ë‹¤. (DB, ì–´ë“œë¯¼ ë“± ) í•˜ì§€ë§Œ FlaskëŠ” ë‚´ê°€ ì‚¬ìš©í•  ê²ƒë“¤ë§Œ importí•´ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë¼ ì–´ë–¤ ì¸¡ë©´ì—ì„œëŠ” ì•„ë¬´ê²ƒë„ ì—†ë‹¤ í• ìˆ˜ ìˆê² ìœ¼ë‚˜ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì— ìš©ì´í•˜ë‹¤ê³  ë³¼ìˆ˜ ìˆì—ˆê¸°ì— Flaskë¥¼ ì„ íƒí•˜ê²Œ ë˜ì—ˆë‹¤. (Djangoê°€ Flaskë³´ë‹¤ ì•ˆì¢‹ë‹¤ëŠ” ë§ì€ ì•„ë‹ˆë‹ˆ ì˜¤í•´ëŠ” í•˜ì§€ ë§ˆì‹œê¸¸&mldr;)
 ê¸€ì“°ê¸°ì— ì•ì„œ ë³¸ í¬ìŠ¤íŒ…ì€ 2ê°œì˜ í¬ìŠ¤íŒ…ì— ê±¸ì³ ì‹œë¦¬ì¦ˆ(?)í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•  ì˜ˆì •ì´ë‹¤. 1ë¶€ì—ì„œëŠ” Flaskê°€ ë¬´ì—‡ì´ê³  ì´ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ë©° Apacheì™€ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ì†Œê°œí•˜ê³ , 2ë¶€ì—ì„œëŠ” Nginxì™€ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ì†Œê°œí•œë‹¤. í™˜ê²½ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
 CentOS 7.4 Python 3.6 (ê¸°ë³¸ì€ 2.7ì´ì˜€ìœ¼ë‚˜ ì¶”ê°€ë¡œ ì„¤ì¹˜)  Flask ( http://flask.pocoo.org/ ) ê³µì‹ í™ˆí˜ì´ì§€ì—ì„œë„ ë³´ë©´ ì•Œìˆ˜ ìˆë“¯ì´ ë„ˆ~ë¬´ ê°„ë‹¨í•˜ë‹¤. ë‹¨ì§€ ì•„ë˜ ì½”ë“œ ëª‡ì¤„ë§Œ ì‘ì„±í•˜ë©´ ìš°ë¦¬ê°€ ëª¨ë“  í”„ë¡œê·¸ë¨ ì´ˆê¸° ì‘ì„±ì‹œ í•­ìƒ ë§Œë‚˜ëŠ” &ldquo;Hello World&#34;ë¥¼ ë³¼ìˆ˜ ìˆë‹¤.
#hello_world.py from flask import Flask app = Flask(__name__) @app.route(&#34;/&#34;) def hello(): return &#34;Hello World!&#34; ìœ„ì™€ê°™ì´ ì‘ì„±í•˜ê³  python hello.pyë¡œ ì‹¤í–‰í•´ë‘ê³  ë¸Œë¼ìš°ì €ì—ì„œ http://127.0.0.1:5000 ì„ ìš”ì²­í•˜ë©´ ë°˜ê°€ìš´ Hello Worldë¥¼ ë§Œë‚ ìˆ˜ ìˆë‹¤. (ë„ˆë¬´ ê°„ë‹¨;;) ìì„¸í•œ ë¬¸ë²•ì€ ë„íë¨¼íŠ¸ë¥¼ ì°¸ì¡°í•˜ë©´ ë ë“¯í•˜ê³  ì´ Flaskë¥¼ ì˜ë§Œ í™œìš©í•œë‹¤ë©´ ë³´ë‹¤ ë¹ ë¥´ê³  ê°„ë‹¨í•˜ê²Œ APIì„œë²„ë¥¼ êµ¬ì„±í• ìˆ˜ ìˆì„ê±°ë¼ ìƒê°í•œë‹¤.
Hello Worldë¥¼ ì°ì—ˆìœ¼ë©´ ëœê±° ì•„ë‹Œê°€ ë¼ê³  ì§ˆë¬¸í• ìˆ˜ë„ ìˆê² ìœ¼ë‚˜ ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì•ë‹¨ì— ì›¹ì„œë²„ë¥¼ ë‘ëŠ”ê²Œ ì—¬ëŸ¬ ì¸¡ë©´ì—ì„œ íš¨ìœ¨ì ì´ë‹¤. ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì›¹ì„œë²„ëŠ” Apache ì™€ Nginxê°€ ìˆëŠ”ë° ì—¬ê¸°ì„œëŠ” Apacheì™€ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ì •ë¦¬ í•´ë³´ê³ ì í•œë‹¤.
Apache ì„¤ì¹˜ ( http://archive.apache.org/ ) ìš°ì„  í•„ìëŠ” yum ì´ë‚˜ apt-getì²˜ëŸ¼ íŒ¨í‚¤ì§€ ê´€ë¦¬ìë¡œ ì„¤ì¹˜í•˜ëŠ”ê²ƒì„ ê·¸ë ‡ê²Œ ì¢‹ì•„í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ìœ ëŠ” ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ í•  ê²½ìš° ì‹œìŠ¤í…œ ì–´ëŠê³³ì— ì„¤ì¹˜ë˜ì–´ìˆëŠ”ì§€ë¥¼ í•œëˆˆì— íŒŒì•…í•˜ê¸° ì–´ë µê³  ìœˆë„ìš°ê²½ìš° Program Filesì²˜ëŸ¼ ë‚´ê°€ ì¶”ê°€ë¡œ ì„¤ì¹˜í•˜ê³  ê´€ë¦¬í•˜ëŠ” í”„ë¡œê·¸ë¨ë“¤ì„ í•œê³³ì—ì„œ ê´€ë¦¬í•˜ê³  ì‹¶ê¸°ì— ì™ ë§Œí•˜ë©´ ì†ŒìŠ¤ë¥¼ ì§ì ‘ ì»´íŒŒì¼í•˜ì—¬ ì„¤ì¹˜í•˜ê³¤ í•œë‹¤. ì´ë²ˆ ì—­ì‹œ ì•„íŒŒì¹˜ë„ ì†ŒìŠ¤ë¡œ ì„¤ì¹˜í•˜ë ¤ê³  í•œë‹¤. í˜„ì¬ ì•„íŒŒì¹˜ëŠ” 2.4ë²„ì „ì´ Stableë²„ì „ìœ¼ë¡œ ë˜ì–´ìˆì§€ë§Œ ë³´ë‹¤ ë ˆí¼ëŸ°ìŠ¤ê°€ ë§ì€ 2.2ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ ì–´ë µê²Œ ì•„ì¹´ì´ë¹™ëœ ê²½ë¡œë¥¼ í†µí•´ ë‹¤ìš´ì„ ë°›ê³  ì„¤ì¹˜ë¥¼ í•œë‹¤.
- ë‹¤ìš´ì„ ë°›ê³  $ wget http://archive.apache.org/dist/httpd/httpd-2.2.29.tar.gz - ì••ì¶•ì„ í‘¼ ë‹¤ìŒ $ tar xvzf httpd-2.2.29.tar.gz - í•´ë‹¹ í´ë”ë¡œ ë“¤ì–´ê°€ $ cd httpd-2.2.29 - ì»´íŒŒì¼ í›„ ì„¤ì¹˜ ê²½ë¡œë¥¼ ì •í•´ì£¼ê³  $ ./configure --prefix=/~~~/apps/apache - make íŒŒì¼ì„ ë§Œë“ ë‹¤ìŒ $ make - ì„¤ì¹˜ë¥¼ í•´ì¤€ë‹¤. $ make install ì´ë ‡ê²Œ ë˜ë©´ /~~~/apps/apache/ í•˜ìœ„ì— í•„ìš”í•œ íŒŒì¼ë“¤ì´ ì„¤ì¹˜ê°€ ë˜ëŠ”ë° rootê³„ì •ì´ ì•„ë‹Œ ì¼ë°˜ê³„ì •ìœ¼ë¡œ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” /biní•˜ìœ„ì— ìˆëŠ” httpdì— ëŒ€í•œ ì‹¤í–‰/ì†Œìœ ê¶Œí•œì„ ë³€ê²½í•´ì¤˜ì•¼ í•œë‹¤. (ì•„ë‹ˆë©´ ê·¸ëƒ¥ rootê¶Œí•œìœ¼ë¡œ ì‹œì‘/ì¢…ë£Œ. ì™œ? ApacheëŠ” 80portë¥¼ ì‚¬ìš©í•˜ëŠ”ë° ì¼ë°˜ì ìœ¼ë¡œ ë¦¬ëˆ…ìŠ¤ì—ì„œëŠ” 1024 ì•„ë˜ portë¥¼ ì»¨íŠ¸ë¡¤ í•˜ê¸° ìœ„í•´ì„œëŠ” rootê¶Œí•œì´ ìˆì–´ì•¼ ì‚¬ìš©ì´ ê°€ëŠ¥, ê·¸ê²Œ ì•„ë‹ˆë¼ë©´ ì´ì²˜ëŸ¼ ë³„ë„ì˜ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.)
$ sudo chown root:ê³„ì •ëª… httpd $ sudo chmod +s httpd mod_wsgi ì„¤ì¹˜ ( https://code.google.com/archive/p/modwsgi/ ) ì›¹ ì„œë²„ ê²Œì´íŠ¸ì›¨ì´ ì¸í„°í˜ì´ìŠ¤(WSGI, Web Server Gateway Interface)ëŠ” ì›¹ì„œë²„ì™€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìœ„í•œ íŒŒì´ì„  í”„ë ˆì„ì›Œí¬ë‹¤. ë¼ê³  ì •ì˜ë˜ì–´ìˆë‹¤. ì¦‰, ì›¹ì„œë²„(Apache)ì™€ ìœ„ì—ì„œ ë§Œë“  Flask ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì—°ë™í•´ì£¼ê¸° ìœ„í•œ í”„ë ˆì„ì›Œí¬ì´ë‹¤. ì´ë˜í•œ ì†ŒìŠ¤ë¡œ ì„¤ì¹˜í•´ë³´ì. (ìœ„ì™€ ê°™ì€ ì´ìœ ë¡œ~)
- ë‹¤ìš´ì„ ë°›ê³  $ wget https://github.com/GrahamDumpleton/mod_wsgi/archive/3.5.tar.gz - ì••ì¶•ì„ í‘¼ ë‹¤ìŒ $ tar -zxvf 3.5.tar.gz - í´ë”ì— ë“¤ì–´ê°€ì„œ $ cd mod_wsgi-3.5 - ì•„íŒŒì¹˜ì˜ ë¹Œë“œíˆ´ì¸ apxsì˜ ê²½ë¡œë¥¼ ì„¤ì •í•´ì£¼ê³  - í•„ìì™€ ê°™ì´ ê¸°ë³¸ python ë²„ì „ì„ ì‚¬ìš©í•˜ì§€ ì•Šì„êº¼ë¼ë©´ ê¼­ pythonê²½ë¡œë¥¼ ì„¤ì •í•´ì¤˜ì•¼ í•œë‹¤!"><meta property="og:type" content="article"><meta property="og:url" content="https://taetaetae.github.io/2018/06/29/simple-web-server-flask-apache/"><meta property="og:image" content="https://taetaetae.github.io/images/simple-web-server-flask-apache/flask-apache-python.png"><meta property="article:published_time" content="2018-06-29T23:00:00+00:00"><meta property="article:modified_time" content="2018-06-29T23:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://taetaetae.github.io/images/simple-web-server-flask-apache/flask-apache-python.png"><meta name=twitter:title content="ì´ˆê°„ë‹¨ APIì„œë²„ ë§Œë“¤ê¸° - 1ë¶€ (Python + Flask + Apache)"><meta name=twitter:description content="Staticí•œ HTMLì´ ì•„ë‹Œ ë¡œì§ì´ í•„ìš”í•œ APIì„œë²„ë¥¼ êµ¬ì„±í•œë‹¤ê³  ê°€ì •í•´ë³´ì. (ì´ì œê¹Œì§€ ì§€ì‹ìœ¼ë¡œ)ì²˜ìŒ ë¨¸ë¦¿ì†ì— ë– ì˜¤ë¥´ëŠ”ê±´ Javaë¥¼ ì‚¬ìš©í•˜ê³  ìŠ¤í”„ë§ìœ¼ë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ê³  apacheì— tomcatì„ ì—°ë™í•œ ë‹¤ìŒ &mldr;ì´ëŸ¬í•œ ë°©ë²•ìœ¼ë¡œ APIì„œë²„ë¥¼ êµ¬ì„±í• ìˆ˜ ìˆê² ì§€ë§Œ í”„ë¡œí† íƒ€ì´í•‘ ë˜ëŠ” í…ŒìŠ¤íŠ¸ ëª©ì ìœ¼ë¡œ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ì„¤ì •í•˜ëŠ” ì‹œê°„ì´ ì€ê·¼ ë§ì´ ì†Œìš”ëœë‹¤. (ë¬¼ë¡  Java Config, Spring Boot ë“± ê°„ì†Œí•´ì¡Œì§€ë§Œ&mldr;) ì–¼ë§ˆì „ë¶€í„° Pythonì— ëŒ€í•œ ë§¤ë ¥ì„ ë¼ˆì €ë¦¬ê²Œ ëŠë¼ê³  ìˆë‹¤ë³´ë‹ˆ Pythonìœ¼ë¡œ APIì„œë²„ë¥¼ êµ¬ì„±í• ìˆœ ì—†ì„ê¹Œ ì•Œì•„ë´¤ê³  (ëª¨ë°”ì¼ ê²Œì„ ë“€ë‘ê³  ì„œë²„ê°€ pythonì´ë¼ê³  í•˜ê¸°ë„ í•˜ê³ &mldr;) Flaskì™€ Djangoê°€ ìˆì–´ì„œ ë‘˜ë‹¤ ì¨ë³¸ ê²°ê³¼ í•„ìëŠ” Flaskê°€ ë§ê² ë‹¤ê³  ìƒê°í•´ì„œ ì •ë¦¬ë¥¼ í•´ë³¼ê¹Œ í•œë‹¤.
 &lsquo;ì¥ê³ &rsquo;ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” Djangoì—ëŠ” ëª¨ë“ ê²ƒë“¤ì´ ë‹¤ ë“¤ì–´ê°€ ìˆì–´ì„œ ì‚¬ìš©í•˜ê¸° ë„ˆë¬´ í¸ë¦¬í•˜ë‹¤. (DB, ì–´ë“œë¯¼ ë“± ) í•˜ì§€ë§Œ FlaskëŠ” ë‚´ê°€ ì‚¬ìš©í•  ê²ƒë“¤ë§Œ importí•´ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë¼ ì–´ë–¤ ì¸¡ë©´ì—ì„œëŠ” ì•„ë¬´ê²ƒë„ ì—†ë‹¤ í• ìˆ˜ ìˆê² ìœ¼ë‚˜ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì— ìš©ì´í•˜ë‹¤ê³  ë³¼ìˆ˜ ìˆì—ˆê¸°ì— Flaskë¥¼ ì„ íƒí•˜ê²Œ ë˜ì—ˆë‹¤. (Djangoê°€ Flaskë³´ë‹¤ ì•ˆì¢‹ë‹¤ëŠ” ë§ì€ ì•„ë‹ˆë‹ˆ ì˜¤í•´ëŠ” í•˜ì§€ ë§ˆì‹œê¸¸&mldr;)
 ê¸€ì“°ê¸°ì— ì•ì„œ ë³¸ í¬ìŠ¤íŒ…ì€ 2ê°œì˜ í¬ìŠ¤íŒ…ì— ê±¸ì³ ì‹œë¦¬ì¦ˆ(?)í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•  ì˜ˆì •ì´ë‹¤. 1ë¶€ì—ì„œëŠ” Flaskê°€ ë¬´ì—‡ì´ê³  ì´ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ë©° Apacheì™€ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ì†Œê°œí•˜ê³ , 2ë¶€ì—ì„œëŠ” Nginxì™€ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ì†Œê°œí•œë‹¤. í™˜ê²½ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
 CentOS 7.4 Python 3.6 (ê¸°ë³¸ì€ 2.7ì´ì˜€ìœ¼ë‚˜ ì¶”ê°€ë¡œ ì„¤ì¹˜)  Flask ( http://flask.pocoo.org/ ) ê³µì‹ í™ˆí˜ì´ì§€ì—ì„œë„ ë³´ë©´ ì•Œìˆ˜ ìˆë“¯ì´ ë„ˆ~ë¬´ ê°„ë‹¨í•˜ë‹¤. ë‹¨ì§€ ì•„ë˜ ì½”ë“œ ëª‡ì¤„ë§Œ ì‘ì„±í•˜ë©´ ìš°ë¦¬ê°€ ëª¨ë“  í”„ë¡œê·¸ë¨ ì´ˆê¸° ì‘ì„±ì‹œ í•­ìƒ ë§Œë‚˜ëŠ” &ldquo;Hello World&#34;ë¥¼ ë³¼ìˆ˜ ìˆë‹¤.
#hello_world.py from flask import Flask app = Flask(__name__) @app.route(&#34;/&#34;) def hello(): return &#34;Hello World!&#34; ìœ„ì™€ê°™ì´ ì‘ì„±í•˜ê³  python hello.pyë¡œ ì‹¤í–‰í•´ë‘ê³  ë¸Œë¼ìš°ì €ì—ì„œ http://127.0.0.1:5000 ì„ ìš”ì²­í•˜ë©´ ë°˜ê°€ìš´ Hello Worldë¥¼ ë§Œë‚ ìˆ˜ ìˆë‹¤. (ë„ˆë¬´ ê°„ë‹¨;;) ìì„¸í•œ ë¬¸ë²•ì€ ë„íë¨¼íŠ¸ë¥¼ ì°¸ì¡°í•˜ë©´ ë ë“¯í•˜ê³  ì´ Flaskë¥¼ ì˜ë§Œ í™œìš©í•œë‹¤ë©´ ë³´ë‹¤ ë¹ ë¥´ê³  ê°„ë‹¨í•˜ê²Œ APIì„œë²„ë¥¼ êµ¬ì„±í• ìˆ˜ ìˆì„ê±°ë¼ ìƒê°í•œë‹¤.
Hello Worldë¥¼ ì°ì—ˆìœ¼ë©´ ëœê±° ì•„ë‹Œê°€ ë¼ê³  ì§ˆë¬¸í• ìˆ˜ë„ ìˆê² ìœ¼ë‚˜ ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì•ë‹¨ì— ì›¹ì„œë²„ë¥¼ ë‘ëŠ”ê²Œ ì—¬ëŸ¬ ì¸¡ë©´ì—ì„œ íš¨ìœ¨ì ì´ë‹¤. ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì›¹ì„œë²„ëŠ” Apache ì™€ Nginxê°€ ìˆëŠ”ë° ì—¬ê¸°ì„œëŠ” Apacheì™€ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ì •ë¦¬ í•´ë³´ê³ ì í•œë‹¤.
Apache ì„¤ì¹˜ ( http://archive.apache.org/ ) ìš°ì„  í•„ìëŠ” yum ì´ë‚˜ apt-getì²˜ëŸ¼ íŒ¨í‚¤ì§€ ê´€ë¦¬ìë¡œ ì„¤ì¹˜í•˜ëŠ”ê²ƒì„ ê·¸ë ‡ê²Œ ì¢‹ì•„í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ìœ ëŠ” ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ í•  ê²½ìš° ì‹œìŠ¤í…œ ì–´ëŠê³³ì— ì„¤ì¹˜ë˜ì–´ìˆëŠ”ì§€ë¥¼ í•œëˆˆì— íŒŒì•…í•˜ê¸° ì–´ë µê³  ìœˆë„ìš°ê²½ìš° Program Filesì²˜ëŸ¼ ë‚´ê°€ ì¶”ê°€ë¡œ ì„¤ì¹˜í•˜ê³  ê´€ë¦¬í•˜ëŠ” í”„ë¡œê·¸ë¨ë“¤ì„ í•œê³³ì—ì„œ ê´€ë¦¬í•˜ê³  ì‹¶ê¸°ì— ì™ ë§Œí•˜ë©´ ì†ŒìŠ¤ë¥¼ ì§ì ‘ ì»´íŒŒì¼í•˜ì—¬ ì„¤ì¹˜í•˜ê³¤ í•œë‹¤. ì´ë²ˆ ì—­ì‹œ ì•„íŒŒì¹˜ë„ ì†ŒìŠ¤ë¡œ ì„¤ì¹˜í•˜ë ¤ê³  í•œë‹¤. í˜„ì¬ ì•„íŒŒì¹˜ëŠ” 2.4ë²„ì „ì´ Stableë²„ì „ìœ¼ë¡œ ë˜ì–´ìˆì§€ë§Œ ë³´ë‹¤ ë ˆí¼ëŸ°ìŠ¤ê°€ ë§ì€ 2.2ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ ì–´ë µê²Œ ì•„ì¹´ì´ë¹™ëœ ê²½ë¡œë¥¼ í†µí•´ ë‹¤ìš´ì„ ë°›ê³  ì„¤ì¹˜ë¥¼ í•œë‹¤.
- ë‹¤ìš´ì„ ë°›ê³  $ wget http://archive.apache.org/dist/httpd/httpd-2.2.29.tar.gz - ì••ì¶•ì„ í‘¼ ë‹¤ìŒ $ tar xvzf httpd-2.2.29.tar.gz - í•´ë‹¹ í´ë”ë¡œ ë“¤ì–´ê°€ $ cd httpd-2.2.29 - ì»´íŒŒì¼ í›„ ì„¤ì¹˜ ê²½ë¡œë¥¼ ì •í•´ì£¼ê³  $ ./configure --prefix=/~~~/apps/apache - make íŒŒì¼ì„ ë§Œë“ ë‹¤ìŒ $ make - ì„¤ì¹˜ë¥¼ í•´ì¤€ë‹¤. $ make install ì´ë ‡ê²Œ ë˜ë©´ /~~~/apps/apache/ í•˜ìœ„ì— í•„ìš”í•œ íŒŒì¼ë“¤ì´ ì„¤ì¹˜ê°€ ë˜ëŠ”ë° rootê³„ì •ì´ ì•„ë‹Œ ì¼ë°˜ê³„ì •ìœ¼ë¡œ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” /biní•˜ìœ„ì— ìˆëŠ” httpdì— ëŒ€í•œ ì‹¤í–‰/ì†Œìœ ê¶Œí•œì„ ë³€ê²½í•´ì¤˜ì•¼ í•œë‹¤. (ì•„ë‹ˆë©´ ê·¸ëƒ¥ rootê¶Œí•œìœ¼ë¡œ ì‹œì‘/ì¢…ë£Œ. ì™œ? ApacheëŠ” 80portë¥¼ ì‚¬ìš©í•˜ëŠ”ë° ì¼ë°˜ì ìœ¼ë¡œ ë¦¬ëˆ…ìŠ¤ì—ì„œëŠ” 1024 ì•„ë˜ portë¥¼ ì»¨íŠ¸ë¡¤ í•˜ê¸° ìœ„í•´ì„œëŠ” rootê¶Œí•œì´ ìˆì–´ì•¼ ì‚¬ìš©ì´ ê°€ëŠ¥, ê·¸ê²Œ ì•„ë‹ˆë¼ë©´ ì´ì²˜ëŸ¼ ë³„ë„ì˜ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.)
$ sudo chown root:ê³„ì •ëª… httpd $ sudo chmod +s httpd mod_wsgi ì„¤ì¹˜ ( https://code.google.com/archive/p/modwsgi/ ) ì›¹ ì„œë²„ ê²Œì´íŠ¸ì›¨ì´ ì¸í„°í˜ì´ìŠ¤(WSGI, Web Server Gateway Interface)ëŠ” ì›¹ì„œë²„ì™€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìœ„í•œ íŒŒì´ì„  í”„ë ˆì„ì›Œí¬ë‹¤. ë¼ê³  ì •ì˜ë˜ì–´ìˆë‹¤. ì¦‰, ì›¹ì„œë²„(Apache)ì™€ ìœ„ì—ì„œ ë§Œë“  Flask ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì—°ë™í•´ì£¼ê¸° ìœ„í•œ í”„ë ˆì„ì›Œí¬ì´ë‹¤. ì´ë˜í•œ ì†ŒìŠ¤ë¡œ ì„¤ì¹˜í•´ë³´ì. (ìœ„ì™€ ê°™ì€ ì´ìœ ë¡œ~)
- ë‹¤ìš´ì„ ë°›ê³  $ wget https://github.com/GrahamDumpleton/mod_wsgi/archive/3.5.tar.gz - ì••ì¶•ì„ í‘¼ ë‹¤ìŒ $ tar -zxvf 3.5.tar.gz - í´ë”ì— ë“¤ì–´ê°€ì„œ $ cd mod_wsgi-3.5 - ì•„íŒŒì¹˜ì˜ ë¹Œë“œíˆ´ì¸ apxsì˜ ê²½ë¡œë¥¼ ì„¤ì •í•´ì£¼ê³  - í•„ìì™€ ê°™ì´ ê¸°ë³¸ python ë²„ì „ì„ ì‚¬ìš©í•˜ì§€ ì•Šì„êº¼ë¼ë©´ ê¼­ pythonê²½ë¡œë¥¼ ì„¤ì •í•´ì¤˜ì•¼ í•œë‹¤!"><meta name=application-name content="ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„"><meta name=apple-mobile-web-app-title content="ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„"><meta name=naver-site-verification content="2d1cdbb963ba178aa7cbf58500afc668cae1e645"><meta name=google-site-verification content="vvFCdv0-GuQhEWG8vtNJfA7YSY2HYQ1hpHh9P-a6Pv8"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://taetaetae.github.io/2018/06/29/simple-web-server-flask-apache/><link rel=prev href=https://taetaetae.github.io/2018/06/27/apache-vs-nginx/><link rel=next href=https://taetaetae.github.io/2018/07/01/simple-web-server-flask-nginx/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"ì´ˆê°„ë‹¨ APIì„œë²„ ë§Œë“¤ê¸° - 1ë¶€ (Python + Flask + Apache)","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/taetaetae.github.io\/2018\/06\/29\/simple-web-server-flask-apache\/"},"genre":"posts","keywords":"apache, flask, python, web server, archives-2018","wordcount":747,"url":"https:\/\/taetaetae.github.io\/2018\/06\/29\/simple-web-server-flask-apache\/","datePublished":"2018-06-29T23:00:00+00:00","dateModified":"2018-06-29T23:00:00+00:00","publisher":{"@type":"Organization","name":"íƒœíƒœíƒœ"},"author":{"@type":"Person","name":"íƒœíƒœíƒœ"},"description":""}</script></head><body header-desktop=auto header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„">ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„">ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/>Posts</a><a class=menu-item href=/tags/>Tags</a><a class=menu-item href=/categories/>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:inline-block;width:260px;height:600px data-ad-client=ca-pub-5788330009690816 data-ad-slot=2248955907></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div><article class="page single"><h1 class="single-title animated flipInX">ì´ˆê°„ë‹¨ APIì„œë²„ ë§Œë“¤ê¸° - 1ë¶€ (Python + Flask + Apache)</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://taetaetae.github.io/resume title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>íƒœíƒœíƒœ</a></span>&nbsp;<span class=post-category>included in <a href=/categories/tech/><i class="far fa-folder fa-fw"></i>Tech</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2018-06-29>2018-06-29</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;747 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/images/simple-web-server-flask-apache/flask-apache-python.png data-srcset="/images/simple-web-server-flask-apache/flask-apache-python.png, /images/simple-web-server-flask-apache/flask-apache-python.png 1.5x, /images/simple-web-server-flask-apache/flask-apache-python.png 2x" data-sizes=auto alt=/images/simple-web-server-flask-apache/flask-apache-python.png title=/images/simple-web-server-flask-apache/flask-apache-python.png></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#flask--httpflaskpocooorg->Flask ( <a href=http://flask.pocoo.org/>http://flask.pocoo.org/</a> )</a></li><li><a href=#apache-ì„¤ì¹˜--httparchiveapacheorg->Apache ì„¤ì¹˜ ( <a href=http://archive.apache.org/>http://archive.apache.org/</a> )</a></li><li><a href=#mod_wsgi-ì„¤ì¹˜--httpscodegooglecomarchivepmodwsgi->mod_wsgi ì„¤ì¹˜ ( <a href=https://code.google.com/archive/p/modwsgi/>https://code.google.com/archive/p/modwsgi/</a> )</a></li><li><a href=#apache-httpdconf-ì„¤ì •>Apache httpd.conf ì„¤ì •</a></li><li><a href=#wsgi-íŒŒì¼-ì‘ì„±>WSGI íŒŒì¼ ì‘ì„±</a></li><li><a href=#ë§ˆì¹˜ë©°>ë§ˆì¹˜ë©°</a></li></ul></nav></div></div><div class=content id=content><p>Staticí•œ HTMLì´ ì•„ë‹Œ ë¡œì§ì´ í•„ìš”í•œ APIì„œë²„ë¥¼ êµ¬ì„±í•œë‹¤ê³  ê°€ì •í•´ë³´ì. (ì´ì œê¹Œì§€ ì§€ì‹ìœ¼ë¡œ)ì²˜ìŒ ë¨¸ë¦¿ì†ì— ë– ì˜¤ë¥´ëŠ”ê±´ Javaë¥¼ ì‚¬ìš©í•˜ê³  ìŠ¤í”„ë§ìœ¼ë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ê³  apacheì— tomcatì„ ì—°ë™í•œ ë‹¤ìŒ &mldr; ì´ëŸ¬í•œ ë°©ë²•ìœ¼ë¡œ APIì„œë²„ë¥¼ êµ¬ì„±í• ìˆ˜ ìˆê² ì§€ë§Œ í”„ë¡œí† íƒ€ì´í•‘ ë˜ëŠ” í…ŒìŠ¤íŠ¸ ëª©ì ìœ¼ë¡œ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ì„¤ì •í•˜ëŠ” ì‹œê°„ì´ ì€ê·¼ ë§ì´ ì†Œìš”ëœë‹¤. (ë¬¼ë¡  Java Config, Spring Boot ë“± ê°„ì†Œí•´ì¡Œì§€ë§Œ&mldr;)
ì–¼ë§ˆì „ë¶€í„° Pythonì— ëŒ€í•œ ë§¤ë ¥ì„ ë¼ˆì €ë¦¬ê²Œ ëŠë¼ê³  ìˆë‹¤ë³´ë‹ˆ Pythonìœ¼ë¡œ APIì„œë²„ë¥¼ êµ¬ì„±í• ìˆœ ì—†ì„ê¹Œ ì•Œì•„ë´¤ê³  (ëª¨ë°”ì¼ ê²Œì„ ë“€ë‘ê³  ì„œë²„ê°€ pythonì´ë¼ê³  í•˜ê¸°ë„ í•˜ê³ &mldr;) <code>Flask</code>ì™€ <code>Django</code>ê°€ ìˆì–´ì„œ ë‘˜ë‹¤ ì¨ë³¸ ê²°ê³¼ í•„ìëŠ” <code>Flask</code>ê°€ ë§ê² ë‹¤ê³  ìƒê°í•´ì„œ ì •ë¦¬ë¥¼ í•´ë³¼ê¹Œ í•œë‹¤.</p><blockquote><p>&lsquo;ì¥ê³ &rsquo;ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” Djangoì—ëŠ” ëª¨ë“ ê²ƒë“¤ì´ ë‹¤ ë“¤ì–´ê°€ ìˆì–´ì„œ ì‚¬ìš©í•˜ê¸° ë„ˆë¬´ í¸ë¦¬í•˜ë‹¤. (DB, ì–´ë“œë¯¼ ë“± ) í•˜ì§€ë§Œ FlaskëŠ” ë‚´ê°€ ì‚¬ìš©í•  ê²ƒë“¤ë§Œ importí•´ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë¼ ì–´ë–¤ ì¸¡ë©´ì—ì„œëŠ” ì•„ë¬´ê²ƒë„ ì—†ë‹¤ í• ìˆ˜ ìˆê² ìœ¼ë‚˜ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì— ìš©ì´í•˜ë‹¤ê³  ë³¼ìˆ˜ ìˆì—ˆê¸°ì— Flaskë¥¼ ì„ íƒí•˜ê²Œ ë˜ì—ˆë‹¤. (Djangoê°€ Flaskë³´ë‹¤ ì•ˆì¢‹ë‹¤ëŠ” ë§ì€ ì•„ë‹ˆë‹ˆ ì˜¤í•´ëŠ” í•˜ì§€ ë§ˆì‹œê¸¸&mldr;)</p></blockquote><p>ê¸€ì“°ê¸°ì— ì•ì„œ ë³¸ í¬ìŠ¤íŒ…ì€ 2ê°œì˜ í¬ìŠ¤íŒ…ì— ê±¸ì³ ì‹œë¦¬ì¦ˆ(?)í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•  ì˜ˆì •ì´ë‹¤. 1ë¶€ì—ì„œëŠ” Flaskê°€ ë¬´ì—‡ì´ê³  ì´ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ë©° Apacheì™€ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ì†Œê°œí•˜ê³ , 2ë¶€ì—ì„œëŠ” Nginxì™€ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ì†Œê°œí•œë‹¤.
í™˜ê²½ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ul><li>CentOS 7.4</li><li>Python 3.6 (ê¸°ë³¸ì€ 2.7ì´ì˜€ìœ¼ë‚˜ ì¶”ê°€ë¡œ ì„¤ì¹˜)</li></ul><h2 id=flask--httpflaskpocooorg->Flask ( <a href=http://flask.pocoo.org/>http://flask.pocoo.org/</a> )</h2><p>ê³µì‹ í™ˆí˜ì´ì§€ì—ì„œë„ ë³´ë©´ ì•Œìˆ˜ ìˆë“¯ì´ ë„ˆ~ë¬´ ê°„ë‹¨í•˜ë‹¤. ë‹¨ì§€ ì•„ë˜ ì½”ë“œ ëª‡ì¤„ë§Œ ì‘ì„±í•˜ë©´ ìš°ë¦¬ê°€ ëª¨ë“  í”„ë¡œê·¸ë¨ ì´ˆê¸° ì‘ì„±ì‹œ í•­ìƒ ë§Œë‚˜ëŠ” &ldquo;Hello World"ë¥¼ ë³¼ìˆ˜ ìˆë‹¤.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1>#hello_world.py</span>

<span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span>
<span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>

<span class=nd>@app.route</span><span class=p>(</span><span class=s2>&#34;/&#34;</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>hello</span><span class=p>():</span>
    <span class=k>return</span> <span class=s2>&#34;Hello World!&#34;</span>
</code></pre></div><p>ìœ„ì™€ê°™ì´ ì‘ì„±í•˜ê³  <code>python hello.py</code>ë¡œ ì‹¤í–‰í•´ë‘ê³  ë¸Œë¼ìš°ì €ì—ì„œ <code>http://127.0.0.1:5000</code> ì„ ìš”ì²­í•˜ë©´ ë°˜ê°€ìš´ Hello Worldë¥¼ ë§Œë‚ ìˆ˜ ìˆë‹¤. (ë„ˆë¬´ ê°„ë‹¨;;) ìì„¸í•œ ë¬¸ë²•ì€ <a href=http://flask.pocoo.org/docs target=_blank rel="noopener noreffer">ë„íë¨¼íŠ¸</a>ë¥¼ ì°¸ì¡°í•˜ë©´ ë ë“¯í•˜ê³  ì´ Flaskë¥¼ ì˜ë§Œ í™œìš©í•œë‹¤ë©´ ë³´ë‹¤ ë¹ ë¥´ê³  ê°„ë‹¨í•˜ê²Œ APIì„œë²„ë¥¼ êµ¬ì„±í• ìˆ˜ ìˆì„ê±°ë¼ ìƒê°í•œë‹¤.</p><p>Hello Worldë¥¼ ì°ì—ˆìœ¼ë©´ ëœê±° ì•„ë‹Œê°€ ë¼ê³  ì§ˆë¬¸í• ìˆ˜ë„ ìˆê² ìœ¼ë‚˜ ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì•ë‹¨ì— ì›¹ì„œë²„ë¥¼ ë‘ëŠ”ê²Œ ì—¬ëŸ¬ ì¸¡ë©´ì—ì„œ íš¨ìœ¨ì ì´ë‹¤. ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì›¹ì„œë²„ëŠ” Apache ì™€ Nginxê°€ ìˆëŠ”ë° ì—¬ê¸°ì„œëŠ” Apacheì™€ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ì •ë¦¬ í•´ë³´ê³ ì í•œë‹¤.</p><h2 id=apache-ì„¤ì¹˜--httparchiveapacheorg->Apache ì„¤ì¹˜ ( <a href=http://archive.apache.org/>http://archive.apache.org/</a> )</h2><p>ìš°ì„  í•„ìëŠ” <code>yum</code> ì´ë‚˜ <code>apt-get</code>ì²˜ëŸ¼ íŒ¨í‚¤ì§€ ê´€ë¦¬ìë¡œ ì„¤ì¹˜í•˜ëŠ”ê²ƒì„ ê·¸ë ‡ê²Œ ì¢‹ì•„í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ìœ ëŠ” ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ í•  ê²½ìš° ì‹œìŠ¤í…œ ì–´ëŠê³³ì— ì„¤ì¹˜ë˜ì–´ìˆëŠ”ì§€ë¥¼ í•œëˆˆì— íŒŒì•…í•˜ê¸° ì–´ë µê³  ìœˆë„ìš°ê²½ìš° <code>Program Files</code>ì²˜ëŸ¼ ë‚´ê°€ ì¶”ê°€ë¡œ ì„¤ì¹˜í•˜ê³  ê´€ë¦¬í•˜ëŠ” í”„ë¡œê·¸ë¨ë“¤ì„ í•œê³³ì—ì„œ ê´€ë¦¬í•˜ê³  ì‹¶ê¸°ì— ì™ ë§Œí•˜ë©´ ì†ŒìŠ¤ë¥¼ ì§ì ‘ ì»´íŒŒì¼í•˜ì—¬ ì„¤ì¹˜í•˜ê³¤ í•œë‹¤. ì´ë²ˆ ì—­ì‹œ ì•„íŒŒì¹˜ë„ ì†ŒìŠ¤ë¡œ ì„¤ì¹˜í•˜ë ¤ê³  í•œë‹¤.
í˜„ì¬ ì•„íŒŒì¹˜ëŠ” 2.4ë²„ì „ì´ Stableë²„ì „ìœ¼ë¡œ ë˜ì–´ìˆì§€ë§Œ ë³´ë‹¤ ë ˆí¼ëŸ°ìŠ¤ê°€ ë§ì€ 2.2ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ ì–´ë µê²Œ ì•„ì¹´ì´ë¹™ëœ ê²½ë¡œë¥¼ í†µí•´ ë‹¤ìš´ì„ ë°›ê³  ì„¤ì¹˜ë¥¼ í•œë‹¤.</p><div class=highlight><pre class=chroma><code class=language-markdown data-lang=markdown><span class=k>-</span> ë‹¤ìš´ì„ ë°›ê³ 
$ wget http://archive.apache.org/dist/httpd/httpd-2.2.29.tar.gz 
<span class=k>-</span> ì••ì¶•ì„ í‘¼ ë‹¤ìŒ
$ tar xvzf httpd-2.2.29.tar.gz
<span class=k>-</span> í•´ë‹¹ í´ë”ë¡œ ë“¤ì–´ê°€
$ cd httpd-2.2.29
<span class=k>-</span> ì»´íŒŒì¼ í›„ ì„¤ì¹˜ ê²½ë¡œë¥¼ ì •í•´ì£¼ê³ 
$ ./configure --prefix=/~~~/apps/apache
<span class=k>-</span> make íŒŒì¼ì„ ë§Œë“ ë‹¤ìŒ
$ make
<span class=k>-</span> ì„¤ì¹˜ë¥¼ í•´ì¤€ë‹¤.
$ make install
</code></pre></div><p>ì´ë ‡ê²Œ ë˜ë©´ /~~~/apps/apache/ í•˜ìœ„ì— í•„ìš”í•œ íŒŒì¼ë“¤ì´ ì„¤ì¹˜ê°€ ë˜ëŠ”ë° rootê³„ì •ì´ ì•„ë‹Œ ì¼ë°˜ê³„ì •ìœ¼ë¡œ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” /biní•˜ìœ„ì— ìˆëŠ” httpdì— ëŒ€í•œ ì‹¤í–‰/ì†Œìœ ê¶Œí•œì„ ë³€ê²½í•´ì¤˜ì•¼ í•œë‹¤. (ì•„ë‹ˆë©´ ê·¸ëƒ¥ rootê¶Œí•œìœ¼ë¡œ ì‹œì‘/ì¢…ë£Œ. ì™œ? ApacheëŠ” 80portë¥¼ ì‚¬ìš©í•˜ëŠ”ë° ì¼ë°˜ì ìœ¼ë¡œ ë¦¬ëˆ…ìŠ¤ì—ì„œëŠ” 1024 ì•„ë˜ portë¥¼ ì»¨íŠ¸ë¡¤ í•˜ê¸° ìœ„í•´ì„œëŠ” rootê¶Œí•œì´ ìˆì–´ì•¼ ì‚¬ìš©ì´ ê°€ëŠ¥, ê·¸ê²Œ ì•„ë‹ˆë¼ë©´ ì´ì²˜ëŸ¼ ë³„ë„ì˜ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.)</p><pre><code>$ sudo chown root:ê³„ì •ëª… httpd
$ sudo chmod +s httpd
</code></pre><h2 id=mod_wsgi-ì„¤ì¹˜--httpscodegooglecomarchivepmodwsgi->mod_wsgi ì„¤ì¹˜ ( <a href=https://code.google.com/archive/p/modwsgi/>https://code.google.com/archive/p/modwsgi/</a> )</h2><p>ì›¹ ì„œë²„ ê²Œì´íŠ¸ì›¨ì´ ì¸í„°í˜ì´ìŠ¤(WSGI, Web Server Gateway Interface)ëŠ” ì›¹ì„œë²„ì™€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìœ„í•œ íŒŒì´ì„  í”„ë ˆì„ì›Œí¬ë‹¤. ë¼ê³  ì •ì˜ë˜ì–´ìˆë‹¤. ì¦‰, ì›¹ì„œë²„(Apache)ì™€ ìœ„ì—ì„œ ë§Œë“  Flask ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì—°ë™í•´ì£¼ê¸° ìœ„í•œ í”„ë ˆì„ì›Œí¬ì´ë‹¤. ì´ë˜í•œ ì†ŒìŠ¤ë¡œ ì„¤ì¹˜í•´ë³´ì. (ìœ„ì™€ ê°™ì€ ì´ìœ ë¡œ~)</p><div class=highlight><pre class=chroma><code class=language-markdown data-lang=markdown><span class=k>-</span> ë‹¤ìš´ì„ ë°›ê³ 
$ wget https://github.com/GrahamDumpleton/mod_wsgi/archive/3.5.tar.gz
<span class=k>-</span> ì••ì¶•ì„ í‘¼ ë‹¤ìŒ
$ tar -zxvf 3.5.tar.gz
<span class=k>-</span> í´ë”ì— ë“¤ì–´ê°€ì„œ
$ cd mod_wsgi-3.5
<span class=k>-</span> ì•„íŒŒì¹˜ì˜ ë¹Œë“œíˆ´ì¸ apxsì˜ ê²½ë¡œë¥¼ ì„¤ì •í•´ì£¼ê³ 
<span class=k>-</span> í•„ìì™€ ê°™ì´ ê¸°ë³¸ python ë²„ì „ì„ ì‚¬ìš©í•˜ì§€ ì•Šì„êº¼ë¼ë©´ ê¼­ pythonê²½ë¡œë¥¼ ì„¤ì •í•´ì¤˜ì•¼ í•œë‹¤! (ì¤‘ìš”)
$ ./configure --with-apxs=/~~~/apps/apache/bin/apxs --with-python=/usr/bin/python3.6
<span class=k>-</span> make íŒŒì¼ì„ ë§Œë“¤ê³ 
$ make
<span class=k>-</span> ì„¤ì¹˜~
$ make install
</code></pre></div><p>ì´ë ‡ê²Œ ì„¤ì¹˜ë¥¼ í•˜ë©´ ìë™ìœ¼ë¡œ ì•„íŒŒì¹˜ í•˜ìœ„ /modules í´ë”ì•ˆì— mod_wsgi.so íŒŒì¼ì´ ìƒê¸´ë‹¤. (í•„ìëŠ” ì´ê²ƒë„ ëª¨ë¥´ê³  mod_wsgi.soíŒŒì¼ì„ ë‹¤ìš´ ë°›ìœ¼ë ¤ê³  êµ¬ê¸€ë§ì„ ëª‡ì¼ì§¸ í–ˆë˜ ê¸°ì–µì´ ã… )</p><h2 id=apache-httpdconf-ì„¤ì •>Apache httpd.conf ì„¤ì •</h2><p>Aapcheì— mod_wsgi ëª¨ë“ˆì´ ìƒê²¼ê³ , ì´ë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ì„œ httd.conf ì•„íŒŒì¹˜ ê¸°ë³¸ì„¤ì • íŒŒì¼ì„ ìˆ˜ì •í•´ì•¼ í•œë‹¤.</p><div class=highlight><pre class=chroma><code class=language-markdown data-lang=markdown><span class=k>-</span> ëª¨ë“ˆì„ ì‚¬ìš©í•˜ê² ë‹¤ê³  ì •ì˜
LoadModule wsgi_module modules/mod_wsgi.so
<span class=k>-</span> mod_wsgië¡œ ì‹¤í–‰í•œ WSGI íŒŒì´ì¬ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ íŠ¹ì • URL( / )ë¡œ ì„¤ì •í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ ë“±ë¡í•´ì¤€ë‹¤.
WSGIScriptAlias / /~~~/python_app/hello_world.wsgi
<span class=k>-</span> ë“±ë¡ëœ íŒŒì´ì¬ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë°ëª¬ í”„ë¡œì„¸ìŠ¤ë¡œ ì‹¤í–‰í•˜ê¸°ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•´ì¤€ë‹¤.
WSGIDaemonProcess hello_world(ì–´í”Œë¦¬ì¼€ì´ì…˜ ëª…) user=ê³„ì •ëª… group=ê³„ì •ëª… threads=5(ìŠ¤ë ˆë“œ ê°œìˆ˜)

<span class=p>&lt;</span><span class=nt>Directory</span> <span class=err>/~~~/</span><span class=na>python_app</span><span class=p>&gt;</span>
  WSGIApplicationGroup %{GLOBAL} # í•´ë‹¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì²˜ë¦¬í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ì—ì„œ ì²«ë²ˆì§¸ë¡œ ìƒì„±ëœ íŒŒì´ì¬ ì¸í„°í”„ë¦¬í„°ë¥¼ ì‚¬ìš©
  Order deny,allow
  Allow from all
<span class=p>&lt;/</span><span class=nt>Directory</span><span class=p>&gt;</span>
</code></pre></div><p>ìì„¸í•œ ë‚´ìš©ì€ <a href=http://modwsgi.readthedocs.io/en/develop/ target=_blank rel="noopener noreffer">ê³µì‹ í™ˆí˜ì´ì§€</a>ë¥¼ ì°¸ê³ í•˜ëŠ”ê±¸ ì¶”ì²œí•œë‹¤.</p><h2 id=wsgi-íŒŒì¼-ì‘ì„±>WSGI íŒŒì¼ ì‘ì„±</h2><p>Apache ì„¤ì •ì—ì„œ ë“±ë¡í•œ wsgiíŒŒì¼ì€ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•´ì¤€ë‹¤. ë¬¼ë¡  ì´ ë‚´ìš©ë„ <a href=http://flask.pocoo.org/docs/0.12/deploying/mod_wsgi/ target=_blank rel="noopener noreffer">ê³µì‹ í™ˆí˜ì´ì§€</a>ë¥¼ ì°¸ì¡°í•˜ëŠ”ê²Œ ì¢‹ë‹¤.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>sys</span>
<span class=n>sys</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=s1>&#39;/~~~/python_app&#39;</span><span class=p>)</span>
<span class=kn>from</span> <span class=nn>hello_world</span> <span class=kn>import</span> <span class=n>app</span> <span class=k>as</span> <span class=n>application</span>
</code></pre></div><p>í•„ìëŠ” ì—¬ê¸°ì„œ í•œì°¸ì„ í•´ë§¸ë˜ ë¶€ë¶„ì´, <code>sys.path.insert</code>êµ¬ë¬¸ì˜ ë‘ë²ˆì§¸ ì¸ìëŠ” ì‹¤ì œ ì‹¤í–‰ë  Falsk ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ìˆëŠ” ê²½ë¡œë¥¼ ì ì–´ì¤˜ì•¼ í•˜ê³ , <code>hello_world</code>ëŠ” Flask ì–´í”Œë¦¬ì¼€ì´ì…˜ íŒŒì¼ì˜ í™•ì¥ìë¥¼ ì œì™¸í•œ ì´ë¦„ì„ ì ì–´ì£¼ë©´ ëœë‹¤.</p><p>ì´ë ‡ê²Œ í•œ í›„ ì•„íŒŒì¹˜ë¥¼ ì‹œì‘í•´ì£¼ë©´ ì•ì„œ ë§Œë“  Flask ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë³„ë„ë¡œ ì‹¤í–‰í•´ ì£¼ì§€ ì•Šì•„ë„ Apacheê°€ ì•Œì•„ì„œ ì„¤ì •í•œ URLë¡œ ìš”ì²­ì´ ë“¤ì–´ì˜¬ê²½ìš° Flask ì–´í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ì „ë‹¬í•´ì¤€ë‹¤.</p><h2 id=ë§ˆì¹˜ë©°>ë§ˆì¹˜ë©°</h2><p>ì‚¬ì‹¤ ì´ë ‡ê²Œ Apacheë¥¼ ì—°ë™í•˜ë©´ì„œ ê¹Œì§€ í•˜ê²Œ ëœ ê³„ê¸°ëŠ”, Flask ì–´í”Œë¦¬ì¼€ì´ì…˜ êµ¬ë™ì‹œ 80 portë¥¼ ë°›ë„ë¡ êµ¬í˜„í•˜ê³  rootê¶Œí•œì„ ê°€ì§„ ê³„ì •ìœ¼ë¡œ ì‹¤í–‰í•˜ë„ë¡ í•´ë’€ëŠ”ë° ê°€ë” ì¢…ë£Œê°€ ë˜ëŠ” ë¶€ë¶„ì„ í•´ê²°í•˜ê³ ì ì‹œì‘í•˜ê²Œ ë˜ì—ˆë‹¤.
ì´ ë°–ì—ë„ Flaskì˜ ë‹¤ì–‘í•œ ê¸°ëŠ¥ë“¤ê³¼ Flaskë§Œ ì œì™¸í•˜ë©´ ì¼ë°˜ Python ì´ê¸° ë•Œë¬¸ì— í™œìš©ì„±ì€ ë¬´ê¶ë¬´ì§„í• ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.</p><p>2ë¶€ë¡œëŠ” ë˜ë‹¤ë¥¸ ì›¹ì„œë²„ì¸ Nginxë¥¼ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ê³ ì í•œë‹¤.</p></div><center><style>.bmc-button img{width:27px!important;margin-bottom:1px!important;box-shadow:none!important;border:none!important;vertical-align:middle!important}.bmc-button{line-height:29px!important;height:30px!important;text-decoration:none!important;display:inline-flex!important;color:#000!important;background-color:#fd0!important;border-radius:3px!important;border:1px solid transparent!important;padding:1px 9px!important;font-size:22px!important;letter-spacing:.6px!important;box-shadow:0 1px 2px rgba(190,190,190,.5)!important;-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;margin:0 auto!important;font-family:cookie,cursive!important;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;-o-transition:.3s all linear!important;-webkit-transition:.3s all linear!important;-moz-transition:.3s all linear!important;-ms-transition:.3s all linear!important;transition:.3s all linear!important}.bmc-button:hover,.bmc-button:active,.bmc-button:focus{-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;text-decoration:none!important;box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;opacity:.85!important;color:#000!important}</style><link href="https://fonts.googleapis.com/css?family=Cookie" rel=stylesheet><center><br><a class=bmc-button target=_blank href=https://www.buymeacoffee.com/taetaetae><img src=https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg alt="Buy me a coffee"><span style=margin-left:5px>Buy me a coffee</span></a>
<a href=https://bit.ly/ddbSupport target=_blank><img src=https://i.imgur.com/peaYpjh.png style=height:28px></a></center><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2018-06-29</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://taetaetae.github.io/2018/06/29/simple-web-server-flask-apache/ data-title="ì´ˆê°„ë‹¨ APIì„œë²„ ë§Œë“¤ê¸° - 1ë¶€ (Python + Flask + Apache)" data-hashtags="apache,flask,python,web server,archives-2018"><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://taetaetae.github.io/2018/06/29/simple-web-server-flask-apache/ data-hashtag=apache><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://taetaetae.github.io/2018/06/29/simple-web-server-flask-apache/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Blogger" data-sharer=blogger data-url=https://taetaetae.github.io/2018/06/29/simple-web-server-flask-apache/ data-title="ì´ˆê°„ë‹¨ APIì„œë²„ ë§Œë“¤ê¸° - 1ë¶€ (Python + Flask + Apache)" data-description><i class="fab fa-blogger fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/apache/>apache</a>,&nbsp;<a href=/tags/flask/>flask</a>,&nbsp;<a href=/tags/python/>python</a>,&nbsp;<a href=/tags/web-server/>web server</a>,&nbsp;<a href=/tags/archives-2018/>archives-2018</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/2018/06/27/apache-vs-nginx/ class=prev rel=prev title="Apacheëƒ Nginxëƒ, ê·¸ê²ƒì´ ì•Œê³ ì‹¶ë‹¤."><i class="fas fa-angle-left fa-fw"></i>Apacheëƒ Nginxëƒ, ê·¸ê²ƒì´ ì•Œê³ ì‹¶ë‹¤.</a>
<a href=/2018/07/01/simple-web-server-flask-nginx/ class=next rel=next title="ì´ˆê°„ë‹¨ APIì„œë²„ ë§Œë“¤ê¸° - 2ë¶€ (Python + Flask + Nginx)">ì´ˆê°„ë‹¨ APIì„œë²„ ë§Œë“¤ê¸° - 2ë¶€ (Python + Flask + Nginx)<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=utterances></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://utteranc.es/>Utterances</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.74.3">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i>LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2016 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://taetaetae.github.io/resume target=_blank>íƒœíƒœíƒœ</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":500},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"Comment","lightTheme":"github-light","repo":"taetaetae/blog-comment"}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true}};</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','UA-86432198-1',{'anonymize_ip':true});</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-86432198-1" async></script></body></html>