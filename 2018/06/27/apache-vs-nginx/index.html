<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Apache냐 Nginx냐, 그것이 알고싶다. - 👨‍💻꿈꾸는 태태태의 공간</title><meta name=Description content><meta property="og:title" content="Apache냐 Nginx냐, 그것이 알고싶다."><meta property="og:description" content="웹서버는 HTTP 프로토콜을 통해 읽힐수 있는 문서를 처리를 하며 일반적으로 웹 어플리케이션의 앞단에 배치되곤 한다. 동적인 리소스는 WAS에게 처리하도록 하고 정적인 리소스를 보다 효율적으로 처리하기 위한 방법일수도 있다. 크게 Apache와 Nginx가 사용되곤 하는데 이 둘의 차이는 무엇일까?사실 필자는 사내에서 주로 Apache만 사용하다보니 Nginx는 그저 Apache와는 다른 방식의 웹서버다 또는 보다 경량화 되었다 정도로만 알고있었는데 이번기회를 통해 제대로 알고 비교를 해보면서 결국 어떤게 좋은지 알아보고자 한다.
 구글링을 조금만 해보면 Apache와 Nginx를 비교하는 포스팅이 많이 나온다. 이번 포스팅의 목적 이러한 정보들을 단순히 요약/종합 하려는게 아니고, 최대한 실무 서비스를 운영하는 시각으로 정리하고자 함을 밝힌다.
 Apache ( https://httpd.apache.org/ ) 우리나라에서 웹어플리케이션을 개발하는 사람들은 한번쯤은 들어봤을 Apache. 국내 일반적인 기업에서 웹서버의 표준으로 자리잡았다고 해도 과언이 아닐것 같다. Client에서 요청을 받으면 MPM (Multi Processing Module : 다중처리모듈) 이라는 방식으로 처리를 하는데 대표적으로는 Prefork와 Worker방식이 있다. 간단하게 어떤식으로 처리하는지 알고 넘어가자.
 Prefork MPM Prefork MPM, http://old.zope.org/Members/ike/Apache2/osx/configure_html&#34; Prefork MPM, http://old.zope.org/Members/ike/Apache2/osx/configure_html   실행중인 프로세스를 복제되어 처리가 된다. 각 프로세스는 한번에 한 연결만 처리하고 요청량이 많아질수록 프로세스는 증가하지만 복제시 메모리영역까지 복제되어 동작하므로 프로세스간 메모리 공유가 없어 안정적이라 볼수 있다.
 Worker MPM Worker MPM, http://old.zope.org/Members/ike/Apache2/osx/configure_html&#34; Worker MPM, http://old.zope.org/Members/ike/Apache2/osx/configure_html   Prefork 동작방식이 1개의 프로세스가 1개의 스레드로 처리가 되었다면 Worker 동작방식은 1개의 프로세스가 각각 여러 쓰레드를 사용하게 된다. 쓰레드간의 메모리를 공유하며 PreFork방식보다 메모리를 덜 사용하는 장점이 있다.
참고로 WAS로 tomcat을 연동하는 경우라면 mod_jk, mod_proxy, mod_proxy_ajp 방식을 Apache 자체적으로 지원해주기 때문에 다양하고 효율적으로 tomcat을 연동할수 있다. 참고링크
Nginx ( https://nginx.org/en/ ) Nginx에 대해 살펴보기 전에 구글 트랜드를 활용하여 Nginx에 대한 관심이 어느정도인지를 보고 넘어가자.
최근 5년간 구글트랜드, 파란색이 Apache이고 빨간색이 Nginx&#34; 최근 5년간 구글트랜드, 파란색이 Apache이고 빨간색이 Nginx  전세계는 Nginx보다는 Apache에 대한 관심이 많은것으로 보이는데 국내는 아주 조금씩 Nginx에 대한 관심이 오르는것을 볼수있었다. (그래도 아직은 Apache가 월등히 우세한 편이다.) 그럼 Nginx는 어떤식으로 돌아가는 것일까? 가장 유명한(?) 특징이라면 Event Driven 방식을 꼽을수 있을것 같다. Event Driven 방식에 대해 잠깐 언급을 하고 넘어가면 요청이 들어오면 어떤 동작을 해야하는지만 알려주고 다른요청을 처리하는 방식이다. (Producer Consumer Pattern과 유사하다.) 그러다보니 프로세스를 fork하거나 쓰레드를 사용하는 아파치와는 달리 CPU와 관계없이 모든 IO들을 전부 Event Listener로 미루기 때문에 흐름이 끊기지 않고 응답이 빠르게 진행이 되어 1개의 프로세스로 더 빠른 작업이 가능하게 될수 있다. 이때문에 메모리적인 측면에서 Nginx가 System Resource를 적게 처리한다는 장점이 있다고 한다.
Nginx Process Model (https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale)&#34; Nginx Process Model (https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale)  그래서 뭐가 좋은가? 이 포스팅을 적으면서 마지막엔 Apache가 더좋다 또는 Nginx가 더좋다로 마무리를 짓고 싶었는데 어느 시사/교양 프로그램처럼 어쩔수 없는 열린결말로 마무리를 지을수밖에 없을것 같다. (어찌보면 이게 정답일수도?)
기술의 선택에 있어서 정답은 없는것 같다.(물론 Spring 을 사용하느냐 서블릿을 직접 구현하는냐 와는 좀 다른 성격의 이야기;;) 운영하고 있는 서비스의 상황을 잘 알고 튜닝을 해가면서 가장 효율적인것을 선택하는게 정답이라고 말할수 밖에&mldr; 커뮤니티 파워를 무시 못하기 때문에 Apache를 선택할수도 있을테고, 점점 관심도가 올라간다는건 그만큼의 장점이 있고 또한 메모리 측면에서 동접자 처리시 효율적인 Nginx를 사용할수 있을것 같다.
정리하면. 내가 사용하기에 어려움이 없는 도구를 잘 활용하는것, 그렇다고 오래된 기술이 편한다고 집착해서는 안되며, 새로운 기술을 두려워 하지말고 경험을 해본 뒤에 결정을 할것 이라고 내릴수 있을것 같다. (어렵다&mldr;ㅠㅠ)
  참고 포스팅 http://www.mukgee.com/?p=293 http://knot.tistory.com/88 http://tmondev.blog.me/220737182315 http://tmondev.blog.me/220731906490 http://urin79.com/blog/20654191 http://jaweb.tistory.com/entry/apache-%EC%99%80-Nginx-%EB%AD%90%EA%B0%80-%EC%A2%8B%EC%9D%80%EA%B1%B0%EC%95%BC"><meta property="og:type" content="article"><meta property="og:url" content="https://taetaetae.github.io/2018/06/27/apache-vs-nginx/"><meta property="og:image" content="https://taetaetae.github.io/images/apache-vs-nginx/want_to_know_that_apache_vs_nginx.png"><meta property="article:published_time" content="2018-06-27T17:17:33+00:00"><meta property="article:modified_time" content="2018-06-27T17:17:33+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://taetaetae.github.io/images/apache-vs-nginx/want_to_know_that_apache_vs_nginx.png"><meta name=twitter:title content="Apache냐 Nginx냐, 그것이 알고싶다."><meta name=twitter:description content="웹서버는 HTTP 프로토콜을 통해 읽힐수 있는 문서를 처리를 하며 일반적으로 웹 어플리케이션의 앞단에 배치되곤 한다. 동적인 리소스는 WAS에게 처리하도록 하고 정적인 리소스를 보다 효율적으로 처리하기 위한 방법일수도 있다. 크게 Apache와 Nginx가 사용되곤 하는데 이 둘의 차이는 무엇일까?사실 필자는 사내에서 주로 Apache만 사용하다보니 Nginx는 그저 Apache와는 다른 방식의 웹서버다 또는 보다 경량화 되었다 정도로만 알고있었는데 이번기회를 통해 제대로 알고 비교를 해보면서 결국 어떤게 좋은지 알아보고자 한다.
 구글링을 조금만 해보면 Apache와 Nginx를 비교하는 포스팅이 많이 나온다. 이번 포스팅의 목적 이러한 정보들을 단순히 요약/종합 하려는게 아니고, 최대한 실무 서비스를 운영하는 시각으로 정리하고자 함을 밝힌다.
 Apache ( https://httpd.apache.org/ ) 우리나라에서 웹어플리케이션을 개발하는 사람들은 한번쯤은 들어봤을 Apache. 국내 일반적인 기업에서 웹서버의 표준으로 자리잡았다고 해도 과언이 아닐것 같다. Client에서 요청을 받으면 MPM (Multi Processing Module : 다중처리모듈) 이라는 방식으로 처리를 하는데 대표적으로는 Prefork와 Worker방식이 있다. 간단하게 어떤식으로 처리하는지 알고 넘어가자.
 Prefork MPM Prefork MPM, http://old.zope.org/Members/ike/Apache2/osx/configure_html&#34; Prefork MPM, http://old.zope.org/Members/ike/Apache2/osx/configure_html   실행중인 프로세스를 복제되어 처리가 된다. 각 프로세스는 한번에 한 연결만 처리하고 요청량이 많아질수록 프로세스는 증가하지만 복제시 메모리영역까지 복제되어 동작하므로 프로세스간 메모리 공유가 없어 안정적이라 볼수 있다.
 Worker MPM Worker MPM, http://old.zope.org/Members/ike/Apache2/osx/configure_html&#34; Worker MPM, http://old.zope.org/Members/ike/Apache2/osx/configure_html   Prefork 동작방식이 1개의 프로세스가 1개의 스레드로 처리가 되었다면 Worker 동작방식은 1개의 프로세스가 각각 여러 쓰레드를 사용하게 된다. 쓰레드간의 메모리를 공유하며 PreFork방식보다 메모리를 덜 사용하는 장점이 있다.
참고로 WAS로 tomcat을 연동하는 경우라면 mod_jk, mod_proxy, mod_proxy_ajp 방식을 Apache 자체적으로 지원해주기 때문에 다양하고 효율적으로 tomcat을 연동할수 있다. 참고링크
Nginx ( https://nginx.org/en/ ) Nginx에 대해 살펴보기 전에 구글 트랜드를 활용하여 Nginx에 대한 관심이 어느정도인지를 보고 넘어가자.
최근 5년간 구글트랜드, 파란색이 Apache이고 빨간색이 Nginx&#34; 최근 5년간 구글트랜드, 파란색이 Apache이고 빨간색이 Nginx  전세계는 Nginx보다는 Apache에 대한 관심이 많은것으로 보이는데 국내는 아주 조금씩 Nginx에 대한 관심이 오르는것을 볼수있었다. (그래도 아직은 Apache가 월등히 우세한 편이다.) 그럼 Nginx는 어떤식으로 돌아가는 것일까? 가장 유명한(?) 특징이라면 Event Driven 방식을 꼽을수 있을것 같다. Event Driven 방식에 대해 잠깐 언급을 하고 넘어가면 요청이 들어오면 어떤 동작을 해야하는지만 알려주고 다른요청을 처리하는 방식이다. (Producer Consumer Pattern과 유사하다.) 그러다보니 프로세스를 fork하거나 쓰레드를 사용하는 아파치와는 달리 CPU와 관계없이 모든 IO들을 전부 Event Listener로 미루기 때문에 흐름이 끊기지 않고 응답이 빠르게 진행이 되어 1개의 프로세스로 더 빠른 작업이 가능하게 될수 있다. 이때문에 메모리적인 측면에서 Nginx가 System Resource를 적게 처리한다는 장점이 있다고 한다.
Nginx Process Model (https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale)&#34; Nginx Process Model (https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale)  그래서 뭐가 좋은가? 이 포스팅을 적으면서 마지막엔 Apache가 더좋다 또는 Nginx가 더좋다로 마무리를 짓고 싶었는데 어느 시사/교양 프로그램처럼 어쩔수 없는 열린결말로 마무리를 지을수밖에 없을것 같다. (어찌보면 이게 정답일수도?)
기술의 선택에 있어서 정답은 없는것 같다.(물론 Spring 을 사용하느냐 서블릿을 직접 구현하는냐 와는 좀 다른 성격의 이야기;;) 운영하고 있는 서비스의 상황을 잘 알고 튜닝을 해가면서 가장 효율적인것을 선택하는게 정답이라고 말할수 밖에&mldr; 커뮤니티 파워를 무시 못하기 때문에 Apache를 선택할수도 있을테고, 점점 관심도가 올라간다는건 그만큼의 장점이 있고 또한 메모리 측면에서 동접자 처리시 효율적인 Nginx를 사용할수 있을것 같다.
정리하면. 내가 사용하기에 어려움이 없는 도구를 잘 활용하는것, 그렇다고 오래된 기술이 편한다고 집착해서는 안되며, 새로운 기술을 두려워 하지말고 경험을 해본 뒤에 결정을 할것 이라고 내릴수 있을것 같다. (어렵다&mldr;ㅠㅠ)
  참고 포스팅 http://www.mukgee.com/?p=293 http://knot.tistory.com/88 http://tmondev.blog.me/220737182315 http://tmondev.blog.me/220731906490 http://urin79.com/blog/20654191 http://jaweb.tistory.com/entry/apache-%EC%99%80-Nginx-%EB%AD%90%EA%B0%80-%EC%A2%8B%EC%9D%80%EA%B1%B0%EC%95%BC"><meta name=application-name content="👨‍💻꿈꾸는 태태태의 공간"><meta name=apple-mobile-web-app-title content="👨‍💻꿈꾸는 태태태의 공간"><meta name=naver-site-verification content="2d1cdbb963ba178aa7cbf58500afc668cae1e645"><meta name=google-site-verification content="vvFCdv0-GuQhEWG8vtNJfA7YSY2HYQ1hpHh9P-a6Pv8"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://taetaetae.github.io/2018/06/27/apache-vs-nginx/><link rel=prev href=https://taetaetae.github.io/2018/05/31/anomaly-detection/><link rel=next href=https://taetaetae.github.io/2018/06/29/simple-web-server-flask-apache/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Apache냐 Nginx냐, 그것이 알고싶다.","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/taetaetae.github.io\/2018\/06\/27\/apache-vs-nginx\/"},"genre":"posts","keywords":"apache, nginx, web server, Event Driven, Prefork MPM, Worker MPM, archives-2018","wordcount":477,"url":"https:\/\/taetaetae.github.io\/2018\/06\/27\/apache-vs-nginx\/","datePublished":"2018-06-27T17:17:33+00:00","dateModified":"2018-06-27T17:17:33+00:00","publisher":{"@type":"Organization","name":"태태태"},"author":{"@type":"Person","name":"태태태"},"description":""}</script></head><body header-desktop=auto header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="👨‍💻꿈꾸는 태태태의 공간">👨‍💻꿈꾸는 태태태의 공간</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="👨‍💻꿈꾸는 태태태의 공간">👨‍💻꿈꾸는 태태태의 공간</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/>Posts</a><a class=menu-item href=/tags/>Tags</a><a class=menu-item href=/categories/>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:inline-block;width:260px;height:600px data-ad-client=ca-pub-5788330009690816 data-ad-slot=2248955907></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div><article class="page single"><h1 class="single-title animated flipInX">Apache냐 Nginx냐, 그것이 알고싶다.</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://taetaetae.github.io/resume title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>태태태</a></span>&nbsp;<span class=post-category>included in <a href=/categories/tech/><i class="far fa-folder fa-fw"></i>Tech</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2018-06-27>2018-06-27</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;477 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;3 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/images/apache-vs-nginx/want_to_know_that_apache_vs_nginx.png data-srcset="/images/apache-vs-nginx/want_to_know_that_apache_vs_nginx.png, /images/apache-vs-nginx/want_to_know_that_apache_vs_nginx.png 1.5x, /images/apache-vs-nginx/want_to_know_that_apache_vs_nginx.png 2x" data-sizes=auto alt=/images/apache-vs-nginx/want_to_know_that_apache_vs_nginx.png title=/images/apache-vs-nginx/want_to_know_that_apache_vs_nginx.png></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#apache--httpshttpdapacheorg->Apache ( <a href=https://httpd.apache.org/>https://httpd.apache.org/</a> )</a></li><li><a href=#nginx--httpsnginxorgen->Nginx ( <a href=https://nginx.org/en/>https://nginx.org/en/</a> )</a></li><li><a href=#그래서-뭐가-좋은가>그래서 뭐가 좋은가?</a></li></ul></nav></div></div><div class=content id=content><p>웹서버는 HTTP 프로토콜을 통해 읽힐수 있는 문서를 처리를 하며 일반적으로 웹 어플리케이션의 앞단에 배치되곤 한다. 동적인 리소스는 WAS에게 처리하도록 하고 정적인 리소스를 보다 효율적으로 처리하기 위한 방법일수도 있다. 크게 Apache와 Nginx가 사용되곤 하는데 이 둘의 차이는 무엇일까? 사실 필자는 사내에서 주로 Apache만 사용하다보니 Nginx는 그저 <code>Apache와는 다른 방식의 웹서버다</code> 또는 <code>보다 경량화 되었다</code> 정도로만 알고있었는데 이번기회를 통해 제대로 알고 비교를 해보면서 결국 어떤게 좋은지 알아보고자 한다.</p><blockquote><p>구글링을 조금만 해보면 Apache와 Nginx를 비교하는 포스팅이 많이 나온다. 이번 포스팅의 목적 이러한 정보들을 단순히 요약/종합 하려는게 아니고, 최대한 실무 서비스를 운영하는 시각으로 정리하고자 함을 밝힌다.</p></blockquote><h2 id=apache--httpshttpdapacheorg->Apache ( <a href=https://httpd.apache.org/>https://httpd.apache.org/</a> )</h2><p>우리나라에서 웹어플리케이션을 개발하는 사람들은 한번쯤은 들어봤을 <code>Apache</code>. 국내 일반적인 기업에서 웹서버의 표준으로 자리잡았다고 해도 과언이 아닐것 같다. Client에서 요청을 받으면 MPM (Multi Processing Module : 다중처리모듈) 이라는 방식으로 처리를 하는데 대표적으로는 Prefork와 Worker방식이 있다. 간단하게 어떤식으로 처리하는지 알고 넘어가자.</p><ul><li>Prefork MPM<figure><a class=lightgallery href=/images/apache-vs-nginx/prefork.gif title=/images/apache-vs-nginx/prefork.gif data-thumbnail=/images/apache-vs-nginx/prefork.gif data-sub-html="<h2>Prefork MPM, http://old.zope.org/Members/ike/Apache2/osx/configure_html</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/apache-vs-nginx/prefork.gif data-srcset="/images/apache-vs-nginx/prefork.gif, /images/apache-vs-nginx/prefork.gif 1.5x, /images/apache-vs-nginx/prefork.gif 2x" data-sizes=auto alt=/images/apache-vs-nginx/prefork.gif></a><figcaption class=image-caption>Prefork MPM, <a href=http://old.zope.org/Members/ike/Apache2/osx/configure_html>http://old.zope.org/Members/ike/Apache2/osx/configure_html</a></figcaption></figure></li></ul><p>실행중인 프로세스를 복제되어 처리가 된다. 각 프로세스는 한번에 한 연결만 처리하고 요청량이 많아질수록 프로세스는 증가하지만 복제시 메모리영역까지 복제되어 동작하므로 프로세스간 메모리 공유가 없어 안정적이라 볼수 있다.</p><ul><li>Worker MPM<figure><a class=lightgallery href=/images/apache-vs-nginx/worker.gif title=/images/apache-vs-nginx/worker.gif data-thumbnail=/images/apache-vs-nginx/worker.gif data-sub-html="<h2>Worker MPM, http://old.zope.org/Members/ike/Apache2/osx/configure_html</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/apache-vs-nginx/worker.gif data-srcset="/images/apache-vs-nginx/worker.gif, /images/apache-vs-nginx/worker.gif 1.5x, /images/apache-vs-nginx/worker.gif 2x" data-sizes=auto alt=/images/apache-vs-nginx/worker.gif></a><figcaption class=image-caption>Worker MPM, <a href=http://old.zope.org/Members/ike/Apache2/osx/configure_html>http://old.zope.org/Members/ike/Apache2/osx/configure_html</a></figcaption></figure></li></ul><p>Prefork 동작방식이 1개의 프로세스가 1개의 스레드로 처리가 되었다면 Worker 동작방식은 1개의 프로세스가 각각 여러 쓰레드를 사용하게 된다. 쓰레드간의 메모리를 공유하며 PreFork방식보다 메모리를 덜 사용하는 장점이 있다.</p><p>참고로 WAS로 tomcat을 연동하는 경우라면 <a href=https://tomcat.apache.org/download-connectors.cgi target=_blank rel="noopener noreffer">mod_jk</a>, <a href=https://httpd.apache.org/docs/2.4/mod/mod_proxy.html target=_blank rel="noopener noreffer">mod_proxy</a>, <a href=https://httpd.apache.org/docs/2.4/mod/mod_proxy_ajp.html target=_blank rel="noopener noreffer">mod_proxy_ajp</a> 방식을 Apache 자체적으로 지원해주기 때문에 다양하고 효율적으로 tomcat을 연동할수 있다. <a href="https://www.lesstif.com/pages/viewpage.action?pageId=12943367" target=_blank rel="noopener noreffer">참고링크</a></p><h2 id=nginx--httpsnginxorgen->Nginx ( <a href=https://nginx.org/en/>https://nginx.org/en/</a> )</h2><p>Nginx에 대해 살펴보기 전에 <a href=https://trends.google.co.kr target=_blank rel="noopener noreffer">구글 트랜드</a>를 활용하여 Nginx에 대한 관심이 어느정도인지를 보고 넘어가자.</p><figure><a class=lightgallery href=/images/apache-vs-nginx/google-trand.png title=/images/apache-vs-nginx/google-trand.png data-thumbnail=/images/apache-vs-nginx/google-trand.png data-sub-html="<h2>최근 5년간 구글트랜드, 파란색이 Apache이고 빨간색이 Nginx</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/apache-vs-nginx/google-trand.png data-srcset="/images/apache-vs-nginx/google-trand.png, /images/apache-vs-nginx/google-trand.png 1.5x, /images/apache-vs-nginx/google-trand.png 2x" data-sizes=auto alt=/images/apache-vs-nginx/google-trand.png></a><figcaption class=image-caption>최근 5년간 구글트랜드, 파란색이 Apache이고 빨간색이 Nginx</figcaption></figure><p>전세계는 Nginx보다는 Apache에 대한 관심이 많은것으로 보이는데 국내는 아주 조금씩 Nginx에 대한 관심이 오르는것을 볼수있었다. (그래도 아직은 Apache가 월등히 우세한 편이다.)
그럼 Nginx는 어떤식으로 돌아가는 것일까? 가장 유명한(?) 특징이라면 <code>Event Driven 방식</code>을 꼽을수 있을것 같다. Event Driven 방식에 대해 잠깐 언급을 하고 넘어가면 요청이 들어오면 어떤 동작을 해야하는지만 알려주고 다른요청을 처리하는 방식이다. (<a href=https://dzone.com/articles/producer-consumer-pattern target=_blank rel="noopener noreffer">Producer Consumer Pattern</a>과 유사하다.) 그러다보니 프로세스를 fork하거나 쓰레드를 사용하는 아파치와는 달리 CPU와 관계없이 모든 IO들을 전부 Event Listener로 미루기 때문에 흐름이 끊기지 않고 응답이 빠르게 진행이 되어 1개의 프로세스로 더 빠른 작업이 가능하게 될수 있다. 이때문에 메모리적인 측면에서 Nginx가 System Resource를 적게 처리한다는 장점이 있다고 한다.</p><figure><a class=lightgallery href=/images/apache-vs-nginx/nginx_process_model.png title=/images/apache-vs-nginx/nginx_process_model.png data-thumbnail=/images/apache-vs-nginx/nginx_process_model.png data-sub-html="<h2>Nginx Process Model (https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale)</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/apache-vs-nginx/nginx_process_model.png data-srcset="/images/apache-vs-nginx/nginx_process_model.png, /images/apache-vs-nginx/nginx_process_model.png 1.5x, /images/apache-vs-nginx/nginx_process_model.png 2x" data-sizes=auto alt=/images/apache-vs-nginx/nginx_process_model.png></a><figcaption class=image-caption>Nginx Process Model (<a href=https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale>https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale</a>)</figcaption></figure><h2 id=그래서-뭐가-좋은가>그래서 뭐가 좋은가?</h2><p>이 포스팅을 적으면서 마지막엔 <code>Apache가 더좋다</code> 또는 <code>Nginx가 더좋다</code>로 마무리를 짓고 싶었는데 어느 시사/교양 프로그램처럼 어쩔수 없는 <code>열린결말</code>로 마무리를 지을수밖에 없을것 같다. (어찌보면 이게 정답일수도?)</p><p>기술의 선택에 있어서 정답은 없는것 같다.(물론 Spring 을 사용하느냐 서블릿을 직접 구현하는냐 와는 좀 다른 성격의 이야기;;) 운영하고 있는 서비스의 상황을 잘 알고 튜닝을 해가면서 가장 효율적인것을 선택하는게 정답이라고 말할수 밖에&mldr; 커뮤니티 파워를 무시 못하기 때문에 Apache를 선택할수도 있을테고, 점점 관심도가 올라간다는건 그만큼의 장점이 있고 또한 메모리 측면에서 동접자 처리시 효율적인 Nginx를 사용할수 있을것 같다.</p><p>정리하면. 내가 사용하기에 어려움이 없는 도구를 잘 활용하는것, 그렇다고 오래된 기술이 편한다고 집착해서는 안되며, 새로운 기술을 두려워 하지말고 경험을 해본 뒤에 결정을 할것 이라고 내릴수 있을것 같다. (어렵다&mldr;ㅠㅠ)</p><hr><ul><li>참고 포스팅
<a href="http://www.mukgee.com/?p=293">http://www.mukgee.com/?p=293</a>
<a href=http://knot.tistory.com/88>http://knot.tistory.com/88</a>
<a href=http://tmondev.blog.me/220737182315>http://tmondev.blog.me/220737182315</a>
<a href=http://tmondev.blog.me/220731906490>http://tmondev.blog.me/220731906490</a>
<a href=http://urin79.com/blog/20654191>http://urin79.com/blog/20654191</a>
<a href=http://jaweb.tistory.com/entry/apache-%EC%99%80-Nginx-%EB%AD%90%EA%B0%80-%EC%A2%8B%EC%9D%80%EA%B1%B0%EC%95%BC>http://jaweb.tistory.com/entry/apache-%EC%99%80-Nginx-%EB%AD%90%EA%B0%80-%EC%A2%8B%EC%9D%80%EA%B1%B0%EC%95%BC</a></li></ul></div><center><style>.bmc-button img{width:27px!important;margin-bottom:1px!important;box-shadow:none!important;border:none!important;vertical-align:middle!important}.bmc-button{line-height:29px!important;height:30px!important;text-decoration:none!important;display:inline-flex!important;color:#000!important;background-color:#fd0!important;border-radius:3px!important;border:1px solid transparent!important;padding:1px 9px!important;font-size:22px!important;letter-spacing:.6px!important;box-shadow:0 1px 2px rgba(190,190,190,.5)!important;-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;margin:0 auto!important;font-family:cookie,cursive!important;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;-o-transition:.3s all linear!important;-webkit-transition:.3s all linear!important;-moz-transition:.3s all linear!important;-ms-transition:.3s all linear!important;transition:.3s all linear!important}.bmc-button:hover,.bmc-button:active,.bmc-button:focus{-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;text-decoration:none!important;box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;opacity:.85!important;color:#000!important}</style><link href="https://fonts.googleapis.com/css?family=Cookie" rel=stylesheet><center><br><a class=bmc-button target=_blank href=https://www.buymeacoffee.com/taetaetae><img src=https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg alt="Buy me a coffee"><span style=margin-left:5px>Buy me a coffee</span></a>
<a href=https://bit.ly/ddbSupport target=_blank><img src=https://i.imgur.com/peaYpjh.png style=height:28px></a></center><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2018-06-27</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://taetaetae.github.io/2018/06/27/apache-vs-nginx/ data-title="Apache냐 Nginx냐, 그것이 알고싶다." data-hashtags="apache,nginx,web server,Event Driven,Prefork MPM,Worker MPM,archives-2018"><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://taetaetae.github.io/2018/06/27/apache-vs-nginx/ data-hashtag=apache><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://taetaetae.github.io/2018/06/27/apache-vs-nginx/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Blogger" data-sharer=blogger data-url=https://taetaetae.github.io/2018/06/27/apache-vs-nginx/ data-title="Apache냐 Nginx냐, 그것이 알고싶다." data-description><i class="fab fa-blogger fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/apache/>apache</a>,&nbsp;<a href=/tags/nginx/>nginx</a>,&nbsp;<a href=/tags/web-server/>web server</a>,&nbsp;<a href=/tags/event-driven/>Event Driven</a>,&nbsp;<a href=/tags/prefork-mpm/>Prefork MPM</a>,&nbsp;<a href=/tags/worker-mpm/>Worker MPM</a>,&nbsp;<a href=/tags/archives-2018/>archives-2018</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/2018/05/31/anomaly-detection/ class=prev rel=prev title="시계열 데이터를 분석하여 미래 예측 하기(Anomaly Detection)"><i class="fas fa-angle-left fa-fw"></i>시계열 데이터를 분석하여 미래 예측 하기(Anomaly Detection)</a>
<a href=/2018/06/29/simple-web-server-flask-apache/ class=next rel=next title="초간단 API서버 만들기 - 1부 (Python + Flask + Apache)">초간단 API서버 만들기 - 1부 (Python + Flask + Apache)<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=utterances></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://utteranc.es/>Utterances</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.74.3">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i>LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2016 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://taetaetae.github.io/resume target=_blank>태태태</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":500},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"Comment","lightTheme":"github-light","repo":"taetaetae/blog-comment"}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true}};</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','UA-86432198-1',{'anonymize_ip':true});</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-86432198-1" async></script></body></html>