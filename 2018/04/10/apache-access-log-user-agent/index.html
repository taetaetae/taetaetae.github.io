<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>ë‚´ ì„œë²„ì—ëŠ” ëˆ„ê°€ ë“¤ì–´ì˜¤ëŠ”ê±¸ê¹Œ? (ì‹¤ì‹œê°„ user-agent ë¶„ì„ê¸°) - ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„</title><meta name=Description content><meta property="og:title" content="ë‚´ ì„œë²„ì—ëŠ” ëˆ„ê°€ ë“¤ì–´ì˜¤ëŠ”ê±¸ê¹Œ? (ì‹¤ì‹œê°„ user-agent ë¶„ì„ê¸°)"><meta property="og:description" content="Desktop ë° ìŠ¤ë§ˆíŠ¸í°ì˜ ëŒ€ì¤‘í™”ë¡œ ë‹¤ì–‘í•œ OSì™€ ë¸Œë¼ìš°ì €ë“¤ì„ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆë‹¤. ì´ë•Œ, ë‚´ê°€ ìš´ì˜í•˜ëŠ” ì›¹ì„œë²„ì— ë“¤ì–´ì˜¤ëŠ” ì‚¬ëŒë“¤ì€ ë¬´ìŠ¨ ê¸°ê¸°ë¡œ ì ‘ì†ì„ í•˜ëŠ” ê²ƒì¼ê¹Œ? í˜¹ì—¬ íŠ¹ì • OSì˜ íŠ¹ì • ë¸Œë¼ìš°ì €ì—ì„œë§Œ ì•ˆë˜ëŠ” ë²„ê·¸ë¥¼ ì¡ê¸° ìœ„í•´ ëª‡ì¼ë°¤ì„ ê³ ìƒí•˜ë©° ê²¨ìš° ìˆ˜ì •í–ˆëŠ”ë°&mldr; ê³¼ì—° ê·¸ OSì˜ ë¸Œë¼ìš°ì €ì—ì„œëŠ” ì ‘ì†ì€ í•˜ê¸°ë‚˜ í•˜ëŠ”ê±¸ê¹Œ? (ã… ã… ) ë§Œì•½, ì ‘ì† ì‚¬ìš©ìì˜ Device ì •ë³´ë¥¼ ì•Œê³ ìˆë‹¤ë©´ ê³ ìƒí•˜ë©° ë²„ê·¸ë¥¼ ì¡ê¸° ì „ì— ë¨¼ì € í•´ë‹¹ Device ì‚¬ìš©ìœ¨ì„ ì²´í¬í•´ ë³¼ìˆ˜ë„ ìˆê³ (ìˆ˜ì •ì´ ì•„ë‹Œ ê°„ë‹¨í•œ ì–¼ëŸ¿ìœ¼ë¡œ í•´ê²°í•œë‹¤ê±°ë‚˜?) ë¹„ì§€ë‹ˆìŠ¤ ëª¨ë¸ê¹Œì§€ ìƒê°í•´ì•¼í•˜ëŠ” ì„œë¹„ìŠ¤ë¼ë©´ íƒ€ê²ŸíŒ…ì„ ì •í•˜ëŠ” ë“± ë‹¤ì–‘í•œ í™œìš©ë„ê°€ ë†’ì€ ê²ƒì´ ë°”ë¡œ User-Agentë¼ê³  í•œë‹¤(ì´í•˜ UA). ì¼ë°˜ Apache ë¥¼ ì›¹ì„œë²„ë¡œ ìš´ì˜í•˜ê³  ìˆë‹¤ê³  ê°€ì •ì„ í•˜ê³  ì–´ë–»ê²Œ ë¶„ì„ì„ í• ìˆ˜ ìˆì—ˆëŠ”ì§€, ê·¸ë¦¬ê³  ë¶„ì„ì„ í•˜ë©° ì¢€ë” ìš°ì•„í•œ(?) ë°©ë²•ì€ ì—†ëŠ”ì§€ ì•Œì•„ ë³´ê³ ì í•œë‹¤.
User-Agentê°€ ë­ì•¼? ë°±ë¬¸ì´ ë¶ˆì—¬ì¼íƒ€(?)ë¼ í–ˆë˜ê°€, ìš°ì„  http://www.useragentstring.com ë¥¼ ë“¤ì–´ê°€ë³´ì. ê·¸ëŸ¬ë©´ ìì‹ ì˜ OS ë° ë¸Œë¼ìš°ì € ë“± ì •ë³´ë¥¼ íŒŒì‹±í•´ì„œ ë³´ì—¬ì£¼ëŠ”ë° ìœ„í‚¤ë°±ê³¼ì— ë”°ë¥´ë©´ &lsquo;ì‚¬ìš©ìë¥¼ ëŒ€ì‹ í•˜ì—¬ ì¼ì„ ìˆ˜í–‰í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì—ì´ì „íŠ¸&rsquo;ë¼ê³  í•œë‹¤. ì¦‰, UAë§Œ ì•Œì•„ë„ ì–´ë–¤ ê¸°ê¸°/ë¸Œë¼ìš°ì €ë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤ëŠ”ê²ƒ. mozillaì— ê°€ë³´ë©´ ìŠ¤íŒ© ë“± ë‹¤ì–‘í•œ UAë¥¼ ë³¼ìˆ˜ê°€ ìˆëŠ”ë° íŠ¹íˆ ë§¨ ì•„ë˜ë³´ë©´ ê¸°ê¸°/ë¸Œë¼ìš°ì €ë³„ë¡œ ì§€ì›ì •ë³´ê°€ ë‚˜ì™€ìˆë‹¤. ì—¬ê¸°ì„œë„ ë³´ë©´ ëª¨ë“  ëª¨ë°”ì¼ ì‚¼ì„± ë¸Œë¼ìš°ì €ë¥¼ ì œì™¸í•˜ê³ ëŠ” ì „ë¶€ ì§€ì›ì´ ë˜ëŠ”ê±¸ í™•ì¸í• ìˆ˜ ìˆë‹¤.
ì¶œì²˜ : developer.mozilla.org&#34; ì¶œì²˜ : developer.mozilla.org  ê¸°ì¡´ì˜ ë°©ë²• ê·¸ëŸ¼ ì–´ë–»ê²Œ ë‚´ ì„œë²„ì— ë“¤ì–´ì˜¨ ì‚¬ìš©ìë“¤ì˜ UAë¥¼ í™•ì¸í•  ìˆ˜ ìˆì„ê¹Œ? (ì•ì„œ Apacheë¥¼ ì›¹ì„œë²„ë¡œ ìš´ì˜í•œë‹¤ê³  í–ˆìœ¼ë‹ˆ) Apache access log ì—ëŠ” Apacheì—ì„œ ì œê³µí•´ì£¼ëŠ” ëª¨ë“ˆì„ ì´ìš©í•´ ì ‘ì†í•œ í´ë¼ì´ì–¸íŠ¸ì˜ ì •ë³´ê°€ ë‚¨ê²¨ì§€ê³¤ í•œë‹¤. ê·¸ë ‡ë‹¤ë©´ ì´ access logë¥¼ ë¦¬ëˆ…ìŠ¤ ëª…ë ¹ì–´ë“  ì—‘ì…€ë¡œ ë½‘ì•„ì„œë“ ì§€ í™œìš©í•´ì„œ ì •ê·œì‹ìœ¼ë¡œ í¬ë§·íŒ… í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ ë‹¤ì‹œ ê·¸ë£¹í™” ì‹œí‚¤ë©´ ì–¼ì¶” ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ì¶”ì¶œí•´ ë‚¼ìˆ˜ ìˆë‹¤. ( ë²„ê±°í˜•ë“¤ì´ ë§Œë“¤ì–´ë‘” ì •ê·œì‹ì„ ê°€ì ¸ë‹¤ ì‚¬ìš©í• ìˆ˜ë„ ìˆê² ë‹¤. https://regexr.com/?37l4e ) í•˜ì§€ë§Œ, ìš°ì„  ìë™í™”ê°€ ì•ˆë˜ì–´ìˆì–´ ë°ì´í„°ë¥¼ êµ¬í•˜ê³  ì‹¶ì„ë•Œë§ˆë‹¤ ê·€ì°¨ë‹ˆì¦˜ì— ê±¸ë¦´ìˆ˜ ìˆê³  ìŠˆí¼ ê°œë°œì íŒŒì›Œë¥¼ ê¸°ë°˜ìœ¼ë¡œ(?) ë°ì´í„° ì¶”ì¶œì„ ìë™í™” í•œë“¤ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³´ê³ ì‹¶ì„ë• ì œí•œì‚¬í•­ì´ ë§ë‹¤.
ì¢€ë” ë‚˜ì€ ë°©ë²•(?) ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ëª¨ë‹ˆí„°ë§ í•˜ëŠ”ë°ì—ëŠ” ë‹¤ì–‘í•œ ì˜¤í”ˆì†ŒìŠ¤ì™€ ë‹¤ì–‘í•œ íˆ´ì´ ìˆê² ì§€ë§Œ ê²½í—˜ì´ ë¶€ì¡±í•œê±´ì§€ ì•„ì§ê¹Œì§„ ElasticStack ë§Œí•œê±¸ ëª»ë³¸ê²ƒ ê°™ë‹¤. ê°„ë‹¨í•˜ê²Œ ì„¤ëª…ì„ í•˜ë©´ access log ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  frontë‹¨ì—ì„œ javascript ë¡œ UAë¥¼ êµ¬í•œë‹¤ìŒ ì´ëŸ¬í•œ ì •ë³´ë¥¼ ë°›ì„ìˆ˜ ìˆëŠ” APIë¥¼ ë§Œë“¤ì–´ ê·¸ìª½ìœ¼ë¡œ ë³´ë‚´ë©´ ì„œë²„ì—ì„œ í•´ë‹¹ UAë¥¼ ë¶„ì„í•´ì„œ ì¹´í”„ì¹´ë¡œ ë³´ë‚´ê³  ..!@#$%^blabla&mldr; ^^; ê·¸ë¦¼ìœ¼ë¡œ ë³´ì.
ì¢€ë” ë‚˜ì€ ë°©ë²•&#34; ì¢€ë” ë‚˜ì€ ë°©ë²•  frontë‹¨ì—ì„œëŠ” navigator.userAgentë¥¼ í™œìš©í•˜ì—¬ UAë¥¼ êµ¬í• ìˆ˜ ìˆì—ˆê³ , APIì—ì„œëŠ” UAë¥¼ ë°›ê³  íŒŒì‹±ì„ í•˜ëŠ”ë° ê´€ë ¨ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•˜ì˜€ë‹¤.
private static final String VERSION_SEPARATOR = &#34;.&#34;; private void userAgentParsingToMap(String userAgent, Map<String, Object> dataMap) { HashMap browser = Browser.lookup(userAgent); HashMap os = OS.lookup(userAgent); HashMap device = Device.lookup(userAgent); dataMap.put(&#34;browserName&#34;, browser.get(&#34;family&#34;)); dataMap.put(&#34;browserVersion&#34;, getVersion(browser)); dataMap.put(&#34;osName&#34;, os.get(&#34;family&#34;)); dataMap.put(&#34;osVersion&#34;, getVersion(os)); dataMap.put(&#34;deviceModel&#34;, device.get(&#34;model&#34;)); dataMap.put(&#34;deviceBrand&#34;, device.get(&#34;brand&#34;)); } private String getVersion(HashMap dataMap) { String majorVersion = (String)dataMap.get(&#34;major&#34;); if (StringUtils.isEmpty(majorVersion)) { return StringUtils.EMPTY; } String minorVersion = (String)dataMap.get(&#34;minor&#34;); String pathVersion = (String)dataMap.get(&#34;path&#34;); StringBuffer sb = new StringBuffer(); sb.append(majorVersion); if (!StringUtils.isEmpty(minorVersion)) { sb.append(VERSION_SEPARATOR); sb.append(minorVersion); } if (!StringUtils.isEmpty(pathVersion)) { sb.append(VERSION_SEPARATOR); sb.append(pathVersion); } return sb.toString(); } ì°¸ê³ ë¡œ Javaë‹¨ì—ì„œ UAë¥¼ íŒŒì‹±í•˜ëŠ” parserê°€ ì—¬ëŸ¬ê°€ì§€ê°€ ìˆëŠ”ë° ê·¸ì¤‘ uap_cljë¼ëŠ” ëª¨ë“ˆì´ ê·¸ë‚˜ë§ˆ ì˜ íŒŒì‹±ì´ ë˜ì–´ì„œ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆë‹¤.
 ëª¨ë“ˆë³„ ë¹„êµ     ëª¨ë“ˆ Browser OS Device     eu.bitwalker.useragentutils.UserAgent O ë¶ˆëª…í™•í•¨ (Android 5.x) X   net.sf.uadetector.UserAgentStringParser O O ë¶ˆëª…í™•í•¨ (Smartphone)   uap_clj.java.api.* O O O     Parsing ë¹„êµ  UA    &#34;Mozilla/5.0 (Linux; Android 5.1.1; Nexus 6 Build/LYZ28E) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Mobile Safari/537.36&#34;  ê²°ê³¼   - Browser : {patch=3239, family=Chrome Mobile, major=63, minor=0} - OS : {patch=1, patch_minor=, family=Android, major=5, minor=1} - Device : {model=Nexus 6, family=Nexus 6, brand=Generic_Android} ìœ„ì™€ ê°™ì´ êµ¬ì„±ì„ í•˜ë©´ Elasticsearchì— ì¸ë±ì‹±ëœ ë°ì´í„°ë¥¼ Kibanaì—ì„œ ì…ë§›ì— ë§ê²Œ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³¼ìˆ˜ìˆê²Œ ë˜ì—ˆë‹¤!"><meta property="og:type" content="article"><meta property="og:url" content="https://taetaetae.github.io/2018/04/10/apache-access-log-user-agent/"><meta property="og:image" content="https://taetaetae.github.io/images/apache-access-log-user-agent/user_agent_method_2.png"><meta property="article:published_time" content="2018-04-10T23:20:19+00:00"><meta property="article:modified_time" content="2018-04-10T23:20:19+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://taetaetae.github.io/images/apache-access-log-user-agent/user_agent_method_2.png"><meta name=twitter:title content="ë‚´ ì„œë²„ì—ëŠ” ëˆ„ê°€ ë“¤ì–´ì˜¤ëŠ”ê±¸ê¹Œ? (ì‹¤ì‹œê°„ user-agent ë¶„ì„ê¸°)"><meta name=twitter:description content="Desktop ë° ìŠ¤ë§ˆíŠ¸í°ì˜ ëŒ€ì¤‘í™”ë¡œ ë‹¤ì–‘í•œ OSì™€ ë¸Œë¼ìš°ì €ë“¤ì„ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆë‹¤. ì´ë•Œ, ë‚´ê°€ ìš´ì˜í•˜ëŠ” ì›¹ì„œë²„ì— ë“¤ì–´ì˜¤ëŠ” ì‚¬ëŒë“¤ì€ ë¬´ìŠ¨ ê¸°ê¸°ë¡œ ì ‘ì†ì„ í•˜ëŠ” ê²ƒì¼ê¹Œ? í˜¹ì—¬ íŠ¹ì • OSì˜ íŠ¹ì • ë¸Œë¼ìš°ì €ì—ì„œë§Œ ì•ˆë˜ëŠ” ë²„ê·¸ë¥¼ ì¡ê¸° ìœ„í•´ ëª‡ì¼ë°¤ì„ ê³ ìƒí•˜ë©° ê²¨ìš° ìˆ˜ì •í–ˆëŠ”ë°&mldr; ê³¼ì—° ê·¸ OSì˜ ë¸Œë¼ìš°ì €ì—ì„œëŠ” ì ‘ì†ì€ í•˜ê¸°ë‚˜ í•˜ëŠ”ê±¸ê¹Œ? (ã… ã… ) ë§Œì•½, ì ‘ì† ì‚¬ìš©ìì˜ Device ì •ë³´ë¥¼ ì•Œê³ ìˆë‹¤ë©´ ê³ ìƒí•˜ë©° ë²„ê·¸ë¥¼ ì¡ê¸° ì „ì— ë¨¼ì € í•´ë‹¹ Device ì‚¬ìš©ìœ¨ì„ ì²´í¬í•´ ë³¼ìˆ˜ë„ ìˆê³ (ìˆ˜ì •ì´ ì•„ë‹Œ ê°„ë‹¨í•œ ì–¼ëŸ¿ìœ¼ë¡œ í•´ê²°í•œë‹¤ê±°ë‚˜?) ë¹„ì§€ë‹ˆìŠ¤ ëª¨ë¸ê¹Œì§€ ìƒê°í•´ì•¼í•˜ëŠ” ì„œë¹„ìŠ¤ë¼ë©´ íƒ€ê²ŸíŒ…ì„ ì •í•˜ëŠ” ë“± ë‹¤ì–‘í•œ í™œìš©ë„ê°€ ë†’ì€ ê²ƒì´ ë°”ë¡œ User-Agentë¼ê³  í•œë‹¤(ì´í•˜ UA). ì¼ë°˜ Apache ë¥¼ ì›¹ì„œë²„ë¡œ ìš´ì˜í•˜ê³  ìˆë‹¤ê³  ê°€ì •ì„ í•˜ê³  ì–´ë–»ê²Œ ë¶„ì„ì„ í• ìˆ˜ ìˆì—ˆëŠ”ì§€, ê·¸ë¦¬ê³  ë¶„ì„ì„ í•˜ë©° ì¢€ë” ìš°ì•„í•œ(?) ë°©ë²•ì€ ì—†ëŠ”ì§€ ì•Œì•„ ë³´ê³ ì í•œë‹¤.
User-Agentê°€ ë­ì•¼? ë°±ë¬¸ì´ ë¶ˆì—¬ì¼íƒ€(?)ë¼ í–ˆë˜ê°€, ìš°ì„  http://www.useragentstring.com ë¥¼ ë“¤ì–´ê°€ë³´ì. ê·¸ëŸ¬ë©´ ìì‹ ì˜ OS ë° ë¸Œë¼ìš°ì € ë“± ì •ë³´ë¥¼ íŒŒì‹±í•´ì„œ ë³´ì—¬ì£¼ëŠ”ë° ìœ„í‚¤ë°±ê³¼ì— ë”°ë¥´ë©´ &lsquo;ì‚¬ìš©ìë¥¼ ëŒ€ì‹ í•˜ì—¬ ì¼ì„ ìˆ˜í–‰í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì—ì´ì „íŠ¸&rsquo;ë¼ê³  í•œë‹¤. ì¦‰, UAë§Œ ì•Œì•„ë„ ì–´ë–¤ ê¸°ê¸°/ë¸Œë¼ìš°ì €ë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤ëŠ”ê²ƒ. mozillaì— ê°€ë³´ë©´ ìŠ¤íŒ© ë“± ë‹¤ì–‘í•œ UAë¥¼ ë³¼ìˆ˜ê°€ ìˆëŠ”ë° íŠ¹íˆ ë§¨ ì•„ë˜ë³´ë©´ ê¸°ê¸°/ë¸Œë¼ìš°ì €ë³„ë¡œ ì§€ì›ì •ë³´ê°€ ë‚˜ì™€ìˆë‹¤. ì—¬ê¸°ì„œë„ ë³´ë©´ ëª¨ë“  ëª¨ë°”ì¼ ì‚¼ì„± ë¸Œë¼ìš°ì €ë¥¼ ì œì™¸í•˜ê³ ëŠ” ì „ë¶€ ì§€ì›ì´ ë˜ëŠ”ê±¸ í™•ì¸í• ìˆ˜ ìˆë‹¤.
ì¶œì²˜ : developer.mozilla.org&#34; ì¶œì²˜ : developer.mozilla.org  ê¸°ì¡´ì˜ ë°©ë²• ê·¸ëŸ¼ ì–´ë–»ê²Œ ë‚´ ì„œë²„ì— ë“¤ì–´ì˜¨ ì‚¬ìš©ìë“¤ì˜ UAë¥¼ í™•ì¸í•  ìˆ˜ ìˆì„ê¹Œ? (ì•ì„œ Apacheë¥¼ ì›¹ì„œë²„ë¡œ ìš´ì˜í•œë‹¤ê³  í–ˆìœ¼ë‹ˆ) Apache access log ì—ëŠ” Apacheì—ì„œ ì œê³µí•´ì£¼ëŠ” ëª¨ë“ˆì„ ì´ìš©í•´ ì ‘ì†í•œ í´ë¼ì´ì–¸íŠ¸ì˜ ì •ë³´ê°€ ë‚¨ê²¨ì§€ê³¤ í•œë‹¤. ê·¸ë ‡ë‹¤ë©´ ì´ access logë¥¼ ë¦¬ëˆ…ìŠ¤ ëª…ë ¹ì–´ë“  ì—‘ì…€ë¡œ ë½‘ì•„ì„œë“ ì§€ í™œìš©í•´ì„œ ì •ê·œì‹ìœ¼ë¡œ í¬ë§·íŒ… í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ ë‹¤ì‹œ ê·¸ë£¹í™” ì‹œí‚¤ë©´ ì–¼ì¶” ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ì¶”ì¶œí•´ ë‚¼ìˆ˜ ìˆë‹¤. ( ë²„ê±°í˜•ë“¤ì´ ë§Œë“¤ì–´ë‘” ì •ê·œì‹ì„ ê°€ì ¸ë‹¤ ì‚¬ìš©í• ìˆ˜ë„ ìˆê² ë‹¤. https://regexr.com/?37l4e ) í•˜ì§€ë§Œ, ìš°ì„  ìë™í™”ê°€ ì•ˆë˜ì–´ìˆì–´ ë°ì´í„°ë¥¼ êµ¬í•˜ê³  ì‹¶ì„ë•Œë§ˆë‹¤ ê·€ì°¨ë‹ˆì¦˜ì— ê±¸ë¦´ìˆ˜ ìˆê³  ìŠˆí¼ ê°œë°œì íŒŒì›Œë¥¼ ê¸°ë°˜ìœ¼ë¡œ(?) ë°ì´í„° ì¶”ì¶œì„ ìë™í™” í•œë“¤ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³´ê³ ì‹¶ì„ë• ì œí•œì‚¬í•­ì´ ë§ë‹¤.
ì¢€ë” ë‚˜ì€ ë°©ë²•(?) ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ëª¨ë‹ˆí„°ë§ í•˜ëŠ”ë°ì—ëŠ” ë‹¤ì–‘í•œ ì˜¤í”ˆì†ŒìŠ¤ì™€ ë‹¤ì–‘í•œ íˆ´ì´ ìˆê² ì§€ë§Œ ê²½í—˜ì´ ë¶€ì¡±í•œê±´ì§€ ì•„ì§ê¹Œì§„ ElasticStack ë§Œí•œê±¸ ëª»ë³¸ê²ƒ ê°™ë‹¤. ê°„ë‹¨í•˜ê²Œ ì„¤ëª…ì„ í•˜ë©´ access log ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  frontë‹¨ì—ì„œ javascript ë¡œ UAë¥¼ êµ¬í•œë‹¤ìŒ ì´ëŸ¬í•œ ì •ë³´ë¥¼ ë°›ì„ìˆ˜ ìˆëŠ” APIë¥¼ ë§Œë“¤ì–´ ê·¸ìª½ìœ¼ë¡œ ë³´ë‚´ë©´ ì„œë²„ì—ì„œ í•´ë‹¹ UAë¥¼ ë¶„ì„í•´ì„œ ì¹´í”„ì¹´ë¡œ ë³´ë‚´ê³  ..!@#$%^blabla&mldr; ^^; ê·¸ë¦¼ìœ¼ë¡œ ë³´ì.
ì¢€ë” ë‚˜ì€ ë°©ë²•&#34; ì¢€ë” ë‚˜ì€ ë°©ë²•  frontë‹¨ì—ì„œëŠ” navigator.userAgentë¥¼ í™œìš©í•˜ì—¬ UAë¥¼ êµ¬í• ìˆ˜ ìˆì—ˆê³ , APIì—ì„œëŠ” UAë¥¼ ë°›ê³  íŒŒì‹±ì„ í•˜ëŠ”ë° ê´€ë ¨ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•˜ì˜€ë‹¤.
private static final String VERSION_SEPARATOR = &#34;.&#34;; private void userAgentParsingToMap(String userAgent, Map<String, Object> dataMap) { HashMap browser = Browser.lookup(userAgent); HashMap os = OS.lookup(userAgent); HashMap device = Device.lookup(userAgent); dataMap.put(&#34;browserName&#34;, browser.get(&#34;family&#34;)); dataMap.put(&#34;browserVersion&#34;, getVersion(browser)); dataMap.put(&#34;osName&#34;, os.get(&#34;family&#34;)); dataMap.put(&#34;osVersion&#34;, getVersion(os)); dataMap.put(&#34;deviceModel&#34;, device.get(&#34;model&#34;)); dataMap.put(&#34;deviceBrand&#34;, device.get(&#34;brand&#34;)); } private String getVersion(HashMap dataMap) { String majorVersion = (String)dataMap.get(&#34;major&#34;); if (StringUtils.isEmpty(majorVersion)) { return StringUtils.EMPTY; } String minorVersion = (String)dataMap.get(&#34;minor&#34;); String pathVersion = (String)dataMap.get(&#34;path&#34;); StringBuffer sb = new StringBuffer(); sb.append(majorVersion); if (!StringUtils.isEmpty(minorVersion)) { sb.append(VERSION_SEPARATOR); sb.append(minorVersion); } if (!StringUtils.isEmpty(pathVersion)) { sb.append(VERSION_SEPARATOR); sb.append(pathVersion); } return sb.toString(); } ì°¸ê³ ë¡œ Javaë‹¨ì—ì„œ UAë¥¼ íŒŒì‹±í•˜ëŠ” parserê°€ ì—¬ëŸ¬ê°€ì§€ê°€ ìˆëŠ”ë° ê·¸ì¤‘ uap_cljë¼ëŠ” ëª¨ë“ˆì´ ê·¸ë‚˜ë§ˆ ì˜ íŒŒì‹±ì´ ë˜ì–´ì„œ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆë‹¤.
 ëª¨ë“ˆë³„ ë¹„êµ     ëª¨ë“ˆ Browser OS Device     eu.bitwalker.useragentutils.UserAgent O ë¶ˆëª…í™•í•¨ (Android 5.x) X   net.sf.uadetector.UserAgentStringParser O O ë¶ˆëª…í™•í•¨ (Smartphone)   uap_clj.java.api.* O O O     Parsing ë¹„êµ  UA    &#34;Mozilla/5.0 (Linux; Android 5.1.1; Nexus 6 Build/LYZ28E) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Mobile Safari/537.36&#34;  ê²°ê³¼   - Browser : {patch=3239, family=Chrome Mobile, major=63, minor=0} - OS : {patch=1, patch_minor=, family=Android, major=5, minor=1} - Device : {model=Nexus 6, family=Nexus 6, brand=Generic_Android} ìœ„ì™€ ê°™ì´ êµ¬ì„±ì„ í•˜ë©´ Elasticsearchì— ì¸ë±ì‹±ëœ ë°ì´í„°ë¥¼ Kibanaì—ì„œ ì…ë§›ì— ë§ê²Œ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³¼ìˆ˜ìˆê²Œ ë˜ì—ˆë‹¤!"><meta name=application-name content="ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„"><meta name=apple-mobile-web-app-title content="ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„"><meta name=naver-site-verification content="2d1cdbb963ba178aa7cbf58500afc668cae1e645"><meta name=google-site-verification content="vvFCdv0-GuQhEWG8vtNJfA7YSY2HYQ1hpHh9P-a6Pv8"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://taetaetae.github.io/2018/04/10/apache-access-log-user-agent/><link rel=prev href=https://taetaetae.github.io/2018/04/01/apache-gzip/><link rel=next href=https://taetaetae.github.io/2018/04/29/apache-408-response-code/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"ë‚´ ì„œë²„ì—ëŠ” ëˆ„ê°€ ë“¤ì–´ì˜¤ëŠ”ê±¸ê¹Œ? (ì‹¤ì‹œê°„ user-agent ë¶„ì„ê¸°)","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/taetaetae.github.io\/2018\/04\/10\/apache-access-log-user-agent\/"},"genre":"posts","keywords":"user-agent, apache access log, Elasitcsearch, Logstash, Kibana, archives-2018","wordcount":935,"url":"https:\/\/taetaetae.github.io\/2018\/04\/10\/apache-access-log-user-agent\/","datePublished":"2018-04-10T23:20:19+00:00","dateModified":"2018-04-10T23:20:19+00:00","publisher":{"@type":"Organization","name":"íƒœíƒœíƒœ"},"author":{"@type":"Person","name":"íƒœíƒœíƒœ"},"description":""}</script></head><body header-desktop=auto header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„">ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„">ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/>Posts</a><a class=menu-item href=/tags/>Tags</a><a class=menu-item href=/categories/>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:inline-block;width:260px;height:600px data-ad-client=ca-pub-5788330009690816 data-ad-slot=2248955907></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div><article class="page single"><h1 class="single-title animated flipInX">ë‚´ ì„œë²„ì—ëŠ” ëˆ„ê°€ ë“¤ì–´ì˜¤ëŠ”ê±¸ê¹Œ? (ì‹¤ì‹œê°„ user-agent ë¶„ì„ê¸°)</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://taetaetae.github.io/resume title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>íƒœíƒœíƒœ</a></span>&nbsp;<span class=post-category>included in <a href=/categories/tech/><i class="far fa-folder fa-fw"></i>Tech</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2018-04-10>2018-04-10</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;935 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;5 minutes&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#user-agentê°€-ë­ì•¼>User-Agentê°€ ë­ì•¼?</a></li><li><a href=#ê¸°ì¡´ì˜-ë°©ë²•>ê¸°ì¡´ì˜ ë°©ë²•</a></li><li><a href=#ì¢€ë”-ë‚˜ì€-ë°©ë²•>ì¢€ë” ë‚˜ì€ ë°©ë²•(?)</a></li><li><a href=#ì¢€ë”-ìš°ì•„í•œ-ë°©ë²•>ì¢€ë” ìš°ì•„í•œ ë°©ë²•?</a></li><li><a href=#ë§ˆì¹˜ë©°>ë§ˆì¹˜ë©°</a></li></ul></nav></div></div><div class=content id=content><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block;height:150px data-ad-client=ca-pub-5788330009690816 data-ad-slot=9180895229 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script><p>Desktop ë° ìŠ¤ë§ˆíŠ¸í°ì˜ ëŒ€ì¤‘í™”ë¡œ ë‹¤ì–‘í•œ OSì™€ ë¸Œë¼ìš°ì €ë“¤ì„ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆë‹¤. ì´ë•Œ, ë‚´ê°€ ìš´ì˜í•˜ëŠ” ì›¹ì„œë²„ì— ë“¤ì–´ì˜¤ëŠ” ì‚¬ëŒë“¤ì€ ë¬´ìŠ¨ ê¸°ê¸°ë¡œ ì ‘ì†ì„ í•˜ëŠ” ê²ƒì¼ê¹Œ? í˜¹ì—¬ íŠ¹ì • OSì˜ íŠ¹ì • ë¸Œë¼ìš°ì €ì—ì„œë§Œ ì•ˆë˜ëŠ” ë²„ê·¸ë¥¼ ì¡ê¸° ìœ„í•´ ëª‡ì¼ë°¤ì„ ê³ ìƒí•˜ë©° ê²¨ìš° ìˆ˜ì •í–ˆëŠ”ë°&mldr; ê³¼ì—° ê·¸ OSì˜ ë¸Œë¼ìš°ì €ì—ì„œëŠ” ì ‘ì†ì€ í•˜ê¸°ë‚˜ í•˜ëŠ”ê±¸ê¹Œ? (ã… ã… )
ë§Œì•½, ì ‘ì† ì‚¬ìš©ìì˜ Device ì •ë³´ë¥¼ ì•Œê³ ìˆë‹¤ë©´ ê³ ìƒí•˜ë©° ë²„ê·¸ë¥¼ ì¡ê¸° ì „ì— ë¨¼ì € í•´ë‹¹ Device ì‚¬ìš©ìœ¨ì„ ì²´í¬í•´ ë³¼ìˆ˜ë„ ìˆê³ (ìˆ˜ì •ì´ ì•„ë‹Œ ê°„ë‹¨í•œ ì–¼ëŸ¿ìœ¼ë¡œ í•´ê²°í•œë‹¤ê±°ë‚˜?) ë¹„ì§€ë‹ˆìŠ¤ ëª¨ë¸ê¹Œì§€ ìƒê°í•´ì•¼í•˜ëŠ” ì„œë¹„ìŠ¤ë¼ë©´ íƒ€ê²ŸíŒ…ì„ ì •í•˜ëŠ” ë“± ë‹¤ì–‘í•œ í™œìš©ë„ê°€ ë†’ì€ ê²ƒì´ ë°”ë¡œ <code>User-Agent</code>ë¼ê³  í•œë‹¤(ì´í•˜ UA). ì¼ë°˜ Apache ë¥¼ ì›¹ì„œë²„ë¡œ ìš´ì˜í•˜ê³  ìˆë‹¤ê³  ê°€ì •ì„ í•˜ê³  ì–´ë–»ê²Œ ë¶„ì„ì„ í• ìˆ˜ ìˆì—ˆëŠ”ì§€, ê·¸ë¦¬ê³  ë¶„ì„ì„ í•˜ë©° ì¢€ë” ìš°ì•„í•œ(?) ë°©ë²•ì€ ì—†ëŠ”ì§€ ì•Œì•„ ë³´ê³ ì í•œë‹¤.</p><h2 id=user-agentê°€-ë­ì•¼>User-Agentê°€ ë­ì•¼?</h2><p>ë°±ë¬¸ì´ ë¶ˆì—¬ì¼íƒ€(?)ë¼ í–ˆë˜ê°€, ìš°ì„  <a href=http://www.useragentstring.com>http://www.useragentstring.com</a> ë¥¼ ë“¤ì–´ê°€ë³´ì. ê·¸ëŸ¬ë©´ ìì‹ ì˜ OS ë° ë¸Œë¼ìš°ì € ë“± ì •ë³´ë¥¼ íŒŒì‹±í•´ì„œ ë³´ì—¬ì£¼ëŠ”ë° <a href=https://en.wikipedia.org/wiki/User_agent target=_blank rel="noopener noreffer">ìœ„í‚¤ë°±ê³¼</a>ì— ë”°ë¥´ë©´ &lsquo;ì‚¬ìš©ìë¥¼ ëŒ€ì‹ í•˜ì—¬ ì¼ì„ ìˆ˜í–‰í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì—ì´ì „íŠ¸&rsquo;ë¼ê³  í•œë‹¤. ì¦‰, UAë§Œ ì•Œì•„ë„ ì–´ë–¤ ê¸°ê¸°/ë¸Œë¼ìš°ì €ë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤ëŠ”ê²ƒ.
<a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent target=_blank rel="noopener noreffer">mozilla</a>ì— ê°€ë³´ë©´ ìŠ¤íŒ© ë“± ë‹¤ì–‘í•œ UAë¥¼ ë³¼ìˆ˜ê°€ ìˆëŠ”ë° íŠ¹íˆ ë§¨ ì•„ë˜ë³´ë©´ ê¸°ê¸°/ë¸Œë¼ìš°ì €ë³„ë¡œ ì§€ì›ì •ë³´ê°€ ë‚˜ì™€ìˆë‹¤. ì—¬ê¸°ì„œë„ ë³´ë©´ ëª¨ë“  ëª¨ë°”ì¼ ì‚¼ì„± ë¸Œë¼ìš°ì €ë¥¼ ì œì™¸í•˜ê³ ëŠ” ì „ë¶€ ì§€ì›ì´ ë˜ëŠ”ê±¸ í™•ì¸í• ìˆ˜ ìˆë‹¤.</p><figure><a class=lightgallery href=/images/apache-access-log-user-agent/browser_compatibility.png title=/images/apache-access-log-user-agent/browser_compatibility.png data-thumbnail=/images/apache-access-log-user-agent/browser_compatibility.png data-sub-html="<h2>ì¶œì²˜ : developer.mozilla.org</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/apache-access-log-user-agent/browser_compatibility.png data-srcset="/images/apache-access-log-user-agent/browser_compatibility.png, /images/apache-access-log-user-agent/browser_compatibility.png 1.5x, /images/apache-access-log-user-agent/browser_compatibility.png 2x" data-sizes=auto alt=/images/apache-access-log-user-agent/browser_compatibility.png></a><figcaption class=image-caption>ì¶œì²˜ : developer.mozilla.org</figcaption></figure><h2 id=ê¸°ì¡´ì˜-ë°©ë²•>ê¸°ì¡´ì˜ ë°©ë²•</h2><p>ê·¸ëŸ¼ ì–´ë–»ê²Œ ë‚´ ì„œë²„ì— ë“¤ì–´ì˜¨ ì‚¬ìš©ìë“¤ì˜ UAë¥¼ í™•ì¸í•  ìˆ˜ ìˆì„ê¹Œ? (ì•ì„œ Apacheë¥¼ ì›¹ì„œë²„ë¡œ ìš´ì˜í•œë‹¤ê³  í–ˆìœ¼ë‹ˆ) Apache access log ì—ëŠ” Apacheì—ì„œ ì œê³µí•´ì£¼ëŠ” ëª¨ë“ˆì„ ì´ìš©í•´ ì ‘ì†í•œ í´ë¼ì´ì–¸íŠ¸ì˜ ì •ë³´ê°€ ë‚¨ê²¨ì§€ê³¤ í•œë‹¤. ê·¸ë ‡ë‹¤ë©´ ì´ access logë¥¼ ë¦¬ëˆ…ìŠ¤ ëª…ë ¹ì–´ë“  ì—‘ì…€ë¡œ ë½‘ì•„ì„œë“ ì§€ í™œìš©í•´ì„œ ì •ê·œì‹ìœ¼ë¡œ í¬ë§·íŒ… í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ ë‹¤ì‹œ ê·¸ë£¹í™” ì‹œí‚¤ë©´ ì–¼ì¶” ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ì¶”ì¶œí•´ ë‚¼ìˆ˜ ìˆë‹¤. ( ë²„ê±°í˜•ë“¤ì´ ë§Œë“¤ì–´ë‘” ì •ê·œì‹ì„ ê°€ì ¸ë‹¤ ì‚¬ìš©í• ìˆ˜ë„ ìˆê² ë‹¤. <a href=https://regexr.com/?37l4e>https://regexr.com/?37l4e</a> )
í•˜ì§€ë§Œ, ìš°ì„  ìë™í™”ê°€ ì•ˆë˜ì–´ìˆì–´ ë°ì´í„°ë¥¼ êµ¬í•˜ê³  ì‹¶ì„ë•Œë§ˆë‹¤ ê·€ì°¨ë‹ˆì¦˜ì— ê±¸ë¦´ìˆ˜ ìˆê³  ìŠˆí¼ ê°œë°œì íŒŒì›Œë¥¼ ê¸°ë°˜ìœ¼ë¡œ(?) ë°ì´í„° ì¶”ì¶œì„ ìë™í™” í•œë“¤ <code>ì‹¤ì‹œê°„</code>ìœ¼ë¡œ ë³´ê³ ì‹¶ì„ë• ì œí•œì‚¬í•­ì´ ë§ë‹¤.</p><h2 id=ì¢€ë”-ë‚˜ì€-ë°©ë²•>ì¢€ë” ë‚˜ì€ ë°©ë²•(?)</h2><p>ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ëª¨ë‹ˆí„°ë§ í•˜ëŠ”ë°ì—ëŠ” ë‹¤ì–‘í•œ ì˜¤í”ˆì†ŒìŠ¤ì™€ ë‹¤ì–‘í•œ íˆ´ì´ ìˆê² ì§€ë§Œ ê²½í—˜ì´ ë¶€ì¡±í•œê±´ì§€ ì•„ì§ê¹Œì§„ ElasticStack ë§Œí•œê±¸ ëª»ë³¸ê²ƒ ê°™ë‹¤. ê°„ë‹¨í•˜ê²Œ ì„¤ëª…ì„ í•˜ë©´ access log ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  frontë‹¨ì—ì„œ javascript ë¡œ UAë¥¼ êµ¬í•œë‹¤ìŒ ì´ëŸ¬í•œ ì •ë³´ë¥¼ ë°›ì„ìˆ˜ ìˆëŠ” APIë¥¼ ë§Œë“¤ì–´ ê·¸ìª½ìœ¼ë¡œ ë³´ë‚´ë©´ ì„œë²„ì—ì„œ í•´ë‹¹ UAë¥¼ ë¶„ì„í•´ì„œ ì¹´í”„ì¹´ë¡œ ë³´ë‚´ê³  ..!@#$%^blabla&mldr;
^^; ê·¸ë¦¼ìœ¼ë¡œ ë³´ì.</p><figure><a class=lightgallery href=/images/apache-access-log-user-agent/user_agent_method_1.png title=/images/apache-access-log-user-agent/user_agent_method_1.png data-thumbnail=/images/apache-access-log-user-agent/user_agent_method_1.png data-sub-html="<h2>ì¢€ë” ë‚˜ì€ ë°©ë²•</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/apache-access-log-user-agent/user_agent_method_1.png data-srcset="/images/apache-access-log-user-agent/user_agent_method_1.png, /images/apache-access-log-user-agent/user_agent_method_1.png 1.5x, /images/apache-access-log-user-agent/user_agent_method_1.png 2x" data-sizes=auto alt=/images/apache-access-log-user-agent/user_agent_method_1.png></a><figcaption class=image-caption>ì¢€ë” ë‚˜ì€ ë°©ë²•</figcaption></figure><p>frontë‹¨ì—ì„œëŠ” <code>navigator.userAgent</code>ë¥¼ í™œìš©í•˜ì—¬ UAë¥¼ êµ¬í• ìˆ˜ ìˆì—ˆê³ , APIì—ì„œëŠ” UAë¥¼ ë°›ê³  íŒŒì‹±ì„ í•˜ëŠ”ë° ê´€ë ¨ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•˜ì˜€ë‹¤.</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=kd>private</span> <span class=kd>static</span> <span class=kd>final</span> <span class=n>String</span> <span class=n>VERSION_SEPARATOR</span> <span class=o>=</span> <span class=s>&#34;.&#34;</span><span class=o>;</span>

<span class=kd>private</span> <span class=kt>void</span> <span class=nf>userAgentParsingToMap</span><span class=o>(</span><span class=n>String</span> <span class=n>userAgent</span><span class=o>,</span> <span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>Object</span><span class=o>&gt;</span> <span class=n>dataMap</span><span class=o>)</span> <span class=o>{</span>
    <span class=n>HashMap</span> <span class=n>browser</span> <span class=o>=</span> <span class=n>Browser</span><span class=o>.</span><span class=na>lookup</span><span class=o>(</span><span class=n>userAgent</span><span class=o>);</span>
    <span class=n>HashMap</span> <span class=n>os</span> <span class=o>=</span> <span class=n>OS</span><span class=o>.</span><span class=na>lookup</span><span class=o>(</span><span class=n>userAgent</span><span class=o>);</span>
    <span class=n>HashMap</span> <span class=n>device</span> <span class=o>=</span> <span class=n>Device</span><span class=o>.</span><span class=na>lookup</span><span class=o>(</span><span class=n>userAgent</span><span class=o>);</span>

    <span class=n>dataMap</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=s>&#34;browserName&#34;</span><span class=o>,</span> <span class=n>browser</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=s>&#34;family&#34;</span><span class=o>));</span>
    <span class=n>dataMap</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=s>&#34;browserVersion&#34;</span><span class=o>,</span> <span class=n>getVersion</span><span class=o>(</span><span class=n>browser</span><span class=o>));</span>
    <span class=n>dataMap</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=s>&#34;osName&#34;</span><span class=o>,</span> <span class=n>os</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=s>&#34;family&#34;</span><span class=o>));</span>
    <span class=n>dataMap</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=s>&#34;osVersion&#34;</span><span class=o>,</span> <span class=n>getVersion</span><span class=o>(</span><span class=n>os</span><span class=o>));</span>
    <span class=n>dataMap</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=s>&#34;deviceModel&#34;</span><span class=o>,</span> <span class=n>device</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=s>&#34;model&#34;</span><span class=o>));</span>
    <span class=n>dataMap</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=s>&#34;deviceBrand&#34;</span><span class=o>,</span> <span class=n>device</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=s>&#34;brand&#34;</span><span class=o>));</span>

<span class=o>}</span>

<span class=kd>private</span> <span class=n>String</span> <span class=nf>getVersion</span><span class=o>(</span><span class=n>HashMap</span> <span class=n>dataMap</span><span class=o>)</span> <span class=o>{</span>
    <span class=n>String</span> <span class=n>majorVersion</span> <span class=o>=</span> <span class=o>(</span><span class=n>String</span><span class=o>)</span><span class=n>dataMap</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=s>&#34;major&#34;</span><span class=o>);</span>
    <span class=k>if</span> <span class=o>(</span><span class=n>StringUtils</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>(</span><span class=n>majorVersion</span><span class=o>))</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>StringUtils</span><span class=o>.</span><span class=na>EMPTY</span><span class=o>;</span>
    <span class=o>}</span>
    <span class=n>String</span> <span class=n>minorVersion</span> <span class=o>=</span> <span class=o>(</span><span class=n>String</span><span class=o>)</span><span class=n>dataMap</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=s>&#34;minor&#34;</span><span class=o>);</span>
    <span class=n>String</span> <span class=n>pathVersion</span> <span class=o>=</span> <span class=o>(</span><span class=n>String</span><span class=o>)</span><span class=n>dataMap</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=s>&#34;path&#34;</span><span class=o>);</span>

    <span class=n>StringBuffer</span> <span class=n>sb</span> <span class=o>=</span> <span class=k>new</span> <span class=n>StringBuffer</span><span class=o>();</span>
    <span class=n>sb</span><span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=n>majorVersion</span><span class=o>);</span>
    <span class=k>if</span> <span class=o>(!</span><span class=n>StringUtils</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>(</span><span class=n>minorVersion</span><span class=o>))</span> <span class=o>{</span>
        <span class=n>sb</span><span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=n>VERSION_SEPARATOR</span><span class=o>);</span>
        <span class=n>sb</span><span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=n>minorVersion</span><span class=o>);</span>
    <span class=o>}</span>
    <span class=k>if</span> <span class=o>(!</span><span class=n>StringUtils</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>(</span><span class=n>pathVersion</span><span class=o>))</span> <span class=o>{</span>
        <span class=n>sb</span><span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=n>VERSION_SEPARATOR</span><span class=o>);</span>
        <span class=n>sb</span><span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=n>pathVersion</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=k>return</span> <span class=n>sb</span><span class=o>.</span><span class=na>toString</span><span class=o>();</span>
<span class=o>}</span>
</code></pre></div><p>ì°¸ê³ ë¡œ Javaë‹¨ì—ì„œ UAë¥¼ íŒŒì‹±í•˜ëŠ” parserê°€ ì—¬ëŸ¬ê°€ì§€ê°€ ìˆëŠ”ë° ê·¸ì¤‘ <code>uap_clj</code>ë¼ëŠ” ëª¨ë“ˆì´ ê·¸ë‚˜ë§ˆ ì˜ íŒŒì‹±ì´ ë˜ì–´ì„œ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆë‹¤.</p><ul><li>ëª¨ë“ˆë³„ ë¹„êµ</li></ul><table><thead><tr><th>ëª¨ë“ˆ</th><th>Browser</th><th>OS</th><th>Device</th></tr></thead><tbody><tr><td>eu.bitwalker.useragentutils.UserAgent</td><td>O</td><td>ë¶ˆëª…í™•í•¨ (Android 5.x)</td><td>X</td></tr><tr><td>net.sf.uadetector.UserAgentStringParser</td><td>O</td><td>O</td><td>ë¶ˆëª…í™•í•¨ (Smartphone)</td></tr><tr><td>uap_clj.java.api.*</td><td>O</td><td>O</td><td>O</td></tr></tbody></table><ul><li>Parsing ë¹„êµ<ul><li>UA</li></ul></li></ul><div class=highlight><pre class=chroma><code class=language-markdown data-lang=markdown>&#34;Mozilla/5.0 (Linux; Android 5.1.1; Nexus 6 Build/LYZ28E) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Mobile Safari/537.36&#34;
</code></pre></div><ul><li>ê²°ê³¼</li></ul><pre><code>  - Browser : {patch=3239, family=Chrome Mobile, major=63, minor=0}
  - OS : {patch=1, patch_minor=, family=Android, major=5, minor=1}
  - Device : {model=Nexus 6, family=Nexus 6, brand=Generic_Android}
</code></pre><p>ìœ„ì™€ ê°™ì´ êµ¬ì„±ì„ í•˜ë©´ Elasticsearchì— ì¸ë±ì‹±ëœ ë°ì´í„°ë¥¼ Kibanaì—ì„œ ì…ë§›ì— ë§ê²Œ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³¼ìˆ˜ìˆê²Œ ë˜ì—ˆë‹¤!
í•˜ì§€ë§Œ APIë¥¼ ë§Œë“œëŠ” ë¶€ë¶„ + frontì—ì„œ ë³„ë„ì˜ javascriptê°€ ë“¤ì–´ê°„ë‹¤ëŠ” ë¶€ë¶„ + ìš´ì˜í•˜ëŠ” ëª¨ë“  í˜ì´ì§€ì— í•´ë‹¹ javascriptë¥¼ ë„£ì–´ì•¼ì§€ë§Œ ë³¼ìˆ˜ìˆëŠ” ë¶€ë¶„ ë“± ì•½ê°„ ì•„ì‰¬ìš´ ê°ì´ ìˆë‹¤. ë­”ê°€ ë” ì¢‹ì€ ë°©ë²•ì´ ì—†ì„ê¹Œ? ê¹”ë”í•˜ë©´ì„œë„ <code>ìš°ì•„í•œ</code> ë°©ë²•. ì§±êµ¬ë¥¼ ì—´ì‹¬íˆ ë” êµ´ë ¤ë³´ì.</p><h2 id=ì¢€ë”-ìš°ì•„í•œ-ë°©ë²•>ì¢€ë” ìš°ì•„í•œ ë°©ë²•?</h2><p>Logstash ì—ëŠ” UAë¥¼ íŒŒì‹±í•´ì£¼ëŠ” filter plugin ì´ ìˆë‹¤ê³  í•œë‹¤. (<a href=https://www.elastic.co/guide/en/logstash/current/plugins-filters-useragent.html target=_blank rel="noopener noreffer">ë§í¬</a>) ì´ ë°©ë²•ê³¼ ì˜ˆì „ì— í¬ìŠ¤íŒ…í•œ access log ë¥¼ elasticsearch ì— ì¸ë±ì‹± í•˜ëŠ” ë°©ë²•ì„ í˜¼í•©í•˜ë©´ ìœ„ì—ì„œ ê±±ì •í–ˆë˜ ë¬¸ì œë“¤ì„ ì•„ì£¼ ê¹”ë”í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ê²ƒ ê°™ë‹¤.</p><blockquote><p>ì§€ë‚œ í¬ìŠ¤íŒ… : <a href=https://taetaetae.github.io/2018/01/25/apache-access-log-to-es target=_blank rel="noopener noreffer">ë§í¬</a></p></blockquote><p>ë¬¼ë¡  ê¸€ë³´ë‹¤ëŠ” ê·¸ë¦¼ì„¤ëª…ì´ ë” ë¹ ë¥´ë‹ˆ ì „ì²´ì ì¸ íë¦„ì„ ê·¸ë¦¼ìœ¼ë¡œ ë³´ì.</p><figure><a class=lightgallery href=/images/apache-access-log-user-agent/user_agent_method_2.png title=/images/apache-access-log-user-agent/user_agent_method_2.png data-thumbnail=/images/apache-access-log-user-agent/user_agent_method_2.png data-sub-html="<h2>ì¢€ë” ìš°ì•„í•œ ë°©ë²•</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/apache-access-log-user-agent/user_agent_method_2.png data-srcset="/images/apache-access-log-user-agent/user_agent_method_2.png, /images/apache-access-log-user-agent/user_agent_method_2.png 1.5x, /images/apache-access-log-user-agent/user_agent_method_2.png 2x" data-sizes=auto alt=/images/apache-access-log-user-agent/user_agent_method_2.png></a><figcaption class=image-caption>ì¢€ë” ìš°ì•„í•œ ë°©ë²•</figcaption></figure><p>â‘  front ë‹¨ì—ì„œ javascriptë¡œ UAë¥¼ êµ¬í•˜ê³  â‘¡ ë³„ë„ë¡œ ë§Œë“  APIì— ë°ì´í„°ë¥¼ ì „ì†¡í•œë’¤ â‘¢ APIì—ì„œëŠ” ì´ë¥¼ ë˜ íŒŒì‹±í•˜ëŠ” ì‘ì—…ì„ logstash ì˜ <code>user-agent filter plugin</code>ìœ¼ë¡œ ê¹”ë”í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆì—ˆë‹¤.
ìš°ì„  apacheì—ì„œ access log format ì€ ë‹¤ìŒê³¼ ê°™ê³ </p><pre><code>&quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b %D \&quot;%{Referer}i\&quot; \&quot;%{User-Agent}i\&quot;&quot;
</code></pre><p>logstashìª½ ì„¤ì •ì€ ë‹¤ìŒê³¼ ê°™ì´ í•´ì£¼ì—ˆë‹¤.</p><div class=highlight><pre class=chroma><code class=language-markdown data-lang=markdown>input {
        file {
                path =&gt; &#34;/~~~/access.log.*&#34;
                start_position =&gt; &#34;beginning&#34;
                codec =&gt; multiline {
                    pattern =&gt; &#34;^%{IPORHOST}&#34;
                    negate =&gt; true
                    what =&gt; previous
                    auto_flush_interval =&gt; 1
                }
        }
}


filter {
        grok {
                match =&gt; { &#34;message&#34; =&gt; [&#34;%{IPORHOST:clientip} (?:-|%{USER:ident}) (?:-|%{USER:auth}) \[%{HTTPDATE:timestamp}\] \&#34;(?:%{WORD:httpMethod} %{NOTSPACE:uri}(?: HTTP/%{NUMBER:httpversion})?|-)\&#34; %{NUMBER:responseCode} (?:-|%{NUMBER:bytes}) (?:-|%{NUMBER:bytes2})( \&#34;%{DATA:referrer}\&#34;)?( \&#34;%{DATA:user-agent}\&#34;)?&#34;] }
                remove_field =&gt; [&#34;timestamp&#34;,&#34;@version&#34;,&#34;path&#34;,&#34;tags&#34;,&#34;httpversion&#34;,&#34;bytes2&#34;]
        }
        useragent {
                source =&gt; &#34;user-agent&#34;
        }
        if [os_major]  {
                mutate {
                        add_field =&gt; {
                                os_combine =&gt; &#34;%{os} %{os_major}.%{os_minor}&#34;
                        }
                }
        } else {
                 mutate {
                        add_field =&gt; {
                                os_combine =&gt; &#34;%{os}&#34;
                        }
                }

        }
        if [os] =~ &#34;Windows&#34; {
                mutate {
                        update =&gt; {
                                &#34;os_name&#34; =&gt; &#34;Windows&#34;
                        }
                }
        }
        if [os] =~ &#34;Mac&#34; {
                mutate {
                        update =&gt; {
                                &#34;os_name&#34; =&gt; &#34;Mac&#34;
                        }
                }
        }
}


output {
        if [user-agent] != &#34;-&#34; and [user-agent] !~ &#34;Java&#34; {
                kafka {
                        bootstrap_servers =&gt; &#34;~~~&#34;
                        topic_id =&gt; &#34;~~~&#34;
                        codec =&gt; json{}
                }
        }
}
</code></pre></div><p>ì„¤ì •í•˜ëŠ”ë° ê°€ì¥ í° ì–´ë ¤ì› ë˜ ì ì€ grok filter íŒ¨í„´ì„ ì‘ì„±í•˜ëŠ”ë° ë§ì€ ì‹œê°„ì„ í• í•´ì•¼ë§Œ í–ˆë‹¤. ê°œì¸ì ìœ¼ë¡œ <a href="http://grokconstructor.appspot.com/do/match?example=2">http://grokconstructor.appspot.com/do/match?example=2</a> ì—ì„œ í…ŒìŠ¤íŠ¸ í•´ë³´ë©´ì„œ íŒ¨í„´ì„ ì‘ì„±í• ìˆ˜ ìˆì–´ ê·¸ë‚˜ë§ˆ ë‹¤í–‰ì´ì˜€ë‹¤.
ë˜í•œ logstashì—ì„œ íŒŒì‹±í•´ì£¼ëŠ” ì •ë³´ë¥¼ ì¡°ê¸ˆ ë‹¤ë“¬ê¸° ìœ„í•´ <code>mutate</code> filter ë¥¼ ì‚¬ìš©í•´ì„œ í•„ë“œë¥¼ ì¡°í•©/ìˆ˜ì • í•˜ì˜€ë‹¤.
ìœ„ì²˜ëŸ¼ ì ìš©ì„ í•˜ê³  í•œë‘ì‹œê°„ ìˆ˜ì§‘ì„ í•´ë³´ë‹ˆ Elasticsearchì— ì•„ë˜ì™€ ê°™ì€ ë„íë¨¼íŠ¸ê°€ ìƒì„±ì´ ëœê²ƒì„ í™•ì¸í• ìˆ˜ ìˆì—ˆë‹¤.</p><figure><a class=lightgallery href=/images/apache-access-log-user-agent/user_agent_elasticsearch_document.jpg title=/images/apache-access-log-user-agent/user_agent_elasticsearch_document.jpg data-thumbnail=/images/apache-access-log-user-agent/user_agent_elasticsearch_document.jpg data-sub-html="<h2>ì´ ì–¼ë§ˆë‚˜ ìš°ì•„í•œê°€&mldr;</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/apache-access-log-user-agent/user_agent_elasticsearch_document.jpg data-srcset="/images/apache-access-log-user-agent/user_agent_elasticsearch_document.jpg, /images/apache-access-log-user-agent/user_agent_elasticsearch_document.jpg 1.5x, /images/apache-access-log-user-agent/user_agent_elasticsearch_document.jpg 2x" data-sizes=auto alt=/images/apache-access-log-user-agent/user_agent_elasticsearch_document.jpg></a><figcaption class=image-caption>ì´ ì–¼ë§ˆë‚˜ ìš°ì•„í•œê°€&mldr;</figcaption></figure><p>ì´ ì •ë³´ë“¤ì„ ì˜ ì¡°í•©í•´ì„œ Kibanaì—ì„œ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë³¼ìˆ˜ ìˆë‹¤.</p><figure><a class=lightgallery href=/images/apache-access-log-user-agent/kibana_1.png title=/images/apache-access-log-user-agent/kibana_1.png data-thumbnail=/images/apache-access-log-user-agent/kibana_1.png data-sub-html="<h2>user-agent ì•„ ëª¨ë°”ì¼ ì—ì„œë„ ì•ˆë“œë¡œì´ë“œ 7.0ì—ì„œ ë§ì´ ë“¤ì–´ì˜¤ëŠ”êµ¬ë‚˜!</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/apache-access-log-user-agent/kibana_1.png data-srcset="/images/apache-access-log-user-agent/kibana_1.png, /images/apache-access-log-user-agent/kibana_1.png 1.5x, /images/apache-access-log-user-agent/kibana_1.png 2x" data-sizes=auto alt=/images/apache-access-log-user-agent/kibana_1.png></a><figcaption class=image-caption>user-agent ì•„ ëª¨ë°”ì¼ ì—ì„œë„ ì•ˆë“œë¡œì´ë“œ 7.0ì—ì„œ ë§ì´ ë“¤ì–´ì˜¤ëŠ”êµ¬ë‚˜!</figcaption></figure><p>UAëŠ” ì•„ë‹ˆì§€ë§Œ ê¸°ì™• í•œê¹€ì— Access logì˜ urië¥¼ ë¶„ì„í•´ë³´ë©´ ì•„ë˜ì²˜ëŸ¼ ë³¼ìˆ˜ë„ ìˆê² ë‹¤.</p><figure><a class=lightgallery href=/images/apache-access-log-user-agent/kibana_2.png title=/images/apache-access-log-user-agent/kibana_2.png data-thumbnail=/images/apache-access-log-user-agent/kibana_2.png data-sub-html="<h2>ì™¸ë¶€ì—ì„œ ë§‰ ì°”ëŸ¬ ëŒ€ëŠ”êµ¬ë‚˜ã…  ì‹œìŠ¤í…œì— ì˜í–¥ì¤„ ì •ë„ë©´ ë§‰ì•„ì•¼ì§€!</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/apache-access-log-user-agent/kibana_2.png data-srcset="/images/apache-access-log-user-agent/kibana_2.png, /images/apache-access-log-user-agent/kibana_2.png 1.5x, /images/apache-access-log-user-agent/kibana_2.png 2x" data-sizes=auto alt=/images/apache-access-log-user-agent/kibana_2.png></a><figcaption class=image-caption>ì™¸ë¶€ì—ì„œ ë§‰ ì°”ëŸ¬ ëŒ€ëŠ”êµ¬ë‚˜ã…  ì‹œìŠ¤í…œì— ì˜í–¥ì¤„ ì •ë„ë©´ ë§‰ì•„ì•¼ì§€!</figcaption></figure><h2 id=ë§ˆì¹˜ë©°>ë§ˆì¹˜ë©°</h2><p>ì‚¬ì‹¤ logstash filter pluginì„ ì‘ì„±í•˜ë©´ì„œ ë­”ê°€ if-elseë¡œ ë¶„ê¸°ì²˜ë¦¬í•œê²Œ ì•„ì‰½ê¸´ í•˜ì§€ë§Œ ë§Œì¡±í• ë§Œí•œ ê²°ê³¼ë¥¼ ì–»ì„ìˆ˜ ìˆì–´ì„œ ë‹¤í–‰ì´ë¼ê³  ìƒê°í•˜ê³ , ì—­ì‹œ ë°ì´í„°ë¥¼ rawí˜•íƒœë¡œ ë³´ëŠ”ê²ƒë³´ë‹¤ ì‹œê°í™”í•´ì„œ ë³´ëŠ”ê²Œ í›¨ì”¬ë” ì´í•´ë„ë¥¼ ë†’ì¼ìˆ˜ ìˆë‹¤ëŠ”ê±¸ ë‹¤ì‹œê¸ˆ ì‹¤ê°í• ìˆ˜ ìˆì—ˆë˜ ì¢‹ì€ ì‹œê°„ì´ì˜€ë‹¤.
ê·¸ëŸ°ë°.. ì´ ë°©ë²•ë§ê³  ë” ìš°ì•„í•œ ë°©ë²•ì€ ì—†ìœ¼ë ¤ë‚˜..?;;</p><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block;height:150px data-ad-client=ca-pub-5788330009690816 data-ad-slot=9180895229 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div><center><style>.bmc-button img{width:27px!important;margin-bottom:1px!important;box-shadow:none!important;border:none!important;vertical-align:middle!important}.bmc-button{line-height:29px!important;height:30px!important;text-decoration:none!important;display:inline-flex!important;color:#000!important;background-color:#fd0!important;border-radius:3px!important;border:1px solid transparent!important;padding:1px 9px!important;font-size:22px!important;letter-spacing:.6px!important;box-shadow:0 1px 2px rgba(190,190,190,.5)!important;-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;margin:0 auto!important;font-family:cookie,cursive!important;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;-o-transition:.3s all linear!important;-webkit-transition:.3s all linear!important;-moz-transition:.3s all linear!important;-ms-transition:.3s all linear!important;transition:.3s all linear!important}.bmc-button:hover,.bmc-button:active,.bmc-button:focus{-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;text-decoration:none!important;box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;opacity:.85!important;color:#000!important}</style><link href="https://fonts.googleapis.com/css?family=Cookie" rel=stylesheet><center><br><a class=bmc-button target=_blank href=https://www.buymeacoffee.com/taetaetae><img src=https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg alt="Buy me a coffee"><span style=margin-left:5px>Buy me a coffee</span></a>
<a href=https://bit.ly/ddbSupport target=_blank><img src=https://i.imgur.com/peaYpjh.png style=height:28px></a></center><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2018-04-10</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://taetaetae.github.io/2018/04/10/apache-access-log-user-agent/ data-title="ë‚´ ì„œë²„ì—ëŠ” ëˆ„ê°€ ë“¤ì–´ì˜¤ëŠ”ê±¸ê¹Œ? (ì‹¤ì‹œê°„ user-agent ë¶„ì„ê¸°)" data-hashtags="user-agent,apache access log,Elasitcsearch,Logstash,Kibana,archives-2018"><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://taetaetae.github.io/2018/04/10/apache-access-log-user-agent/ data-hashtag=user-agent><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://taetaetae.github.io/2018/04/10/apache-access-log-user-agent/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Blogger" data-sharer=blogger data-url=https://taetaetae.github.io/2018/04/10/apache-access-log-user-agent/ data-title="ë‚´ ì„œë²„ì—ëŠ” ëˆ„ê°€ ë“¤ì–´ì˜¤ëŠ”ê±¸ê¹Œ? (ì‹¤ì‹œê°„ user-agent ë¶„ì„ê¸°)" data-description><i class="fab fa-blogger fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/user-agent/>user-agent</a>,&nbsp;<a href=/tags/apache-access-log/>apache access log</a>,&nbsp;<a href=/tags/elasitcsearch/>Elasitcsearch</a>,&nbsp;<a href=/tags/logstash/>logstash</a>,&nbsp;<a href=/tags/kibana/>kibana</a>,&nbsp;<a href=/tags/archives-2018/>archives-2018</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/2018/04/01/apache-gzip/ class=prev rel=prev title="gzip ì„¤ì •ìœ¼ë¡œ ì†ë„ë¥¼ ë” ë¹ ë¥´ê²Œ!"><i class="fas fa-angle-left fa-fw"></i>gzip ì„¤ì •ìœ¼ë¡œ ì†ë„ë¥¼ ë” ë¹ ë¥´ê²Œ!</a>
<a href=/2018/04/29/apache-408-response-code/ class=next rel=next title="ì•„íŒŒì¹˜ ì—‘ì„¸ìŠ¤ ë¡œê·¸ì— 408ì½”ë“œê°€?">ì•„íŒŒì¹˜ ì—‘ì„¸ìŠ¤ ë¡œê·¸ì— 408ì½”ë“œê°€?<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=utterances></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://utteranc.es/>Utterances</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.74.3">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i>LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2016 - 2020</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://taetaetae.github.io/resume target=_blank>íƒœíƒœíƒœ</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":500},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"Comment","lightTheme":"github-light","repo":"taetaetae/blog-comment"}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true}};</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','UA-86432198-1',{'anonymize_ip':true});</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-86432198-1" async></script></body></html>