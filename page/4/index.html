<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.147.9"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title></title><meta property="og:description" content="This is my cool site"><meta property="og:url" content="https://taetaetae.github.io/"><meta property="og:type" content="website"><meta property="og:locale" content="en"><meta name=twitter:card content="summary"><meta name=twitter:description content="This is my cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://taetaetae.github.io/><link rel=alternate href=/index.xml type=application/rss+xml title><link rel=feed href=/index.xml type=application/rss+xml title><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","url":"https:\/\/taetaetae.github.io\/","inLanguage":"en","author":{"@type":"Person","name":"태태태"},"description":"This is my cool site","name":""}</script></head><body data-header-desktop=auto data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title>👨‍💻꿈꾸는 태태태의 공간</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title>👨‍💻꿈꾸는 태태태의 공간</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class="page home" data-home=posts><div class=home-profile><div class=home-avatar><a href=/posts/ title=Posts><img class=lazyload src=/svg/loading.min.svg data-src=/images/profile.png data-srcset="/images/profile.png, /images/profile.png 1.5x, /images/profile.png 2x" data-sizes=auto alt=/images/profile.png title=/images/profile.png></a></div><div class=home-subtitle><div id=id-1 class=typeit></div></div><div class=links><a href=https://github.com/taetaetae title=GitHub target=_blank rel="noopener noreffer me"><i class="fab fa-github fa-fw" aria-hidden=true></i></a><a href=https://linkedin.com/in/taetaetae title=LinkedIn target=_blank rel="noopener noreffer me"><i class="fab fa-linkedin fa-fw" aria-hidden=true></i></a><a href=https://www.instagram.com/_taetaetae title=Instagram target=_blank rel="noopener noreffer me"><i class="fab fa-instagram fa-fw" aria-hidden=true></i></a><a href=https://facebook.com/taetaetae0 title=facebook target=_blank rel="noopener noreffer me"><i class="fab fa-facebook fa-fw" aria-hidden=true></i></a><a href=mailto:taetaetae_@naver.com title=Email rel=me><i class="far fa-envelope fa-fw" aria-hidden=true></i></a><a href=/index.xml title=RSS target=_blank rel="noopener noreffer me"><i class="fas fa-rss fa-fw" aria-hidden=true></i></a></div></div><article class="single summary" itemscope itemtype=http://schema.org/Article><div class=featured-image-preview><a href=/posts/openapi-and-swagger-ui-in-spring-boot/><img class=lazyload src=/svg/loading.min.svg data-src=/images/openapi-and-swagger-ui-in-spring-boot/main.png data-srcset="/images/openapi-and-swagger-ui-in-spring-boot/main.png, /images/openapi-and-swagger-ui-in-spring-boot/main.png 1.5x, /images/openapi-and-swagger-ui-in-spring-boot/main.png 2x" data-sizes=auto alt=/images/openapi-and-swagger-ui-in-spring-boot/main.png title=/images/openapi-and-swagger-ui-in-spring-boot/main.png></a></div><h1 class=single-title itemprop="name headline"><a href=/posts/openapi-and-swagger-ui-in-spring-boot/>OpenAPI 와 Swagger-ui 적용하기</a></h1><div class=post-meta><span class=post-author><a href=https://taetaetae.github.io/resume title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>태태태</a></span>&nbsp;<span class=post-publish>published on <time datetime=2020-12-20>2020-12-20</time></span>&nbsp;<span class=post-category>included in <a href=/categories/tech/><i class="far fa-folder fa-fw" aria-hidden=true></i>Tech</a></span></div><div class=content><p>　﻿API를 개발하고 사용방법에 대한 명세를 작성하는 방법은 여러 가지가 있다. 가장 심플하게 개발 코드와는 별도로 직접 수기로 작성하여 파일 혹은 문서 링크를 전달하는 방법이 있다. 하지만 개발 코드와 별도로 직접 작성을 한다는 점에서 오타/실수가 발생할 수 있고 최신화가 안되는 여러 가지 문제가 발생한다. 그에 등장한 API 문서화 자동화 툴의 양대 산맥인 SpringRestDocs 와 Swagger.</p><p>　﻿과거 <a href=/2020/03/08/spring-rest-docs-in-spring-boot/ rel>SpringRestDocs 에 대한 포스팅</a>을 했기에 이번엔 Swagger에 대한 사용방법에 대해 정리해보고자 한다. 이 둘의 장단점은 너무 뚜렷하기에 API문서를 제공하는 상황에 따라 적절하게 선택하여 사용할 수 있었으면 좋겠다.</p><h2 id=springboot에-swagger-적용>﻿SpringBoot에 Swagger 적용</h2><p>　기본 SpringBoot 가 셋팅되어 있다는 가정하에 Swagger 관련 dependency를 추가해주자. 아참, 이제부터의 프로젝트 셋팅은 Gradle로 하려한다. (물론 Maven으로 해도 무방하지만&mldr;)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gradle data-lang=gradle><span class=line><span class=cl><span class=n>dependencies</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>implementation</span> <span class=s2>&#34;io.springfox:springfox-boot-starter:3.0.0&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>　﻿이후 JavaConfig 을 아래와 같이 설정하는데 아래 내용은 아주 기본 세팅이니 자세한 내용은 <a href=https://springfox.github.io/springfox/docs/current/#springfox-spring-mvc-and-spring-boot target=_blank rel="noopener noreffer">공식 도큐문서</a>를 참고해 보면 좋을 것 같다. (물론 샘플 프로젝트를 만들며 필요할 것 같은 내용은 아래에서 설명하겠다.)﻿</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@EnableSwagger2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@Configuration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>SwaggerConfig</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nd>@Bean</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=kd>public</span><span class=w> </span><span class=n>Docket</span><span class=w> </span><span class=nf>api</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Docket</span><span class=p>(</span><span class=n>DocumentationType</span><span class=p>.</span><span class=na>SWAGGER_2</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>			</span><span class=p>.</span><span class=na>select</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>			</span><span class=p>.</span><span class=na>apis</span><span class=p>(</span><span class=n>RequestHandlerSelectors</span><span class=p>.</span><span class=na>any</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>			</span><span class=p>.</span><span class=na>paths</span><span class=p>(</span><span class=n>PathSelectors</span><span class=p>.</span><span class=na>any</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>			</span><span class=p>.</span><span class=na>build</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>　﻿테스트할 컨트롤러를 아래처럼 심플하게 작성하고(사칙연산&mldr;) 실행을 시킨 후 <code>/swagger-ui/</code>에 접속을 해보면 swagger 관련 javaConfig 하나만 추가했는데 문서가 만들어진 것을 확인할 수 있다. (http method는 편의상 다양하게 작성했으니 왜 DELETE 인가라는 의문은 접어두자.)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@RestController</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>SampleController</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nd>@GetMapping</span><span class=p>(</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;/addition&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=kd>public</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=nf>addition</span><span class=p>(</span><span class=n>Integer</span><span class=w> </span><span class=n>num1</span><span class=p>,</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=n>num2</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=k>return</span><span class=w> </span><span class=n>num1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>num2</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nd>@PostMapping</span><span class=p>(</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;/subtraction&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=kd>public</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=nf>subtraction</span><span class=p>(</span><span class=n>Integer</span><span class=w> </span><span class=n>num1</span><span class=p>,</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=n>num2</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=k>return</span><span class=w> </span><span class=n>num1</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>num2</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nd>@PutMapping</span><span class=p>(</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;/multiplication&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=kd>public</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=nf>multiplication</span><span class=p>(</span><span class=n>Integer</span><span class=w> </span><span class=n>num1</span><span class=p>,</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=n>num2</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=k>return</span><span class=w> </span><span class=n>num1</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>num2</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nd>@DeleteMapping</span><span class=p>(</span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;/division&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=kd>public</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=nf>division</span><span class=p>(</span><span class=n>Integer</span><span class=w> </span><span class=n>num1</span><span class=p>,</span><span class=w> </span><span class=n>Integer</span><span class=w> </span><span class=n>num2</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=k>return</span><span class=w> </span><span class=n>num1</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=n>num2</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><figure><a class=lightgallery href=/images/openapi-and-swagger-ui-in-spring-boot/default-config.png title=/images/openapi-and-swagger-ui-in-spring-boot/default-config.png data-thumbnail=/images/openapi-and-swagger-ui-in-spring-boot/default-config.png data-sub-html="<h2>기본 셋팅만 했는데 이런 화면이 나타났다.</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/openapi-and-swagger-ui-in-spring-boot/default-config.png data-srcset="/images/openapi-and-swagger-ui-in-spring-boot/default-config.png, /images/openapi-and-swagger-ui-in-spring-boot/default-config.png 1.5x, /images/openapi-and-swagger-ui-in-spring-boot/default-config.png 2x" data-sizes=auto alt=/images/openapi-and-swagger-ui-in-spring-boot/default-config.png width=80%></a><figcaption class=image-caption>기본 셋팅만 했는데 이런 화면이 나타났다.</figcaption></figure><p>　﻿위에서 했던 설정들 중 몇 가지만 좀 더 자세히 살펴보자.</p><table><thead><tr><th>설정</th><th>설명</th></tr></thead><tbody><tr><td>Docket</td><td>﻿Springfox 프레임 워크의 기본 인터페이스가 될 빌더로 구성을 위한 여러 가지 기본값과 편리한 방법을 제공하고 있다. 이후 <code>select()</code>로 ApiSelectorBuilder를 반환받아 사용할 수 있도록 해준다.</td></tr><tr><td>apis</td><td>﻿어떤 위치에 있는 API들을 가져올 것인가에 대한 정의. <code>RequestHandlerSelectors.any()</code>이라고 했으니 SpringBoot에서 기본으로 제공하는 <code>basic-error-controller</code> 도 API 문서로 만들어진 것을 확인할 수 있다. 특정 패키지만 적용하기 위해서는 <code>RequestHandlerSelectors.basePackage("com.taetaetae.swagger.api")</code> 와 같은 형식으로 지정하면 해당 패키지 하위에 있는 Controller를 기준으로 문서를 만들어 준다﻿.</td></tr><tr><td>paths</td><td>﻿이름에서도 눈치를 챌 수 있듯이 특정 path만 필터링해서 문서를 만들어 준다.</td></tr><tr><td>useDefaultResponseMessages</td><td>﻿기본 http 응답 코드를 사용해야 하는지를 나타내는 플래그</td></tr></tbody></table><p>﻿이외에도 security 나 공통으로 사용되는 파라미터 등 다양한 옵션을 설정할 수 있으니 가능하면 상황에 맞게 설정을 변경해 보는 것도 좋을 것 같다. 다른 설정들을 추가시켜서 좀 더 친절하게 만들어 보면 아래처럼 만들 수 있고 해당 코드는 <a href=https://github.com/taetaetae/Swagger-In-SpringBoot target=_blank rel="noopener noreffer">Github</a>에서 확인 가능하다.</p><figure><a class=lightgallery href=/images/openapi-and-swagger-ui-in-spring-boot/change-config.png title=/images/openapi-and-swagger-ui-in-spring-boot/change-config.png data-thumbnail=/images/openapi-and-swagger-ui-in-spring-boot/change-config.png data-sub-html="<h2>API 문서화는 최대한 친절하게!!</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/openapi-and-swagger-ui-in-spring-boot/change-config.png data-srcset="/images/openapi-and-swagger-ui-in-spring-boot/change-config.png, /images/openapi-and-swagger-ui-in-spring-boot/change-config.png 1.5x, /images/openapi-and-swagger-ui-in-spring-boot/change-config.png 2x" data-sizes=auto alt=/images/openapi-and-swagger-ui-in-spring-boot/change-config.png width=80%></a><figcaption class=image-caption>API 문서화는 최대한 친절하게!!</figcaption></figure><h2 id=openapi>OpenAPI</h2><p>　﻿Swagger 공식 홈페이지를 이리저리 둘러보면 OpenAPI라는 내용이 많이 나온다. 그렇다면 OpenAPI는 무엇일까? 문서에 나와있는 내용을 직역해보면 Swagger 사양으로 알려져 있으며 RESTful 웹 서비스를 설명, 생성, 소비 및 시각화하기 위한 기계 판독 가능 인터페이스 파일에 대한 사양이라고 한다. 즉, API 자체를 설명하는 인터페이스 스펙이라고 이해를 해볼 수 있다. 위에서 만들어졌던 Swagger를 보면 http://localhost:8080/v2/api-docs?group=Test API 라고 나와있는데 이를 클릭해보면 아래와 같이 json 형태로 보인다. 다시 보면 우리가 이제까지 Swagger으로 만든 API 문서를 설명하는 인터페이스 스펙으로 이해할 수 있다. (꽤 길어서 덧셈 API를 제외하고 지웠다.) 그렇다면 이 JSON 파일을 어떻게 활용할 수 있을까?﻿</p></div><div class=post-footer><a href=/posts/openapi-and-swagger-ui-in-spring-boot/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/swagger/>Swagger</a>,&nbsp;<a href=/tags/swagger-ui/>Swagger-Ui</a>,&nbsp;<a href=/tags/openapi/>OpenAPI</a>,&nbsp;<a href=/tags/archives-2020/>Archives-2020</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><div class=featured-image-preview><a href=/posts/jenkins-job-parallel-processing-by-pipeline/><img class=lazyload src=/svg/loading.min.svg data-src=/images/jenkins-job-parallel-processing-by-pipeline/pipeline.jpg data-srcset="/images/jenkins-job-parallel-processing-by-pipeline/pipeline.jpg, /images/jenkins-job-parallel-processing-by-pipeline/pipeline.jpg 1.5x, /images/jenkins-job-parallel-processing-by-pipeline/pipeline.jpg 2x" data-sizes=auto alt=/images/jenkins-job-parallel-processing-by-pipeline/pipeline.jpg title=/images/jenkins-job-parallel-processing-by-pipeline/pipeline.jpg></a></div><h1 class=single-title itemprop="name headline"><a href=/posts/jenkins-job-parallel-processing-by-pipeline/>Jenkins Job을 병렬로 실행해서 속도를 개선해보자. (by. Pipeline)</a></h1><div class=post-meta><span class=post-author><a href=https://taetaetae.github.io/resume title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>태태태</a></span>&nbsp;<span class=post-publish>published on <time datetime=2020-12-06>2020-12-06</time></span>&nbsp;<span class=post-category>included in <a href=/categories/tech/><i class="far fa-folder fa-fw" aria-hidden=true></i>Tech</a></span></div><div class=content><p>﻿　관리하는 URL이 <code>200</code>응답을 주고 있는지 모니터링을 한다고 가정해보자. 다양한 방법이 생각나겠지만 가장 처음으로 떠오른 건 단연 <code>Jenkins</code>. 간단하게 사용할 언어에 맞춰 <code>Execute Script</code>를 작성하고 스케줄링을 걸어 놓으면 큰 수고 없이 모니터링을 구성할 수 있게 된다. 아래는 python script로 작성해 보았다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=n>url</span><span class=o>=</span><span class=s2>&#34;http://모니터링url&#34;</span>
</span></span><span class=line><span class=cl><span class=n>status_code</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>url</span><span class=p>)</span><span class=o>.</span><span class=n>status_code</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>status_code</span> <span class=o>!=</span> <span class=mi>200</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;응답 실패 :</span><span class=si>{</span><span class=n>url</span><span class=si>}</span><span class=s1>, status : </span><span class=si>{</span><span class=n>status_code</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span></code></pre></div><p>﻿　하지만 모니터링을 해야 하는 URL이 1개에서 여러 개로 늘어난다면 어떻게 될까? 단순하게 작성한 Script를 아래처럼 약간 수정하면 되긴 하지만 URL마다 응답속도가 다를 경우 순차적으로 실행하다 보니 실행 속도는 느릴 수밖에 없다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=n>urls</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>	<span class=s2>&#34;http://모니터링url-1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=s2>&#34;http://모니터링url-2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=s2>&#34;http://모니터링url-3&#34;</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>url</span> <span class=ow>in</span> <span class=n>urls</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=n>status_code</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>url</span><span class=p>)</span><span class=o>.</span><span class=n>status_code</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=n>status_code</span> <span class=o>!=</span> <span class=mi>200</span><span class=p>:</span>
</span></span><span class=line><span class=cl>		<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;응답 실패 :</span><span class=si>{</span><span class=n>url</span><span class=si>}</span><span class=s1>, status : </span><span class=si>{</span><span class=n>status_code</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span></code></pre></div><p>﻿
　이러한 경우, 빠른 속도를 보장하기 위해서는 병렬로 실행을 해야 한다는 건 누구나 다 알지만 그렇다고 Thread를 사용하기엔 벌써부터 덜컥 부담이 된다. 그렇다고 Job을 URL 개수만큼 늘리기에는 배보다 배꼽이 더 커버리고&mldr; 그러다 발견한 기능이 바로 Jenkins Pipeline!</p><p>　이번 포스팅에서는 Jenkins Job을 동시에 여러 번 사용해야 하는 경우를 Pipeline을 통해서 개선한 내용에 대하여 공유해보려 한다. Jenkins Pipeline에 대해 들어만 봤는데 이번에 실제로 사용해보니 생각보다 쉽게 개선할 수 있었고 옵션들을 상황에 맞게 조합을 잘 한다면 상당히 활용성이 높아 보이는 기능인 것 같다.</p><h2 id=기존상황>기존상황</h2><p>　테﻿스트를 위해 임의로 느린 응답을 생성하도록 URL을 구성하고 위에서 이야기했던 것처럼 Job 하나에 아주 심플하게 Python script를 작성하고 실행해보도록 하자. 임의로 느린 응답은 <a href=http://slowwly.robertomurray.co.uk/ target=_blank rel="noopener noreffer">http://slowwly.robertomurray.co.uk/</a> 에서 제공하는 기능을 활용하였다.﻿</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=n>urls</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>	<span class=s2>&#34;http://slowwly.robertomurray.co.uk/delay/0/url/https://www.naver.com/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=s2>&#34;http://slowwly.robertomurray.co.uk/delay/100/url/https://www.naver.com/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;http://slowwly.robertomurray.co.uk/delay/200/url/https://www.naver.com/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;http://slowwly.robertomurray.co.uk/delay/500/url/https://www.naver.com/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;http://slowwly.robertomurray.co.uk/delay/1000/url/https://www.naver.com/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;http://slowwly.robertomurray.co.uk/delay/2000/url/https://www.naver.com/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;http://slowwly.robertomurray.co.uk/delay/5000/url/https://www.naver.com/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;http://slowwly.robertomurray.co.uk/delay/10000/url/https://www.naver.com/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;http://slowwly.robertomurray.co.uk/delay/20000/url/https://www.naver.com/&#34;</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>url</span> <span class=ow>in</span> <span class=n>urls</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=n>status_code</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>url</span><span class=p>)</span><span class=o>.</span><span class=n>status_code</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=n>status_code</span> <span class=o>!=</span> <span class=mi>200</span><span class=p>:</span>
</span></span><span class=line><span class=cl>		<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;응답 실패 :</span><span class=si>{</span><span class=n>url</span><span class=si>}</span><span class=s1>, status : </span><span class=si>{</span><span class=n>status_code</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;응답성공 : </span><span class=si>{</span><span class=n>url</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span></code></pre></div><p>그래서 실행해보면 50초가 소요되었다. 자, 이제 개선을 해보자!</p><h2 id=개선을-해보자>개선을 해보자</h2><p>　﻿전체적인 개선의 흐름은 하나의 Job에 모니터링하고자 하는 url을 파라미터로 받아서 처리할 수 있도록 설정하고, 이를 Jenkins Pipeline 을 통해 여러 URL을 동시에 모니터링하게 구성하는 것이다. 그러면 두 개의 Job(파라미터로 받아 모니터링하는 Job, Jenkins Pipeline Job) 만으로 보다 빠르고 효율적인 구성을 할 수 있을 것으로 상상을 하고.</p><h3 id=job을-범용적으로-jenkins-paramters-활용>Job을 범용적으로 (Jenkins paramters 활용)</h3><p>　﻿위에서 샘플로 작성하였던 Python script는 url 이 늘어날수록 Job 안에 script를 수정해야 한다. 그렇게 해도 무방하지만 이번 개선의 목표는 하나의 Job을 Pipeline 이 병렬로 컨트롤하도록 설정해야 했기 때문에 Jenkins Job에 파라미터를 받을 수 있도록 아래처럼 Jenkins Job 설정에 파라미터를 설정하고 Python script 또한 수정해 주자.</p><figure><a class=lightgallery href=/images/jenkins-job-parallel-processing-by-pipeline/jenkins-parameter-option.jpg title=/images/jenkins-job-parallel-processing-by-pipeline/jenkins-parameter-option.jpg data-thumbnail=/images/jenkins-job-parallel-processing-by-pipeline/jenkins-parameter-option.jpg data-sub-html="<h2>﻿Job > 구성 > 이 빌드는 매개변수가 있습니다</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/jenkins-job-parallel-processing-by-pipeline/jenkins-parameter-option.jpg data-srcset="/images/jenkins-job-parallel-processing-by-pipeline/jenkins-parameter-option.jpg, /images/jenkins-job-parallel-processing-by-pipeline/jenkins-parameter-option.jpg 1.5x, /images/jenkins-job-parallel-processing-by-pipeline/jenkins-parameter-option.jpg 2x" data-sizes=auto alt=/images/jenkins-job-parallel-processing-by-pipeline/jenkins-parameter-option.jpg width=80%></a><figcaption class=image-caption>﻿Job > 구성 > <code>이 빌드는 매개변수가 있습니다</code></figcaption></figure><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span><span class=o>,</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=n>url</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s1>&#39;url&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>status_code</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>url</span><span class=p>)</span><span class=o>.</span><span class=n>status_code</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>status_code</span> <span class=o>!=</span> <span class=mi>200</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;응답 실패 :</span><span class=si>{</span><span class=n>url</span><span class=si>}</span><span class=s1>, status : </span><span class=si>{</span><span class=n>status_code</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;응답성공 : </span><span class=si>{</span><span class=n>url</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=병렬-실행을-위한-jenkins-설정>병렬 실행을 위한 Jenkins 설정</h3><p>　﻿Jenkins Job 을 생성하면 기본적으로 Job마다의 대기열(Queue)이 있어 Job이 실행 중이라면 시작된 시간 순서대로 기다렸다가 앞선 Job이 종료가 되면 이어서 실행되는 구조이다. 하지만 우리는 Job을 병렬로 실행해야 했기에 Job 설정 중 <code>필요한 경우 concurrent 빌드 실행</code> 옵션을 켜줘서 기다리지 않고 병렬로 실행될 수 있도록 해준다.</p><figure><a class=lightgallery href=/images/jenkins-job-parallel-processing-by-pipeline/jenkins-concurrent-build-option.jpg title=/images/jenkins-job-parallel-processing-by-pipeline/jenkins-concurrent-build-option.jpg data-thumbnail=/images/jenkins-job-parallel-processing-by-pipeline/jenkins-concurrent-build-option.jpg data-sub-html="<h2>﻿Job > 구성 > 필요한 경우 concurrent 빌드 실행</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/jenkins-job-parallel-processing-by-pipeline/jenkins-concurrent-build-option.jpg data-srcset="/images/jenkins-job-parallel-processing-by-pipeline/jenkins-concurrent-build-option.jpg, /images/jenkins-job-parallel-processing-by-pipeline/jenkins-concurrent-build-option.jpg 1.5x, /images/jenkins-job-parallel-processing-by-pipeline/jenkins-concurrent-build-option.jpg 2x" data-sizes=auto alt=/images/jenkins-job-parallel-processing-by-pipeline/jenkins-concurrent-build-option.jpg width=80%></a><figcaption class=image-caption>﻿Job > 구성 > <code>필요한 경우 concurrent 빌드 실행</code></figcaption></figure><p>　﻿또한 Jenkins Job 자체는 병렬로 실행되도록 설정되었다 해도 기본적으로 Jenkins 자체의 대기열은 한정되어 있기 때문에 적당히 늘려줘서 여러 개의 Job이 대기 열 없이 동시에 실행될 수 있도록 해준다.</p><figure><a class=lightgallery href=/images/jenkins-job-parallel-processing-by-pipeline/jenkins-executors.jpg title=/images/jenkins-job-parallel-processing-by-pipeline/jenkins-executors.jpg data-thumbnail=/images/jenkins-job-parallel-processing-by-pipeline/jenkins-executors.jpg data-sub-html="<h2>﻿Jenkins > Jenkins 관리 > 시스템 설정 > of executors</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/jenkins-job-parallel-processing-by-pipeline/jenkins-executors.jpg data-srcset="/images/jenkins-job-parallel-processing-by-pipeline/jenkins-executors.jpg, /images/jenkins-job-parallel-processing-by-pipeline/jenkins-executors.jpg 1.5x, /images/jenkins-job-parallel-processing-by-pipeline/jenkins-executors.jpg 2x" data-sizes=auto alt=/images/jenkins-job-parallel-processing-by-pipeline/jenkins-executors.jpg width=80%></a><figcaption class=image-caption>﻿Jenkins > Jenkins 관리 > 시스템 설정 > <code>of executors</code></figcaption></figure><h3 id=jenkins-pipeline>Jenkins Pipeline</h3><p>　﻿Job 을 Pipeline으로 만들고 Pipeline scirpt를 작성하는데 눈여겨봐야 할 옵션들을 짚고 넘어가고자 한다.</p></div><div class=post-footer><a href=/posts/jenkins-job-parallel-processing-by-pipeline/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/jenkins/>Jenkins</a>,&nbsp;<a href=/tags/pipeline/>Pipeline</a>,&nbsp;<a href=/tags/archives-2020/>Archives-2020</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><div class=featured-image-preview><a href=/posts/blog-reorganization-by-hugo/><img class=lazyload src=/svg/loading.min.svg data-src=/images/blog-reorganization-by-hugo/hexo_to_hugo.png data-srcset="/images/blog-reorganization-by-hugo/hexo_to_hugo.png, /images/blog-reorganization-by-hugo/hexo_to_hugo.png 1.5x, /images/blog-reorganization-by-hugo/hexo_to_hugo.png 2x" data-sizes=auto alt=/images/blog-reorganization-by-hugo/hexo_to_hugo.png title=/images/blog-reorganization-by-hugo/hexo_to_hugo.png></a></div><h1 class=single-title itemprop="name headline"><a href=/posts/blog-reorganization-by-hugo/>기술블로그 개편기 (by HUGO)</a></h1><div class=post-meta><span class=post-author><a href=https://taetaetae.github.io/resume title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>태태태</a></span>&nbsp;<span class=post-publish>published on <time datetime=2020-11-29>2020-11-29</time></span>&nbsp;<span class=post-category>included in <a href=/categories/tech/><i class="far fa-folder fa-fw" aria-hidden=true></i>Tech</a></span></div><div class=content><p>　웹서비스 개발자라면 나만의 블로그쯤은 있어야지 하며 기술 블로그를 시작한 지도 어느덧 4년이 되었다. 처음엔 그저 새로 알게 된 기술이나 삽질하며 경험한 것들 중에 핵심만을 적어놓는 수준이었다. (지금 다시 보면 뭔가 오글거리는 건 기분 탓이겠지&mldr;) 그렇게 계속 글을 써오면서 글쓰기라는 것에 관심을 갖게 되고 내 글이 누군가에게 도움이 될 거라는 기대에 조금이라도 글을 잘 써보고자 단순 기록 용이 아닌 하나의 &lsquo;글&rsquo;을 쓰려고 노력해 온 것 같다.</p><p>　일주일에 한 개는 써야지. 한 달에 한 개는 써야지. 하며 자꾸 나 자신과의 타협을 하다가 최근에는 회사에서 운영하는 서비스 개편 때문에 정신없이 바쁘다는 핑계로 &lsquo;블로그&rsquo;에 &lsquo;ㅂ&rsquo;자도 생각하지 못하게 된다. 무엇이 문제일까?라는 생각은 결국 내 기술 블로그도 회사 서비스처럼 &lsquo;개편&rsquo;을 해보자는 생각으로 도달하게 되었고 간단할 것만 같았던 기술 블로그 개편 작업은 꽤 오랫동안 + 다양한 삽질들로 작업을 하게 된다.</p><p>　이번 포스팅에서는 기술 블로그를 개편하며 겪었던 내용들에 대해 정리해보고자 한다. 기존에 기술 블로그를 운영하시는 분들이나 이번에 새롭게 시작하시는 분들께 도움이 될 거라 기대한다. 더불어 서비스 &lsquo;출시&rsquo; 가 아닌 개편&rsquo;이라는 과정 속에서 느끼게 되었던 인사이트도 간략하게 작성해볼까 한다.</p><h2 id=기술블로그-플랫폼-선택>기술블로그 플랫폼 선택</h2><p>　처음 블로그를 쓰기 시작했을 때 포털서비스의 글쓰기 플랫폼을 사용하지 않은 이유는 단 하나다. &lsquo;글쓰기&rsquo; 뿐만 아니라 개발자이기에 웹사이트(블로그)를 내 입맛에 맞게 커스터마이징 하기 위해서. 그 이유로 <a href=https://hexo.io/ target=_blank rel="noopener noreffer">hexo</a> 라는 프레임워크에 github의 호스팅을 사용하여 운영을 해왔다. 그렇게 블로그를 운영해오면서 느꼈던 불편했던 부분들과 개편을 하며 기대하는 부분들을 정리하면 아래와 같다.</p><ul><li>테마(UI)가 이뻐야 하고 기능들이 많으면 좋겠다.</li><li>기술 블로그인 만큼 코드가 많이 삽입되니 코드 표현 또한 이뻐야 한다.</li><li>테마 또는 프레임워크의 커뮤니티가 활발해야 한다.</li><li>페이지 생성 또는 만들어진 웹페이지의 성능이 좋아야 한다.</li><li>글을 작성하고 배포하는 과정이 심플하고 깔끔해야 한다.
﻿</li></ul><p>　위와 같은 이유를 기반으로 검색을 해보다 SSG(쓱 쇼핑몰 아님, Static site generators)를 깔끔하게 정리해 놓은 <a href=https://jamstack.org/generators/ target=_blank rel="noopener noreffer">사이트</a>를 발견한다. 정말 다양한 플랫폼들을 살펴보며 필자에게 맞는 게 어떤 건지 고민하다 결국 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer">hugo</a> 를 선택하게 된다. hugo를 선택한 이유는 go라는 언어를 사용한다는 것과 (간접적으로라도 다른 언어를 경험해보고 싶어서 + go 언어가 빠르다는 소리를 어디선가 들어서) <a href=https://themes.gohugo.io/ target=_blank rel="noopener noreffer">테마들</a>이 너무 다양했기 때문이다.</p><figure><a class=lightgallery href=/images/blog-reorganization-by-hugo/hugo_homepage.jpg title=/images/blog-reorganization-by-hugo/hugo_homepage.jpg data-thumbnail=/images/blog-reorganization-by-hugo/hugo_homepage.jpg data-sub-html="<h2>﻿아주 대놓고 빠르다고 하니&mldr; 쓰고 싶어진다.</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/blog-reorganization-by-hugo/hugo_homepage.jpg data-srcset="/images/blog-reorganization-by-hugo/hugo_homepage.jpg, /images/blog-reorganization-by-hugo/hugo_homepage.jpg 1.5x, /images/blog-reorganization-by-hugo/hugo_homepage.jpg 2x" data-sizes=auto alt=/images/blog-reorganization-by-hugo/hugo_homepage.jpg width=80%></a><figcaption class=image-caption>﻿아주 대놓고 빠르다고 하니&mldr; 쓰고 싶어진다.</figcaption></figure><p>　결국 hugo에 <a href=https://hugo-ranking-trend.com/ target=_blank rel="noopener noreffer">hugo-ranking-trend</a>라는 사이트에서 상위에 랭크가 되어있고 기술 블로그 성격에 적합할 것 같은 <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer">LoveIt</a>이라는 테마를 사용하기로 결정하였다. 자 그럼 시작해볼까?!</p><h2 id=hugo-는-어떻게-쓰는거야>hugo 는 어떻게 쓰는거야?</h2><p>﻿　대부분의 오픈소스는 hello world 혹은 quick start 같이 처음 접하는 사람들을 위한 도큐먼트가 있기 마련. hugo도 마찬가지로 <a href=https://gohugo.io/getting-started/quick-start/ target=_blank rel="noopener noreffer">quick-start</a>가 있었고 이를 천천히 따라 하면 생각보다 쉽게 초기 세팅을 할 수 있었&mldr; 을꺼라 기대했지만 약간 초기 설정 과정이 어려워서 남겨 두고자 한다.</p><blockquote><p>참고로 필자는 윈도 10 환경에서 구성하였다. mac이라면 더 쉽게 설정할 수 있는 것 같은데 이 부분은 OS의 차이에서 생겨나는 어쩔 수 없는 약간의 장벽이라 생각한다. 이쁜 테마와 새로운 환경을 사용할 수 있다는 기대감으로 꾹 참아본다.</p></blockquote><h3 id=기본설정>기본설정</h3><p>　﻿git이 설치되어 있다는 가정하에 우선 hugo는 go 언어기반으로 돌아가기에 우선 go를 설치해야 한다. <a href=https://golang.org/dl/ target=_blank rel="noopener noreffer">다운로드</a>페이지에서 환경에 맞는 설치 파일을 다운로드하고 설치를 해준다. 다음으로 패키지 관리자인 chocolatey 또한 설치가 필요하다. <a href=https://chocolatey.org/install target=_blank rel="noopener noreffer">공식 홈페이지</a>페이지에서 나와있는 순서대로 진행하면 설치 완료. 필자는 여기서 진행이 잘 안됐었는데, &lsquo;관리자 권한&rsquo;으로 PowerShell 을 실행시켜야지만 성공을 할 수 있었다.﻿</p><p>﻿　위 설정이 완료되었으면 드디어 hugo를 설치해 주고 초기화를 해준 뒤 샘플로 글 하나를 만들고 서버를 띄우면 끝.</p></div><div class=post-footer><a href=/posts/blog-reorganization-by-hugo/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/hugo/>Hugo</a>,&nbsp;<a href=/tags/blog/>Blog</a>,&nbsp;<a href=/tags/github-actions/>Github-Actions</a>,&nbsp;<a href=/tags/archives-2020/>Archives-2020</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><div class=featured-image-preview><a href=/2020/10/04/a-good-developer-in-terms-of-log-and-monitoring/><img class=lazyload src=/svg/loading.min.svg data-src=/images/a-good-developer-in-terms-of-Log-and-Monitoring/logAndMonitoring-logo.jpg data-srcset="/images/a-good-developer-in-terms-of-Log-and-Monitoring/logAndMonitoring-logo.jpg, /images/a-good-developer-in-terms-of-Log-and-Monitoring/logAndMonitoring-logo.jpg 1.5x, /images/a-good-developer-in-terms-of-Log-and-Monitoring/logAndMonitoring-logo.jpg 2x" data-sizes=auto alt=/images/a-good-developer-in-terms-of-Log-and-Monitoring/logAndMonitoring-logo.jpg title=/images/a-good-developer-in-terms-of-Log-and-Monitoring/logAndMonitoring-logo.jpg></a></div><h1 class=single-title itemprop="name headline"><a href=/2020/10/04/a-good-developer-in-terms-of-log-and-monitoring/>그런 개발자로 괜찮은가 - '로그 & 모니터링' 편</a></h1><div class=post-meta><span class=post-author><a href=https://taetaetae.github.io/resume title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>태태태</a></span>&nbsp;<span class=post-publish>published on <time datetime=2020-10-04>2020-10-04</time></span>&nbsp;<span class=post-category>included in <a href=/categories/essay/><i class="far fa-folder fa-fw" aria-hidden=true></i>Essay</a></span></div><div class=content><p>　캐릭터를 육성하며 게임하는 경우를 생각해 보자. 더 좋은 아이템을 얻거나 퀘스트를 달성하기 위해 당신은 다양한 방법을 통해 캐릭터를 성장시킨다. 사냥을 하다 체력이 떨어지게 되면 물약을 먹고, 캐릭터의 능력 중 부족한 부분이 있으면 훈련을 더 하거나 그에 맞는 아이템을 장착하게 된다. 이렇게 캐릭터의 &lsquo;상태&rsquo;를 적절한 UI를 통해 사용자에게 알려주기 때문에 &lsquo;확인&rsquo;이 가능하고 &lsquo;대응&rsquo;이 가능하게 된다.</p><p>　우리가 만드는 애플리케이션 또한 위에서 이야기 한 게임상의 캐릭터가 아닐까 싶다. 복잡한 스펙을 다양한 테스트 케이스를 만들며 로직 동작에는 이상이 없음을 확인했다면 그걸로 만족할 수 있을까? 개발자의 &lsquo;레벨&rsquo;은 이 부분에서 차이가 난다고 생각한다. 운영환경에 출시한 애플리케이션에 에러가 나는지, 트래픽이 얼마나 들어오고 있고 트래픽의 유형은 또 어떠한지, 요청에 대한 응답속도는 어떻고 서버의 시스템 지표에는 문제가 없는지 등등. 애플리케이션의 유형에 따라 다양하겠지만 적절한 로그를 이용하여 애플리케이션의 &lsquo;상태&rsquo;를 확인하고 문제가 있다면 &lsquo;대응&rsquo;하는 게 꼭 필요하다고 생각한다.</p><p>　이번 포스팅에서는 크게 로깅과 모니터링에 대해 알아보고자 한다. 이를 통해 애플리케이션의 &lsquo;개발&rsquo;에만 집중하고 있던 관점을 보다 더 높은 곳에서 바라보며 애플리케이션의 &lsquo;운영&rsquo; 측면에서도 고민해 보는 기회가 되었으면 한다.</p><blockquote><p>필자는 서버 개발자이다 보니 글의 내용이 다소 서버 개발자의 시선에서 작성하게 되었다. 하지만 &lsquo;개발자&rsquo;라면 유형만 다르지 대부분 비슷하기 때문에 크게 다르지 않다고 생각한다.</p></blockquote><h2 id=로그는-어떤걸-어떻게-남겨야-할까>로그는 어떤걸, 어떻게 남겨야 할까?</h2><p>　﻿로그가 왜 필요한지에 대한 내용은 다루지 않겠다. (굳이 말하지 않아도 그만큼 중요하다는 표현이 더 어울릴 수도 있겠다.) 그렇다면 우선 어떤 로그를 남겨야 할까?</p><figure><a class=lightgallery href=/images/a-good-developer-in-terms-of-Log-and-Monitoring/talk.jpg title=/images/a-good-developer-in-terms-of-Log-and-Monitoring/talk.jpg data-thumbnail=/images/a-good-developer-in-terms-of-Log-and-Monitoring/talk.jpg data-sub-html="<h2>필자가 꿈나무 시절때 나누었던 조직장님과의 대화 내용</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/a-good-developer-in-terms-of-Log-and-Monitoring/talk.jpg data-srcset="/images/a-good-developer-in-terms-of-Log-and-Monitoring/talk.jpg, /images/a-good-developer-in-terms-of-Log-and-Monitoring/talk.jpg 1.5x, /images/a-good-developer-in-terms-of-Log-and-Monitoring/talk.jpg 2x" data-sizes=auto alt=/images/a-good-developer-in-terms-of-Log-and-Monitoring/talk.jpg width=40%></a><figcaption class=image-caption>필자가 꿈나무 시절때 나누었던 조직장님과의 대화 내용</figcaption></figure><p>　﻿아직까지도 기억에 남아있는 예전 조직 장님과의 대화. 일단 로그는 최대한 많이 (과하게) 남겨야 한다고 생각한다. 그다음 불필요한 로그들은 제거하거나 레벨을 낮추는 등 상황에 맞도록 커스터마이징이 필요하다. 경험을 해보면 알겠지만 운영환경에 애플리케이션을 배포하고 서비스를 운영하다 보면 개발 환경에서 만나기 어렵거나 경험해보지 못한 상황이 발생하곤 한다. 이럴 때 상황에 맞는 로그들이 있다면 미리 남겨둔 로그를 통해 더 효과적으로 상황을 파악할 수 있다. 트래픽의 정보(request url, parameter, UA, remote ip 등)를 남겨서 외부에서 호출하는 형태를 분석하는데 활용할 수도 있고, 애플리케이션에서 외부로 호출을 하고 난 뒤에 받는 응답에 대해서 로그를 남겨두면 외부 통신의 오류를 파악하는 데 도움이 될 수 있다. 어떤 로그를 남겨야 하는가에 대한 고민은 운영하는 애플리케이션이 어떤 행동을 하는가에 관점을 두고 고민해보면 좀 더 쉽게 찾을 수 있을 것이라 생각한다.</p><p>　로그를 남기는 방법 또한 다양하다. 시스템 로컬에 파일로 남기거나 특정 로그 서버를 설정하여 여러 대의 서버 로그를 한곳에서 볼 수도 있다. 다만 로그를 &lsquo;남기는&rsquo; 것 또한 하나의 비용에 포함되기 때문에 애플리케이션의 기능에 최대한 영향이 가지 않도록 최대한 빠른 시간 내에 처리가 되도록 해야 한다. (혹은 비동기로 남기거나 등)</p><p>　로그를 남기는 이유 중 가장 큰 이유는 &lsquo;나중에 보기 위해서&rsquo;이다. 그만큼 한번 로그를 남길 때에도 보기 좋게 남겨야 한다. 예컨대, 아래에 적어놓은 로그 방식의 경우 작은 차이지만 나중에 볼 때 꽤 큰 차이를 유발한다.
﻿</p><ul><li>안좋은 예</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=k>try</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>){</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>log</span><span class=p>.</span><span class=na>Error</span><span class=p>(</span><span class=n>e</span><span class=p>);</span><span class=w> </span><span class=c1>// 어떤 상황이지..?</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><ul><li>보다 조금 더 좋은 예</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=k>try</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>){</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>log</span><span class=p>.</span><span class=na>Error</span><span class=p>(</span><span class=s>&#34;url : &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>url</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34;, parameter : &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>parameter</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34;, remote ip : &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>remoteIp</span><span class=p>,</span><span class=w> </span><span class=n>e</span><span class=p>);</span><span class=w> </span><span class=c1>// 로그는 가급적 자세하게 !</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h2 id=로그가-가져다-주는-또-다른-세상>로그가 가져다 주는 또 다른 세상</h2><p>　로그는 또 다른 데이터가 될 수 있다. 글 목록을 보여주는 웹페이지가 있다고 가정해보자. 이때 사용자들이 어떤 글을 더 많이 읽는지 &lsquo;클릭 지표&rsquo;에 대한 로그를 남겨 둔다면 &lsquo;인기글&rsquo; 같은 또 다른 웹 페이지가 나올 수 있을 것 같다. 만약 그 페이지가 회원만 읽을 수 있는 페이지라면 &lsquo;20대 남성이 월요일 오후에 많이 읽는 글&rsquo; 같이 회원의 정보를 조합하여 새로운 데이터를 만들 수 있게 된다. 이러한 데이터들은 보다 더 좋은 서비스를 할 수 있게 도와줄 수 있는 밑거름이 되고 그 바탕은 로그라는 걸 명심하자.</p></div><div class=post-footer><a href=/2020/10/04/a-good-developer-in-terms-of-log-and-monitoring/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/log/>Log</a>,&nbsp;<a href=/tags/monitoring/>Monitoring</a>,&nbsp;<a href=/tags/a-good-developer/>A-Good-Developer</a>,&nbsp;<a href=/tags/archives-2020/>Archives-2020</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><div class=featured-image-preview><a href=/2020/09/07/github-pullrequest-build/><img class=lazyload src=/svg/loading.min.svg data-src=/images/github-pullrequest-build/programmer-github-jenkins.jpg data-srcset="/images/github-pullrequest-build/programmer-github-jenkins.jpg, /images/github-pullrequest-build/programmer-github-jenkins.jpg 1.5x, /images/github-pullrequest-build/programmer-github-jenkins.jpg 2x" data-sizes=auto alt=/images/github-pullrequest-build/programmer-github-jenkins.jpg title=/images/github-pullrequest-build/programmer-github-jenkins.jpg></a></div><h1 class=single-title itemprop="name headline"><a href=/2020/09/07/github-pullrequest-build/>빌드/테스트는 내가 해줄게. 너는 코딩에 집중해 (by GitHub Pull Request Builder)</a></h1><div class=post-meta><span class=post-author><a href=https://taetaetae.github.io/resume title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>태태태</a></span>&nbsp;<span class=post-publish>published on <time datetime=2020-09-07>2020-09-07</time></span>&nbsp;<span class=post-category>included in <a href=/categories/tech/><i class="far fa-folder fa-fw" aria-hidden=true></i>Tech</a></span></div><div class=content><p>　git 은 분산 버전 관리 시스템 중 가장 잘 알려져 있다고 해도 과언이 아닐 정도로 대부분의 시스템에서 사용되고 있는 것 같다. 이를 웹서비스에서 보다 편하게 사용할 수 있도록 한 시스템이 Github. Github 을 사용하는 이유 중에 가장 큰 이유를 하나만 이야기해보자면 바로 온라인상에서 코드 리뷰를 할 수 있는 pullRequest라는 기능 때문이 아닐까 조심스럽게 생각을 해본다.</p><p>　pullRequest는 work branch에서 작업한 내용을 base branch로 merge 전 꼭 코드 리뷰가 아니더라도 작업한 내용에 대해서 다양한 검사를 자동화할 수 있는 강력한 기능들이 많다. 이러한 자동화는 CI(지속적 통합) 관점에서 매우 중요한데 코드에 대해 체크해야 할 부분들(빌드, 테스트, 정적 분석 등)을 &ldquo;알아서&rdquo; 해준다면 작업자는 오롯이 비즈니스 로직 개발에 대해서만 신경 쓸 수 있으니 생산성 절약 측면에서 엄청난 효과를 볼 수 있다.</p><figure><a class=lightgallery href=/images/github-pullrequest-build/car.gif title=/images/github-pullrequest-build/car.gif data-thumbnail=/images/github-pullrequest-build/car.gif data-sub-html="<h2>내가 하는일에만 집중할 수 있게!  출처 : https://www.clien.net/service/board/park/10453442</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/github-pullrequest-build/car.gif data-srcset="/images/github-pullrequest-build/car.gif, /images/github-pullrequest-build/car.gif 1.5x, /images/github-pullrequest-build/car.gif 2x" data-sizes=auto alt=/images/github-pullrequest-build/car.gif width=50%></a><figcaption class=image-caption>내가 하는일에만 집중할 수 있게!<br>출처 : <a href=https://www.clien.net/service/board/park/10453442 target=_blank rel="noopener noreffer">https://www.clien.net/service/board/park/10453442</a></figcaption></figure><p>이번 포스팅에서는 그중에서도 아주 간단한 설정만으로 work branch의 빌드 상태를 검사해 볼 수 있는 Jenkins의 Github Pull Request Builder를 설치 및 활용해 보고자 한다.</p><blockquote><p>사실 최근 팀에서 CI 서버를 이전해야 했었다. 머릿속에서는 어떻게 하면 되겠지 싶었지만 막상 해보려니 Jenkins 버전업도 되었고 뭐부터 해야 할지 허둥대는 필자가 부끄러웠다. 이참에 정리를 해보며 다시 한번 리마인드 하는 시간을 가져보고자 한다. (이래서 기억보다 기록이 중요하다.)</p></blockquote><h2 id=준비물>준비물</h2><p>　전체적인 흐름은 아래 그림처럼 흘러가기 때문에 당연히 서버에 Jenkins 가 설치되어 있어야 한다. Jenkins 설치는 필자의 포스팅(<a href=https://taetaetae.github.io/2018/12/02/jenkins-install/ target=_blank rel="noopener noreffer">Jenkins 설치 치트키</a>)를 참고해 보는 것도 좋을 것 같다.</p><figure><a class=lightgallery href=/images/github-pullrequest-build/programmer-github-jenkins.jpg title=/images/github-pullrequest-build/programmer-github-jenkins.jpg data-thumbnail=/images/github-pullrequest-build/programmer-github-jenkins.jpg data-sub-html="<h2>전체적인 흐름</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/github-pullrequest-build/programmer-github-jenkins.jpg data-srcset="/images/github-pullrequest-build/programmer-github-jenkins.jpg, /images/github-pullrequest-build/programmer-github-jenkins.jpg 1.5x, /images/github-pullrequest-build/programmer-github-jenkins.jpg 2x" data-sizes=auto alt=/images/github-pullrequest-build/programmer-github-jenkins.jpg width=50%></a><figcaption class=image-caption>전체적인 흐름</figcaption></figure><p>　참고로 필자는 GitHub Enterprise 버전에서 사용했는데 일반 Github에서도 동일한 방법으로 사용 가능하다.</p><h3 id=github과-jenkins의-연동을-위한-2가지-설정>Github과 Jenkins의 연동을 위한 2가지 설정</h3><p>　Github 과 Jenkins 가 통신이 되도록 설정해 줘야 한다. 그래야 Github의 코드를 받아서 Jenkins 가 빌드를 하고 그 빌드 결과를 다시 Github에 리포트가 가능해지기 때문이다. 먼저 첫 번째로 ssh 설정으로 Github의 코드를 가져오도록 ssh 설정을 해두자. ssh 설정하는 방법은 필자의 포스팅(<a href=https://taetaetae.github.io/2018/02/08/github-with-jenkins/ target=_blank rel="noopener noreffer">Github과 Jenkins 연동하기</a>)편을 확인해보면 될 것 같다.</p><p>　그다음으로 아래에서 이야기할 <code>GitHub Pull Request Builder</code>라는 Jenkins plugin 이 빌드가 끝난 뒤에 결과를 리포팅 해줄 수 있는 인증 토큰을 발급받아두자. Github > Settings > Developer settings > Personal access tokens 화면에서 키를 생성하고 만들어진 키를 저장해 둔다. (이 키는 보안에 유의해야 하고, 화면 경고(?)에서도 볼 수 있듯이 키는 생성 시 한 번밖에 볼 수 없기 때문에 미리 저장해 둬야 한다.)</p><figure><a class=lightgallery href=/images/github-pullrequest-build/github-access-token.jpg title=/images/github-pullrequest-build/github-access-token.jpg data-thumbnail=/images/github-pullrequest-build/github-access-token.jpg data-sub-html="<h2>인증토큰을 미리 받아두자.</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/github-pullrequest-build/github-access-token.jpg data-srcset="/images/github-pullrequest-build/github-access-token.jpg, /images/github-pullrequest-build/github-access-token.jpg 1.5x, /images/github-pullrequest-build/github-access-token.jpg 2x" data-sizes=auto alt=/images/github-pullrequest-build/github-access-token.jpg width=50%></a><figcaption class=image-caption>인증토큰을 미리 받아두자.</figcaption></figure><h2 id=jenkins-설정>Jenkins 설정</h2><p>　Jenkins > 관리 > pluginManager에 들어가 <code>GitHub Pull Request Builder</code>를 검색 후 설치해 준다. 그러고 나서 Jenkins > 관리 > 환경설정에 들어가 보면 아래와 같이 <code>GitHub Pull Request Builder</code> 항목이 생긴 것을 확인할 수 있고 위에서 설정한 인증토큰을 아래처럼 등록 후 저장을 한다.</p><figure><a class=lightgallery href=/images/github-pullrequest-build/add-github-access-token.jpg title=/images/github-pullrequest-build/add-github-access-token.jpg data-thumbnail=/images/github-pullrequest-build/add-github-access-token.jpg data-sub-html="<h2>credentials 을 위에서 발급받은 인증토큰으로 등록해준다.</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/github-pullrequest-build/add-github-access-token.jpg data-srcset="/images/github-pullrequest-build/add-github-access-token.jpg, /images/github-pullrequest-build/add-github-access-token.jpg 1.5x, /images/github-pullrequest-build/add-github-access-token.jpg 2x" data-sizes=auto alt=/images/github-pullrequest-build/add-github-access-token.jpg width=50%></a><figcaption class=image-caption>credentials 을 위에서 발급받은 인증토큰으로 등록해준다.</figcaption></figure><p>　Jenkins job을 하나 만들고 pullRequest 가 발생했을 때 자동으로 실행될 수 있도록 설정을 해준다. 먼저 General 탭에 <code>Github project</code>에 Github url 을 적어주고</p><a class=lightgallery href=/images/github-pullrequest-build/jenkins-general.jpg title=/images/github-pullrequest-build/jenkins-general.jpg data-thumbnail=/images/github-pullrequest-build/jenkins-general.jpg><img class=lazyload src=/svg/loading.min.svg data-src=/images/github-pullrequest-build/jenkins-general.jpg data-srcset="/images/github-pullrequest-build/jenkins-general.jpg, /images/github-pullrequest-build/jenkins-general.jpg 1.5x, /images/github-pullrequest-build/jenkins-general.jpg 2x" data-sizes=auto alt=/images/github-pullrequest-build/jenkins-general.jpg width=50%></a><p>　소스 코드 관리 탭에서 ssh 주소를 적고 위에서 미리 설정한 ssh 키로 credentials 값을 넣어준다. 전에도 이야기했지만 이 부분에서 오류가 발생하면 빨간색 글씨로 오류 내용이 나오고 아래 화면처럼 오류가 없다면 아무것도 안 나온다. Refspec 에 <code>+refs/pull/*:refs/remotes/origin/pr/*</code> 라고 적어주고 브랜치 설정은 파라미터로 받아와서 pullRequest를 발생시킨 브랜치를 빌드 할 수 있도록 <code>${sha1}</code> 라고 적어주자.</p></div><div class=post-footer><a href=/2020/09/07/github-pullrequest-build/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/github/>Github</a>,&nbsp;<a href=/tags/pullrequest/>PullRequest</a>,&nbsp;<a href=/tags/jenkins/>Jenkins</a>,&nbsp;<a href=/tags/ci/>Ci</a>,&nbsp;<a href=/tags/archives-2020/>Archives-2020</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><div class=featured-image-preview><a href=/2020/07/12/toy-projects-second-year-review/><img class=lazyload src=/svg/loading.min.svg data-src=/images/toy-projects-second-year-review/ddb.jpg data-srcset="/images/toy-projects-second-year-review/ddb.jpg, /images/toy-projects-second-year-review/ddb.jpg 1.5x, /images/toy-projects-second-year-review/ddb.jpg 2x" data-sizes=auto alt=/images/toy-projects-second-year-review/ddb.jpg title=/images/toy-projects-second-year-review/ddb.jpg></a></div><h1 class=single-title itemprop="name headline"><a href=/2020/07/12/toy-projects-second-year-review/>벌써 2년 (feat. 토이프로젝트 회고,가치,수입)</a></h1><div class=post-meta><span class=post-author><a href=https://taetaetae.github.io/resume title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>태태태</a></span>&nbsp;<span class=post-publish>published on <time datetime=2020-07-12>2020-07-12</time></span>&nbsp;<span class=post-category>included in <a href=/categories/review/><i class="far fa-folder fa-fw" aria-hidden=true></i>Review</a></span></div><div class=content><p>　정확히 2018년 07월 12일 필자의 첫 토이 프로젝트인 ‘기술 블로그 구독 서비스’를 오픈하게 된다. 얼마나 많이 구독(가입) 하겠어 하는 생각이 부끄러울 만큼 6개월이 지나 구독자 수는 1,000명을 넘기고 1년이 지나 2,000명. 어느덧 달력을 보니 오늘이 정확하게 토이 프로젝트를 서비스한지 벌써 2년이 되는 날. 구독자 수는 어느덧 3,000명을 넘어선다. 뭔가 뿌듯하면서도 서비스를 좀 더 디벨롭 하지 못한 필자 자신을 돌아보니 괜히 마음이 무거워지고.</p><figure><a class=lightgallery href=/images/toy-projects-second-year-review/dog.jpg title=/images/toy-projects-second-year-review/dog.jpg data-thumbnail=/images/toy-projects-second-year-review/dog.jpg data-sub-html="<h2>뭔가 해야하는데&mldr; 괜히 눈치만 보이네&mldr;출처 : http://egloos.zum.com/nievess/v/657827</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/toy-projects-second-year-review/dog.jpg data-srcset="/images/toy-projects-second-year-review/dog.jpg, /images/toy-projects-second-year-review/dog.jpg 1.5x, /images/toy-projects-second-year-review/dog.jpg 2x" data-sizes=auto alt=/images/toy-projects-second-year-review/dog.jpg width=80%></a><figcaption class=image-caption>뭔가 해야하는데&mldr; 괜히 눈치만 보이네&mldr;<br>출처 : <a href=http://egloos.zum.com/nievess/v/657827 target=_blank rel="noopener noreffer">http://egloos.zum.com/nievess/v/657827</a></figcaption></figure><p>　지난 2년 동안을 돌이켜보며 서비스를 어떻게 운영해 왔는지, 그리고 토이 프로젝트가 필자에게 어떤 영향을 주었는지 되돌아보며 셀프 리뷰를 해 보고자 한다.</p><h2 id=서비스-자체-평가>서비스 자체 평가</h2><h3 id=심플한-기능>심플한 기능</h3><p>　말 그대로 토이 프로젝트이기 때문에 기능 또한 아주 간단하다. <a href=https://github.com/sarojaba/awesome-devblog target=_blank rel="noopener noreffer">awesome-devblog</a>에서 제공하는 개인/단체 블로그들의 포스팅을 조회하여 어제 작성된 글들만 모아 발송한다. 거기에 주간 많이 클릭된 포스팅을 모아서 한 번 더 발송하는 기능까지. 추가적인 기능을 더 디벨롭 해야 하는데 아이디어가 없어서 인지 디벨롭 할 힘이 안 나서 인지 유지만 하고 있는 상태다.</p><h3 id=서비스에-없어서는-안될-로깅logging>서비스에 없어서는 안될 &lsquo;로깅(Logging)&rsquo;</h3><p>　형식을 막론하고 컴퓨터로 돌아가는 모든 &lsquo;프로그램&rsquo;은 상황에 따라 미리 만들어 놓은 로직에 따라 움직이는 로봇에 불과하다. 물론 요즘에는 머신러닝이나 AI 같은 기술들로 컴퓨터가 스스로 학습하는 경우도 있지만 그 또한 미리 코딩을 통해 만들어진 부분들. 그렇기 때문에 2년이 지난 지금 이제까지 서비스가 어떻게 돌아갔는지를 확인하기 위해서는 사전에 준비해야 할 것이 있다. 그것은 바로 &lsquo;로깅&rsquo;. 서비스 투입 전부터 프론트부터 백엔드까지 다양한 로깅을 해서인지 2년이 지난 지금, 기록된 로그로 다양한 서비스 지표를 확인해 볼 수 있음에 다행이라 생각한다.</p><h3 id=각종-지표>각종 지표</h3><p>　먼저 봐야 할 지표는 당연히 가입/해지 추이. 드라마틱 한 선형 그래프는 아니지만 당연히(?) 해지 보다 가입이 더 많고 시간이 지날수록 어느 정도 꾸준하게 가입자가 들어오는 것을 보면 어떻게 알고 가입을 하러 오는지 신기할 따름이다. 하지만 마냥 신기해하지만 말고 해지하는 원인을 분석해야 할 필요가 있어 보인다. 아마도 수집하는 블로그들 중 간혹 개발과 관련되지 않는 글들이 종종 수집되어서 그런 것 같기도 하다.</p><figure><a class=lightgallery href=/images/toy-projects-second-year-review/regist.jpg title=/images/toy-projects-second-year-review/regist.jpg data-thumbnail=/images/toy-projects-second-year-review/regist.jpg data-sub-html="<h2>가입/해지 트랜드</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/toy-projects-second-year-review/regist.jpg data-srcset="/images/toy-projects-second-year-review/regist.jpg, /images/toy-projects-second-year-review/regist.jpg 1.5x, /images/toy-projects-second-year-review/regist.jpg 2x" data-sizes=auto alt=/images/toy-projects-second-year-review/regist.jpg width=80%></a><figcaption class=image-caption>가입/해지 트랜드</figcaption></figure><p>　다음으로는 클릭수. 눈치가 빠른 분들은 이미 알고 있겠지만 이메일에서 클릭 시 서버에서 각종 로깅을 하고 넘어가게 된다. 그러다 보니 클릭 성향(?)에 대해 집계도 가능한데 아래 지표를 보면 오전 일과를 시작하면서 메일로 종합된 기술 블로그 들을 읽기 시작하고 그중에서 특히 월요일 - 10시가 가장 많은 클릭수가 집계되었다.</p><figure><a class=lightgallery href=/images/toy-projects-second-year-review/click.jpg title=/images/toy-projects-second-year-review/click.jpg data-thumbnail=/images/toy-projects-second-year-review/click.jpg data-sub-html="<h2>클릭수 트랜드 | 시간+요일 별 클릭수 트랜드 | 시간+요일 별 클릭수 히트맵</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/toy-projects-second-year-review/click.jpg data-srcset="/images/toy-projects-second-year-review/click.jpg, /images/toy-projects-second-year-review/click.jpg 1.5x, /images/toy-projects-second-year-review/click.jpg 2x" data-sizes=auto alt=/images/toy-projects-second-year-review/click.jpg width=80%></a><figcaption class=image-caption>클릭수 트랜드 | 시간+요일 별 클릭수 트랜드 | 시간+요일 별 클릭수 히트맵</figcaption></figure><p>　이 포스팅을 작성하고 있는 지금까지 약 19,000여 개의 포스팅을 수집하고 발행하였는데 그중에서 가장 인기 있었던 포스팅 TOP 30 은 다음과 같다. 아무래도 단체 블로그의 포스팅을 메일 상단에 위치하고 노란색으로 테두리를 표시해서인지 대부분의 글들이 단체 블로그의 포스팅인 것을 알 수 있다.</p><ul><li><a href=http://woowabros.github.io/techcourse/2019/12/05/techcourse-openrecruitingday.html target=_blank rel="noopener noreffer">이 회사, 이 세상 쿨함이 아니다</a></li><li><a href=http://woowabros.github.io/experience/2019/11/12/bravo-baemin.html target=_blank rel="noopener noreffer">대놓고 자랑하는 글</a></li><li><a href=https://engineering.linecorp.com/ko/blog/2020-line-sw-developer-recruit-coding-test/ target=_blank rel="noopener noreffer">LINE 신입 SW 개발자 코딩 테스트, 이렇게 만들어졌습니다</a></li><li><a href=https://woowabros.github.io/techcourse/2020/06/24/techcourse-level2-retrospection.html target=_blank rel="noopener noreffer">우테코에서 찾은 나만의 효과적인 공부법</a></li><li><a href=https://engineering.linecorp.com/ko/blog/things-i-prepared-to-be-a-line-server-developer/ target=_blank rel="noopener noreffer">LINE 서버 개발자가 되기까지 내가 준비한 것들</a></li><li><a href=http://blog.weirdx.io/post/61620 target=_blank rel="noopener noreffer">연봉을 높이는 가장 쉬운 방법은?</a></li><li><a href=http://1ilsang.blog.me/221984558663 target=_blank rel="noopener noreffer">학교에서 알려주지 않는 17가지 실무 개발 기술 리뷰</a></li><li><a href=https://woowabros.github.io/experience/2020/05/14/anomaly_alarm.html target=_blank rel="noopener noreffer">간단하게 만드는 이상한 알람</a></li><li><a href=https://woowabros.github.io/experience/2020/05/13/birth-of-team-culture.html target=_blank rel="noopener noreffer">팀 문화의 탄생</a></li><li><a href=https://engineering.linecorp.com/ko/blog/how-liners-keep-productive-while-working-at-home/ target=_blank rel="noopener noreffer">LINE에서 전 직원이 재택 근무하면서 생산성을 유지하는 방법</a></li><li><a href=https://engineering.linecorp.com/ko/blog/flutter-pros-and-cons/ target=_blank rel="noopener noreffer">Flutter, 왜 선택하지 못했나</a></li><li><a href=https://tech.peoplefund.co.kr/2020/02/18/code-rather-than-comment.html target=_blank rel="noopener noreffer">주석 달 시간에 프로그래밍을 제대로 하기</a></li><li><a href=https://woowabros.github.io/techcourse/2020/04/10/techcourse-level1.html target=_blank rel="noopener noreffer">우아한테크코스 : 새로운 시작</a></li><li><a href=http://blog.weirdx.io/post/62410 target=_blank rel="noopener noreffer">기획자는 필요없다.</a></li><li><a href=http://d2.naver.com/helloworld/2564557 target=_blank rel="noopener noreffer">간단하게 구축해 보는 JavaScript 개발 환경</a></li><li><a href=http://woowabros.github.io/woowabros/2019/09/04/techcourse-level2-retrospection.html target=_blank rel="noopener noreffer">우아한테크코스 : 나만의 항로 찾기</a></li><li><a href=https://woowabros.github.io/techcourse/2020/06/05/techcourse-javable.html target=_blank rel="noopener noreffer">코드리뷰 모음 서비스를 소개합니다.</a></li><li><a href=https://d2.naver.com/news/4699566 target=_blank rel="noopener noreffer">NAVER Tech Talk: Android 밋업(2018년 11월, 2019년 11월)</a></li><li><a href=https://d2.naver.com/helloworld/4007447 target=_blank rel="noopener noreffer">2019년과 이후 JavaScript의 동향 - JavaScript(ECMAScript)</a></li><li><a href=http://engineering.vcnc.co.kr/2020/01/introduce-tada-web-frontend/ target=_blank rel="noopener noreffer">타다 웹 프론트엔드의 모든 것</a></li><li><a href=https://tech.peoplefund.co.kr/2020/02/20/development-and-office-culture.html target=_blank rel="noopener noreffer">개발 문화, 사무실 문화</a></li><li><a href=https://taetaetae.github.io/2020/06/28/a-good-developer-in-terms-of-self-development/ target=_blank rel="noopener noreffer">그런 개발자로 괜찮은가 - <code>자기개발</code> 편</a></li><li><a href=http://woowabros.github.io/tools/2019/10/02/clean-architecture-experience.html target=_blank rel="noopener noreffer">주니어 개발자의 클린 아키텍처 맛보기</a></li><li><a href=https://woowabros.github.io/experience/2020/06/19/chat-app.html target=_blank rel="noopener noreffer">우리도 채팅있으면 좋을 것 같아요.</a></li><li><a href=https://engineering.linecorp.com/ko/blog/code-readability-vol1/ target=_blank rel="noopener noreffer">코드 가독성에 대해 – 1. 도입과 원칙</a></li><li><a href=http://woowabros.github.io/experience/2019/12/19/ruby_database.html target=_blank rel="noopener noreffer">메인 데이터베이스 IDC 탈출 성공기</a></li><li><a href=https://engineering.linecorp.com/ko/blog/code-readability-vol3/ target=_blank rel="noopener noreffer">코드 가독성에 대해 – 3. 상태와 절차</a></li><li><a href=https://taetaetae.github.io/2020/06/21/a-good-developer-in-terms-of-culture/ target=_blank rel="noopener noreffer">그런 개발자로 괜찮은가 - <code>문화</code> 편</a></li><li><a href=https://www.imaso.co.kr/archives/5297 target=_blank rel="noopener noreffer">[2019. 9. 3] 카페24 개발자 세미나</a></li><li><a href=https://jybaek.tistory.com/854 target=_blank rel="noopener noreffer">진짜 카카오 티스토리 서비스 개판이다</a></li></ul><p>그렇다면 수익은 얼마나 있었을까? 음?! 이 서비스의 수익이 있다고?? 우선 아래 차트를 보자.</p></div><div class=post-footer><a href=/2020/07/12/toy-projects-second-year-review/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/archives-2020/>Archives-2020</a></div></div></article><ul class=pagination><li class=page-item><span class=page-link><a href=/>1</a></span></li><li class=page-item><span class=page-link><a href=/page/2/>2</a></span></li><li class=page-item><span class=page-link><a href=/page/3/>3</a></span></li><li class="page-item active"><span class=page-link><a href=/page/4/>4</a></span></li><li class=page-item><span class=page-link><a href=/page/5/>5</a></span></li><li class=page-item><span class=page-link><a href=/page/6/>6</a></span></li><li class=page-item><span class=page-link aria-hidden=true>&mldr;</span></li><li class=page-item><span class=page-link><a href=/page/18/>18</a></span></li></ul></div></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.147.9">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.3.0"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2016 - 2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://taetaetae.github.io/resume target=_blank>태태태</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/typeit@8.6.0/dist/index.umd.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:500},data:{"id-1":"Software development engineer"},lightgallery:!0,typeit:{cursorChar:"|",cursorSpeed:500,data:{"id-1":["id-1"]},duration:-1,speed:100}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-86432198-1",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-86432198-1" async></script></body></html>