<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>mysql - Tag - ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„</title><link>https://taetaetae.github.io/tags/mysql/</link><description>mysql - Tag - ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sun, 21 Apr 2019 22:47:04 +0000</lastBuildDate><atom:link href="https://taetaetae.github.io/tags/mysql/" rel="self" type="application/rss+xml"/><item><title>spring-bootì—ì„œ mybatisë¡œ mysql ì—°ë™í•˜ê¸°</title><link>https://taetaetae.github.io/2019/04/21/spring-boot-mybatis-mysql-xml/</link><pubDate>Sun, 21 Apr 2019 22:47:04 +0000</pubDate><author>Author</author><guid>https://taetaetae.github.io/2019/04/21/spring-boot-mybatis-mysql-xml/</guid><description><![CDATA[<div class="featured-image">
                <img src="/images/spring-boot-mybatis-mysql-xml/logo.jpg" referrerpolicy="no-referrer">
            </div>ì‹¤ë¬´ì—ì„œ ê°œë°œì„ í•˜ë‹¤ë³´ë©´ ê³¼ê±° ëˆ„êµ°ê°€ ì˜ êµ¬ì„±í•´ ë†“ì€ ë°¥ìƒ(legacy)ì— ìˆŸê°€ë½ë§Œ ì–¹ëŠ” ëŠë‚Œìœ¼ë¡œ ë¡œì§ êµ¬í˜„ë§Œ í• ë•Œê°€ ìˆë‹¤. ê·¸ëŸ¬ë‹¤ë³´ë©´ ê°ì¢… ë ˆì´ì–´ê°€ ì–´ë–»ê²Œ êµ¬ì„±(ì„¤ì •)ë˜ì–´ìˆëŠ”ì§€ë„ ëª¨ë¥´ê³  ê°„í˜¹ ì„¤ì •ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•˜ë©´ &ldquo;ì•„ ë‚´ê°€ ì´ê²ƒë„ ëª¨ë¥´ê³  ì´ì œê¹Œì§€ ê°œë°œì„ í•´ì™”ë‚˜&rdquo; í•˜ëŠ” ìê´´ê°ì´ ë“¤ë©° ëª‡ì‹œê°„ì„ ì‚½ì§ˆí•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. ê·¸ê²Œ ì§€ê¸ˆì˜ í•„ìì¸ê²ƒ ê°™ë‹¤. (ëˆ™ë¬¼&hellip;)
ì¶œì²˜ : http://blog.naver.com/PostView.nhn?blogId=ondo_h&amp;logNo=221437452142" ì¶œì²˜ : http://blog.naver.com/PostView.nhn?blogId=ondo_h&amp;logNo=221437452142  ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ ì´ˆê¸°ì…‹íŒ…ì„ í•˜ë©° í˜¸ê¸°ë¡­ê²Œ spring boot ìµœì‹ ë²„ì „ì—ì„œ dbë¥¼ ì—°ë™í•˜ë ¤ í–ˆëŠ”ë° ë§‰ìƒ ì™„ì „ ë°”ë‹¥ë¶€í„° í•´ë³¸ ê²½í—˜ì´ ì ë‹¤ë³´ë‹ˆ (spring boot 2 ë²„ì „ì—ì„œëŠ” ë”ìš±ë”&hellip;) ì–´ë””ì„œë¶€í„° ë­˜ ì„¤ì •ì„ í•´ì•¼í• ì§€&hellip; ê·¸ë¦¬ê³  ì´ëŸ´ë•Œ ë³´ëŠ” ë„íë¨¼íŠ¸ë¥¼ ë´ë„ ì˜ ì´í•´ê°€ ì•ˆë˜ì–´ ì‚½ì§ˆì„ í•´ê°€ë©° ë‹¹í™©í•˜ê¸° ì¼ì‘¤ì˜€ë‹¤. ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì€ êµ¬ì„±ì„ í•˜ëŠ”ë° ëª©í‘œë¥¼ ë‘ê³ ì í•œë‹¤.
 Spring Boot 2 í”„ë¡œì íŠ¸ë¥¼ ì²˜ìŒ ë§Œë“¤ê³  mybatis ë¥¼ ì‚¬ìš©í•´ì„œ mysql ì„ ì—°ë™í•˜ëŠ”ê²ƒ (AWS ì˜ RDSë¥¼ ì‚¬ìš©, ì¶”í›„ RDSì‚¬ìš©ë²•ì— ëŒ€í•´ ë¸”ë¡œê¹… ì˜ˆì •)  ìœ„ì™€ ê°™ì€ ìƒí™©ì„ ì²˜ìŒ ì ‘í•˜ëŠ” ë¶„ë“¤ê»˜ ë„ì›€ì´ ë˜ì—ˆìœ¼ë©´ í•˜ëŠ” ë°”ë¨ìœ¼ë¡œ ì§§ê²Œë‚˜ë§ˆ í•„ìì˜ ì‚½ì§ˆê¸°ë¥¼ ì—¬í–‰í•´ë³´ì.
Spring boot 2 í”„ë¡œì íŠ¸ ë§Œë“¤ê¸° í•„ìëŠ” IntelliJë¥¼ ì‚¬ìš©í•˜ê³  ìˆì–´ì„œ ìƒˆë¡œ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ë ¤ê³  í• ë•Œ í´ë¦­ ëª‡ë²ˆë§Œìœ¼ë¡œ dependency ì„¤ì •ê¹Œì§€ ë‹¤ í•´ì£¼ê¸° ë•Œë¬¸ì— í¸í•˜ê³  ì¢‹ì•˜ë‹¤. í˜¹ ì´í´ë¦½ìŠ¤ë‚˜ ë‹¤ë¥¸ IDEë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ https://start.spring.io/ ì„ ì°¸ê³ í•˜ë©´ ë„ì›€ì´ ë ê²ƒê°™ë‹¤. ì—¬ê¸°ì„œë„ í´ë¦­ ëª‡ë²ˆìœ¼ë¡œ IntelliJ ì—ì„œ í•´ì£¼ëŠ” ê²ƒì²˜ëŸ¼ ë‚´ê°€ ì‚¬ìš©í•  ëª¨ë“ˆì„ ì„ íƒí•˜ê³  generate ë¥¼ ëˆ„ë¥´ë©´ í”„ë¡œì íŠ¸ê°€ ìƒì„±ë˜ì–´ ë‹¤ìš´ë¡œë“œ ë°›ì•„ì§„ë‹¤. (ì°¸ ì¢‹ì€ ì„¸ìƒ&hellip;) ìš°ì„  File â†’ New â†’ Project ë¥¼ ëˆŒëŸ¬ì„œ ì•„ë˜ ì°½ì„ ì—´ì–´ë³´ì. ê·¸ë¦¬ê³  ë­”ê°€ ë‹¤ í•´ì¤„ê²ƒ ê°™ì€ (ê°œë°œë„ í•´ì£¼ë©´ ì•ˆë˜ë‚˜&hellip;) Spring Initializrì„ ì„ íƒí›„ ì•„ë˜ì™€ ê°™ì€ ì„¤ì •ì„ ì ì–´ì¤€ ë’¤ ë‹¤ìŒì„ ëˆŒëŸ¬ì¤€ë‹¤.
 ì‚¬ìš©í•  ëª¨ë“ˆì„ ì„ íƒí•´ì£¼ì. í•„ìëŠ” ì´ê²ƒì €ê²ƒ(?)ì„ ë„ì™€ì£¼ëŠ” lombokê³¼ Mybatis, MySQLì„ ì„ íƒí•˜ê³  í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ì˜€ë‹¤. ê·¸ëŸ¬ë©´ ì´ìœ(?) pom.xml ê³¼ í•¨ê»˜ ë‹¹ì¥ ê°œë°œì„ ì‹œì‘í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì´ ì œê³µëœë‹¤.
&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;2.0.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;/dependency&gt;	&lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; &lt;/dependencies&gt;  ìš°ì„  ì—¬ê¸°ê¹Œì§€ ì˜ ë˜ì—ˆëŠ”ì œ í™•ì¸í•´ë³´ê¸° ìœ„í•´ Controller ì— í˜„ì¬ì‹œê°„ì„ ì¶œë ¥í•˜ëŠ”ê±¸ ë§Œë“¤ì–´ ë³´ê³ 
@RestController public class ApiController { @GetMapping(path = &#34;/helloWorld&#34;) public String helloWorld() { return LocalDateTime.now().format(DateTimeFormatter.ISO_LOCAL_DATE_TIME); } } í†°ì¼“ì„ ì‹¤í–‰í•´ë³´ë©´ ì •ìƒì ìœ¼ë¡œ ì ‘ì†ê³¼ ì¶œë ¥ì´ ë˜ëŠ”ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
 MySQL ì—°ë™í•˜ê¸° í•„ìê°€ í—ˆë‘¥ì§€ë‘¥ í–ˆë˜ì  ì¤‘ í•˜ë‚˜ëŠ” MyBatisì™€ MySQLì„ ë™ì‹œì— ì—°ë™í•˜ë ¤ê³  í•˜ë‹¤ë³´ë‹ˆ ë¬¸ì œê°€ ë°œìƒí•´ë„ ì–´ë””ì„œì˜ ë¬¸ì œì¸ì§€ë¥¼ ì œëŒ€ë¡œ íŒŒì•…í•˜ì§€ ëª»í•˜ê³  ì‚½ì§ˆí–ˆë‹¤ëŠ” ì ì´ë‹¤. ì—¬ê¸°ì„œ ì •í™•íˆ ì§šê³  ë„˜ì–´ê°€ë©´ ìš°ì„  ë°ì´í„°ë¥¼ ì—°ê²°í•´ì£¼ëŠ” ORMì¸ MyBatisë¥¼ ì…‹íŒ…í•´ì¤€ ë‹¤ìŒ MySQLì„ ì—°ë™í•´ì£¼ëŠ” ì‹ìœ¼ë¡œ ë¶„ë¦¬í•´ì„œ ì„¤ì •ì„ í•˜ë©´ í–‡ê°ˆë¦¬ì§€ ì•Šê³  (ëŒì•„ê°€ì§€ ì•Šê³ ) ë³´ë‹¤ ë¹ ë¥´ê²Œ ì„¤ì •ì´ ê°€ëŠ¥í• ê²ƒ ê°™ë‹¤. (ì—¬ê¸°ì„œ ìˆœì„œëŠ” ì¤‘ìš”í•˜ì§€ ì•Šê³  ë³„ë„ë¡œ ì„¤ì •í•´ì•¼ í•œë‹¤ëŠ” ê´€ì ì´ ì¤‘ìš”í•œê²ƒ ê°™ë‹¤.) ìš°ì„  src/main/resourcesí´ë”ì— ìˆëŠ” application.properties ì— ë‹¤ìŒì²˜ëŸ¼ ì‘ì„±í•´ì£¼ì.
spring.datasource.hikari.driver-class-name=com.mysql.cj.jdbc.Driver spring.datasource.hikari.jdbc-url=jdbc:mysql://{url}:{port}/{db} spring.datasource.hikari.username={id} spring.datasource.hikari.password={password} ìœ„ì˜ jdbc-url í•­ëª©ì—ì„œ AWSì—ì„œ ì œê³µí•˜ëŠ” RDSë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° RDSì—ì„œ ì œê³µí•´ì£¼ëŠ” ì—”ë“œí¬ì¸íŠ¸ì™€ í¬íŠ¸ë¥¼ ì ì–´ì£¼ë©´ ëœë‹¤. (ì¶”í›„ AWS - RDSì— ëŒ€í•´ ë¸”ë¡œê¹… ì˜ˆì •ì´ë‹¤.) Spring Boot 2.0 ì´í›„ë¶€í„° ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì»¤ë„¥ì…˜ í’€ì´ HikariCPë¡œ ë³€ê²½ë˜ì—ˆë‹¤ê³  í•œë‹¤. (ë§í¬) ì»¤ë„¥ì…˜ í’€ ì¢…ë¥˜ì¤‘ ì„±ëŠ¥ì´ ì¢‹ë‹¤ê³  í•˜ëŠ”ë° ë§í¬ë¥¼ ê°€ë³´ë©´ ë‹¤ë¥¸ ì»¤ë„¥ì…˜ í’€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ì„±ëŠ¥ì„ ë¹„êµí•œ ë²¤ì¹˜ë§ˆí¬ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ìœ„ì²˜ëŸ¼ spring.datasource.hikari ê°€ prefixë¡œ ë¶™ê³  ê°ì¢… ì •ë³´ë“¤ì„ ì ì–´ì£¼ì–´ config ì—ì„œ ì¸ì‹ë ìˆ˜ ìˆë„ë¡ í•´ì£¼ì. ê·¸ ë‹¤ìŒ DataSource ì„¤ì •ì„ í•´ì¤€ë‹¤.
@Slf4j @Configuration @PropertySource(&#34;classpath:/application.properties&#34;) public class DatabaseConfiguration { @Bean @ConfigurationProperties(prefix = &#34;spring.datasource.hikari&#34;) public HikariConfig hikariConfig() { return new HikariConfig(); } @Bean public DataSource dataSource() { DataSource dataSource = new HikariDataSource(hikariConfig()); log.info(&#34;datasource : {}&#34;, dataSource); return dataSource; } } ìœ„ ë‚´ìš©ì€ DataSource ë¥¼ hikariConfigì—ì„œ ì„¤ì •í•œ ì •ë³´ë¡œ ë§Œë“¤ì–´ ì¤€ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. ì´ë ‡ê²Œë§Œ í•˜ê³  í”„ë¡œì íŠ¸ë¥¼ ë‹¤ì‹œ ì‹¤í–‰ì‹œì¼œë³´ë©´ logger ì— ì˜í•´ datasource ì˜ ì •ë³´ë¥¼ ë³¼ìˆ˜ê°€ ìˆë‹¤.
2019-04-22 00:27:35.048 INFO 23040 --- [ main] com.]]></description></item></channel></rss>