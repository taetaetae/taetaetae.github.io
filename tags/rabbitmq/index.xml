<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>rabbitMQ - Tag - ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„</title><link>https://taetaetae.github.io/tags/rabbitmq/</link><description>rabbitMQ - Tag - ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Wed, 02 Jan 2019 12:43:44 +0000</lastBuildDate><atom:link href="https://taetaetae.github.io/tags/rabbitmq/" rel="self" type="application/rss+xml"/><item><title>ì²œë§Œ ëª…ì˜ ì‚¬ìš©ìì—ê²Œ 1ë¶„ ë‚´ë¡œ ì•Œë¦¼ ë³´ë‚´ê¸° (ë³‘ë ¬í”„ë¡œì„¸ìŠ¤ì˜ ìµœì í™”)</title><link>https://taetaetae.github.io/2019/01/02/faster-parallel-processes/</link><pubDate>Wed, 02 Jan 2019 12:43:44 +0000</pubDate><author>Author</author><guid>https://taetaetae.github.io/2019/01/02/faster-parallel-processes/</guid><description><![CDATA[<div class="featured-image">
                <img src="/images/faster-parallel-processes/bg.jpg" referrerpolicy="no-referrer">
            </div>ë§Œì•½ 1ë²ˆë¶€í„° 10ë²ˆê¹Œì§€ ë²ˆí˜¸í‘œê°€ ìˆëŠ” ì‚¬ëŒë“¤ ì´ ì—´ëª…ì—ê²Œ í˜¼ìì„œ ë™ì¼í•œ ë‚´ìš©ì˜ ë©”ì¼ì„ ë³´ë‚¸ë‹¤ê³  ê°€ì •í•´ë³´ì. ê·¸ë¦¬ê³  ë©”ì¼ ë°œì†¡ì‹œ í•œë²ˆì— í•œëª…ì—ê²Œë§Œ ë³´ë‚´ì•¼ í•˜ëŠ” ì œí•œì‚¬í•­ì´ ìˆì„ë•Œ ê³¼ì—° ë‹¹ì‹ ì€ ì–´ë–¤ì‹ìœ¼ë¡œ ë³´ë‚´ê² ëŠ”ê°€? ì´ì–´ì„œ ì½ì§€ë§ê³  í•œë²ˆ ìƒê°í•´ë³´ì.ì•„ë¬´ê²ƒë„ ê³ ë ¤í•˜ì§€ ì•Šê³  ë‹¨ìˆœí•˜ê²Œ ìƒê°í•œë‹¤ë©´ 1ë²ˆ ë³´ë‚´ê³  &gt; 2ë²ˆ ë³´ë‚´ê³  &hellip; 9ë²ˆ ë³´ë‚´ê³  &gt; 10ë²ˆ ë³´ë‚´ëŠ” ë°©ë²•ì´ ë¨¼ì € ë– ì˜¤ë¥´ê²Œ ëœë‹¤. (for loop 1 to 10 &hellip; ) í•˜ì§€ë§Œ ë³´ë‚´ì•¼ í•  ì‚¬ëŒë“¤ì´ ë§ì•„ì ¸ì„œ ë°±ëª…, ì²œëª… ë§ê²ŒëŠ” ì²œë§Œëª…ì—ê²Œ ë³´ë‚´ì•¼ í•  ê²½ìš° ë°©ê¸ˆê³¼ ê°™ì€ ìˆœì°¨ì ì¸ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ ë„ˆë¬´ ëŠ¦ê²Œ ë°œì†¡ëœë‹¤ëŠ”ê±´ ì½”ë“œë¥¼ ì‘ì„±í•˜ì§€ ì•Šì•„ë„ ì•Œ ìˆ˜ìˆëŠ” ë¬¸ì œ&hellip; ê·¸ë ‡ë‹¤ë©´ ì–´ë–¤ ë°©ë²•ìœ¼ë¡œ ë³´ë‚´ì•¼ ë³´ë‹¤ ë¹¨ë¦¬ ë³´ë‚¼ìˆ˜ ìˆì„ê¹Œ? ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” í•„ìê°€ ìš´ì˜í•˜ê³  ìˆëŠ” ì„œë¹„ìŠ¤ì—ì„œ ê¸°ì¡´ì— ìˆë˜ ë³‘ë ¬í”„ë¡œì„¸ìŠ¤ë¥¼ ì–´ë–¤ì‹ìœ¼ë¡œ ìµœì í™” í–ˆëŠ”ì§€, ê·¸ë˜ì„œ ê²°êµ­ ì–¼ë§ˆë‚˜ ë¹¨ë¼ì¡ŒëŠ”ì§€ì— ëŒ€í•œ ê³¼ì •ì„ ì •ë¦¬í•´ ë³´ê³ ì í•œë‹¤. ë¹„ë‹¨ ë©”ì¼ ë°œì†¡ì´ë‚˜ ì•± í‘¸ì‹œ ë“± íŠ¹ì • ë„ë©”ì¸ì— êµ­í•œë˜ì§€ëŠ” ì•Šê³  ì „ë°˜ì ì¸ í”„ë¡œì„¸ìŠ¤ì— ëŒ€í•´ ì´í•´ë¥¼ í•œë‹¤ë©´ ë‹¤ë¥¸ ê³³ì—ì„œë„ ë¹„ìŠ·í•œ ë°©ë²•ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆì„êº¼ë¼ ê¸°ëŒ€ í•´ë³¸ë‹¤.
 ìƒí™©íŒŒì•… ë° ëª©í‘œ (ì›í• í•œ ì´í•´ë¥¼ ë•ê¸° ìœ„í•˜ì—¬) ë¨¼ì € í•„ìê°€ ìš´ì˜í•˜ê³ ìˆëŠ” ì„œë¹„ìŠ¤ë¥¼ ê°„ëµíˆ ì†Œê°œë¶€í„° í•´ì•¼ê² ë‹¤. (ê·¸ë ‡ë‹¤ê³  í•„ì í˜¼ì ë‹¤ í•˜ëŠ”ê±´ ì•„ë‹˜^^;&hellip;) ì…€ëŸ½ì˜ ë°©ì†¡ì´ ì‹œì‘ë˜ë©´ êµ¬ë…í•œ ì‚¬ìš©ìì—ê²Œ ê° ëª¨ë°”ì¼ ê¸°ê¸°ì— ì„¤ì¹˜ë˜ì–´ìˆëŠ” ì•±ìœ¼ë¡œ ì•Œë¦¼ì„ ë³´ë‚´ì–´ ì˜ˆì •ì— ì—†ë˜ ê¹œì§ ë¼ì´ë¸Œ ë°©ì†¡ì´ë‚˜ VOD ì˜ìƒ ì˜¤í”ˆì„ ë³´ë‹¤ ë¹ ë¥´ê²Œ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ì œê³µí•˜ê³  ìˆë‹¤. ì—¬ê¸°ì„œ, ì•Œë¦¼ì´ ëŠ¦ê²Œ ë°œì†¡ë˜ë©´ ì…€ëŸ½ì€ ë°©ì†¡ì„ ì‹œì‘í•˜ê³  íŒ¬ë“¤ì´ ë“¤ì–´ì˜¤ê¸°ê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤ê±°ë‚˜ ë°˜ëŒ€ë¡œ íŒ¬ë“¤ì€ ë°©ì†¡ ì‹œì‘í•˜ê³  ë’¤ëŠ¦ê²Œ ë°©ì†¡ì„ ë³´ê²Œë˜ëŠ” ë¶ˆí¸í•¨ì´ ìƒê¸°ê²Œ ëœë‹¤. ê·¸ë¦¬ê³  ì¤‘ë³µìœ¼ë¡œ ì•Œë¦¼ì´ ë°œì†¡ë˜ê±°ë‚˜ íŠ¹ì • ì‚¬ìš©ìë“¤ì—ê²Œ ë°œì†¡ì´ ëˆ„ë½ë˜ë©´ ì•ˆ ë˜ëŠ” ë“± &ldquo;ì•Œë¦¼&rdquo; ì´ë€ ê¸°ëŠ¥ì€ ì„œë¹„ìŠ¤ì— ìˆì–´ì„œ ì¤‘ìš”í•œ ê¸°ëŠ¥ ì¤‘ì— í•˜ë‚˜ë¼ê³  í• ìˆ˜ ìˆë‹¤.
 ì—¬ê¸°ì„œ &ldquo;ë°œì†¡ ì‹œê°„&quot;ì€ ì²˜ìŒ ë°œì†¡ì‘ì—… ì‹œì‘ë¶€í„° ë§ˆì§€ë§‰ ì‚¬ìš©ìì— ëŒ€í•´ ì‚¬ë‚´ ë°œì†¡ í”Œë«í¼ìœ¼ë¡œ ë°œì†¡ ìš”ì²­ì„ í•˜ê¸°ê¹Œì§€ì˜ ì‹œê°„ì„ ì˜ë¯¸
 ê·¸ë¦¬ê³  &ldquo;ì±„ë„&rdquo; ì´ë¼ëŠ” ìƒëŸ½ë‹¨ìœ„ì˜ ê·¸ë£¹ì´ ìˆëŠ”ë° ì˜ìƒê³¼ ì±„ë„ì˜ ê´€ê³„ëŠ” 1:Nì´ë‹¤. ì¦‰, í•˜ë‚˜ì˜ ì˜ìƒì„ ì—¬ëŸ¬ ì±„ë„ì— ì—°ê²°ì‹œí‚¬ìˆ˜ ìˆì–´ì„œ í•˜ë‚˜ì˜ ì˜ìƒì— ëŒ€í•´ ì—¬ëŸ¬ ì±„ë„ë“¤ì—ê²Œ ì—°ê²°ì„ ì‹œì¼œë†“ìœ¼ë©´ ì±„ë„ì„ êµ¬ë…í•˜ê³ ìˆëŠ” ê°ê°ì˜ ì‚¬ìš©ìì—ê²Œ ëª¨ë‘ ì•Œë¦¼ì„ ë°œì†¡ í• ìˆ˜ê°€ ìˆê²Œ ëœë‹¤.
ìš°ì„ , ì•ŒëŒì´ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬ë˜ê¸°ê¹Œì§€ì˜ í° íë¦„ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
ì•Œë¦¼ í”„ë¡œì„¸ìŠ¤" ì•Œë¦¼ í”„ë¡œì„¸ìŠ¤   ì„œë¹„ìŠ¤ì—ì„œ ë³´ë‚¼ ëŒ€ìƒê³¼ ë³´ë‚¼ ì •ë³´ë¥¼ ì¡°í•©í•˜ì—¬ ì‚¬ë‚´ í‘¸ì‹œ ë°œì†¡ í”Œë«í¼ì¸ ì‚¬ë‚´ ë°œì†¡ í”Œë«í¼ì—ê²Œ ì „ë‹¬ì„ í•˜ë©´ í”Œë«í¼ì— ë”°ë¼ ë°œì†¡ì´ ë˜ê³  ìµœì¢…ì ìœ¼ë¡œëŠ” ì‚¬ìš©ìì˜ ëª¨ë°”ì¼ ê¸°ê¸°ì— ë…¸ì¶œì´ ë¨  ê°„ë‹¨í•˜ê²Œ &ldquo;ë³‘ë ¬ë¡œ ë°œì†¡í•˜ë©´ ë˜ì§€ ì•Šì„ê¹Œ?&ldquo;ë¼ëŠ” í•„ìì˜ ìƒê°ì´ ë¶€ë„ëŸ¬ì›Œì§ˆ ì •ë„ë¡œ ì´ë¯¸ redis, rabbitMQ ë¥¼ í™œìš©í•´ì„œ ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ ë³‘ë ¬ í”„ë¡œì„¸ìŠ¤ë¡œ êµ¬ì„±ë˜ì–´ ìˆì—ˆë‹¤.
ê¸°ì¡´ êµ¬ì¡°" ê¸°ì¡´ êµ¬ì¡°   ë¼ì´ë¸Œê°€ ì‹œì‘ë˜ê±°ë‚˜ VODê°€ ì˜¤í”ˆë  ê²½ìš° apiê°€ í˜¸ì¶œì´ ë˜ê³  ë‹¤ì‹œ ë°°ì¹˜ ì„œë²„ì—ê²Œ ì˜ìƒì˜ ê³ ìœ ë²ˆí˜¸ë¥¼ ì „ë‹¬ ì „ë‹¬ë°›ì€ ì˜ìƒì˜ ê³ ìœ ë²ˆí˜¸ë¥¼ rabbitMQì˜ ìˆ˜ì‹ ì ì¡°íšŒ Queueì— produce ìˆ˜ì‹ ì ì¡°íšŒ Queueì˜ consumerì¸ ìˆ˜ì‹ ì ì¡°íšŒ ëª¨ë“ˆì—ì„œ ì˜ìƒì˜ ê³ ìœ ë²ˆí˜¸ë¥¼ consume í›„ ì•„ë˜ ì‘ì—…ì„ ì§„í–‰ 3-1. ì˜ìƒ:ì±„ë„ ì€ 1:N êµ¬ì¡°ì´ê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ ì±„ë„ì˜ ì‚¬ìš©ìë“¤ì—ê²Œ ì•Œë¦¼ì„ ë°œì†¡í•  ìˆ˜ ìˆê³ , ì˜ìƒì— ì—°ê²°ëœ ì±„ë„ë“¤ì˜ userë¥¼ dbì—ì„œ ê°€ì ¸ì˜¨ë‹¤. 3-2. ê°€ì ¸ì˜¨ userë¥¼ (ì¤‘ë³µìœ¼ë¡œ ì•Œë¦¼ì´ ë°œì†¡ë˜ì§€ ì•Šê¸° ìœ„í•´) java setì— ë‹´ê³  ëª¨ë“  ì±„ë„ì„ ì¡°íšŒí–ˆë‹¤ë©´ redisì— sorted setìœ¼ë¡œ ë‹´ëŠ”ë‹¤. 3-3. ì ë‹¹í•œ í¬ê¸°ë¡œ ë¶„í• í•˜ê³  ì´ ë¶„í• ì •ë³´ë¥¼ ë°œì†¡ Queueì— produce ë°œì†¡ ëª¨ë“ˆì—ì„œ ë¶„í•  ì •ë³´ë¥¼ consume í•˜ê³  ì•„ë˜ ì‘ì—…ì„ ì§„í–‰ (ë³‘ë ¬ì²˜ë¦¬) 4-1. redis ì—ì„œ user ëª¨ìŒì„ ê°€ì ¸ì˜¤ê³  4-2. ì¡°íšŒí•œ userì— í•´ë‹¹í•˜ëŠ” deviceIdë¥¼ dbì—ì„œ ê°€ì ¸ì˜´ deviceIdì™€ ì»¨í…ì¸  ì •ë³´ë¥¼ í™œìš©í•˜ì—¬ ì ì ˆí•œ payloadë¥¼ êµ¬ì„± í›„ ì‚¬ë‚´ ë°œì†¡ í”Œë«í¼ ì—ê²Œ ì „ë‹¬  ê¸°ì¡´ êµ¬ì¡°ì—ì„œ ë°œì†¡ ì‹œê°„ì€ ì„œë¹„ìŠ¤ì—ì„œ êµ¬ë…ì ìˆ˜ê°€ ê°€ì¥ ë§ì€ ì±„ë„ ê¸°ì¤€ìœ¼ë¡œ ì•½ 1.1ì²œë§Œ ëª…ì—ê²Œ ìµœì¢… 11ë¶„ ì •ë„ ì†Œìš”ë˜ê³  ìˆì—ˆë‹¤. (ë§¨ ì²˜ìŒì— ì´ì•¼ê¸° í•œ ìˆœì°¨ì ì¸ ë°©ë²•ì´ì˜€ë‹¤ë©´&hellip; í›¨ì”¬ë” ì˜¤ë˜ ê±¸ë ¸ì„êº¼ë¼ ì˜ˆìƒí•´ë³¸ë‹¤&hellip;)
ê¸°ì¡´ì— êµ¬ì„±í•˜ì…¨ë˜ ë¶„ë“¤ë„ ìˆ˜ë§ì€ ì‹œí–‰ì°©ì˜¤ì™€ ê³ ë¯¼ì„ í•˜ì‹œë©° êµ¬ì„±í•˜ì…¨ì„ í…ë° ë” ì´ìƒ ì–´ë–»ê²Œ ë” ë¹ ë¥´ê²Œ ë³´ë‚¼ ìˆ˜ ìˆì„ê¹Œ í•˜ëŠ” ë¶€ë‹´ê°ê³¼ ìì¹« ì•Œë¦¼ì´ ì˜ëª» ë°œì†¡ë˜ê¸°ë¼ë„ í•œë‹¤ë©´(ì¥ì• ê°€ ë°œìƒí•œë‹¤ë©´) ê·¸ ìˆ˜ë§ì€ ì‚¬ìš©ìë“¤ì˜ ë¶ˆë§Œ í™”ì‚´ ê³¼ë…ì´ í•„ìê°€ ë˜ì–´ì•¼ í•œë‹¤ëŠ” ì••ë°•ê°ì´ ê°œì„  ì‹œì‘ ì „ë¶€í„° ë¨¸ë¦¿ì†ì„ íœ˜ê°ê³  ìˆì—ˆë˜ ì°°ë‚˜ì—]]></description></item></channel></rss>