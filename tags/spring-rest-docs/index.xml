<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>spring rest docs - Tag - ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„</title><link>https://taetaetae.github.io/tags/spring-rest-docs/</link><description>spring rest docs - Tag - ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sun, 08 Mar 2020 23:16:59 +0000</lastBuildDate><atom:link href="https://taetaetae.github.io/tags/spring-rest-docs/" rel="self" type="application/rss+xml"/><item><title>SpringRestDocsë¥¼ SpringBootì— ì ìš©í•˜ê¸°</title><link>https://taetaetae.github.io/2020/03/08/spring-rest-docs-in-spring-boot/</link><pubDate>Sun, 08 Mar 2020 23:16:59 +0000</pubDate><author>Author</author><guid>https://taetaetae.github.io/2020/03/08/spring-rest-docs-in-spring-boot/</guid><description><![CDATA[<div class="featured-image">
                <img src="/images/spring-rest-docs-in-spring-boot/logo.jpg" referrerpolicy="no-referrer">
            </div>APIë¥¼ ê°œë°œí•˜ê³  ì œê³µí•˜ê¸° ìœ„í•´ì„œëŠ” ê·¸ì— í•´ë‹¹í•˜ëŠ” API ëª…ì„¸ë¥¼ ì‘ì„±í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê³³ì— ì „ë‹¬í•˜ê²Œ ëœë‹¤. ì–´ë–¤ URLì— ì–´ë–¤ íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•´ì„œ ì–´ë–»ê²Œ ìš”ì²­ì„ í•˜ë©´ ì–´ë–¤ ê²°ê³¼ë¥¼ ì‘ë‹µìœ¼ë¡œ ë‚´ë ¤ì£¼ëŠ”ì§€ì— ëŒ€í•œ ê´€ë ¨ ì •ë³´ë“¤. ì´ëŸ¬í•œ &ldquo;API ë¬¸ì„œ&rdquo; ë¥¼ ì œê³µí•˜ëŠ” ë°©ì‹ì€ ìƒí™©ì— ë”°ë¼ ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©ë˜ê³¤ í•œë‹¤. API ì½”ë“œì™€ í•´ë‹¹ ë¬¸ì„œì˜ ë™ê¸°í™”ê°€ ìë™ìœ¼ë¡œ ë˜ì–´ì•¼ ì¡°ê¸ˆ í¸í•´ì§ˆê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤. ì¶œì²˜ : https://dribbble.com/shots/3386291-API-Documentation" API ì½”ë“œì™€ í•´ë‹¹ ë¬¸ì„œì˜ ë™ê¸°í™”ê°€ ìë™ìœ¼ë¡œ ë˜ì–´ì•¼ ì¡°ê¸ˆ í¸í•´ì§ˆê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤. ì¶œì²˜ : https://dribbble.com/shots/3386291-API-Documentation  í•„ìëŠ” ì£¼ë¡œ &ldquo;ìœ„í‚¤&rdquo;(ë˜ëŠ” ì¼ë°˜ ë¬¸ì„œ)ë¥¼ í™œìš©í•´ì„œ ì „ë‹¬í•˜ê³¤ í–ˆì—ˆëŠ”ë° APIì˜ í˜•íƒœê°€ ë‹¬ë¼ì§ˆ ë•Œë§ˆë‹¤ í•´ë‹¹ ìœ„í‚¤ë¥¼ ìˆ˜ì •í•´ì•¼ë§Œ í•˜ëŠ” ë²ˆê±°ë¡œì›€ì´ ìˆì—ˆë‹¤. API ìˆ˜ì •í•˜ë©´ ìœ„í‚¤ë„ ìˆ˜ì •í•˜ê³ . ê¹œë°•í•˜ê³  ìœ„í‚¤ ìˆ˜ì •ì„ ì•ˆí•˜ê²Œ ë  ê²½ìš° ì™œ API ëª…ì„¸ê°€ ë‹¤ë¥´ëƒëŠ” ë¬¸ì˜ê°€&hellip; ê·¸ëŸ¬ë‹¤ ì•Œê²Œëœ Spring Rest Docs. (ì•„ë¬´ë¦¬ ì¢‹ì€ ê¸°ìˆ , ì¢‹ì€ íˆ´ ì´ë¼ í•´ë„ ì‹¤ì œë¡œ ë³¸ì¸ì´ í•„ìš”ë¡œ í•˜ê³  ì‚¬ìš©ì„ í•´ì•¼í•˜ëŠ” ì´ìœ ê°€ ìƒê¸¸ë•Œ ë¹„ë¡œì†Œ ë¹›ì„ ë°œí•˜ëŠ”ê²ƒ ê°™ì€ ëŠë‚Œì´ë‹¤.)
 ì´ í¬ìŠ¤íŒ…ì—ì„œëŠ” swegger ì™€ ë¹„êµí•˜ëŠ” ë‚´ìš©ì€ ì œì™¸í• ê¹Œ í•œë‹¤. ì›Œë‚™ ìœ ëª…í•œ ë‘ ì–‘ëŒ€ ì‚°ë§¥(?)ì´ë¼ ê²€ìƒ‰í•´ë³´ë©´ ê°ê°ì˜ ì¥ë‹¨ì ì´ ìì„¸íˆ ë‚˜ì™€ìˆê¸°ì—&hellip;
 ìµœê·¼ ë“¤ì–´ TestCode ì˜ ì¤‘ìš”ì„±ì„ ì ˆì‹¤í•˜ê²Œ ëŠë¼ê³  ìˆì—ˆê³ , TestCode ë¥¼ ì‘ì„±í•˜ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ë¬¸ì„œë¥¼ ë§Œë“¤ì–´ ì£¼ëŠ” ë¶€ë¶„ì´ ê°€ì¥ ë§¤ë ¥ì ì´ë¼ê³  ìƒê°ì´ ë“¤ì—ˆë‹¤. ì´ë¥¼ ë°˜ëŒ€ë¡œ ìƒê°í•˜ë©´, TestCode ê°€ ì‹¤íŒ¨í•  ê²½ìš° ë¹Œë“œ ìì²´ê°€ ì•ˆë˜ê¸°ì— ì–´ì©”ìˆ˜ ì—†ì´ TestCodeë¥¼ ì„±ê³µì‹œì¼œì•¼ë§Œ í•˜ê³ , ìì—°ìŠ¤ëŸ½ê²Œ ì •ìƒì ì¸(ìµœì‹ í™” ëœ) API ë¬¸ì„œê°€ ë§Œë“¤ì–´ì§€ê²Œ ëœë‹¤.
ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ëª©í‘œë¥¼ ë‘ê³  ì‹¤ë¬´ì—ì„œ ì–¸ì œë“ ì§€ í™œìš©ì´ ê°€ëŠ¥í•œ ì•½ê°„ì˜ &ldquo;ê°€ì´ë“œ&rdquo; ê°™ì€ ë‚´ìš©ìœ¼ë¡œ ì‘ì„±í•´ ë³´ê³ ì í•œë‹¤.
 Spring Boot ìµœì‹  ë²„ì „ì—ì„œ Spring Rest Docs ë¥¼ ì„¤ì •í•œë‹¤. ì„ì˜ì˜ API ë¥¼ ë§Œë“¤ê³  ê·¸ì— ë”°ë¥¸ TestCase ë¥¼ ì‘ì„±í•œë‹¤. Spring.profile ì— ë”°ë¼ Spring Rest Docs Url ì„ ì ‘ê·¼ ê°€ëŠ¥/ë¶ˆê°€ëŠ¥ í•  ìˆ˜ ìˆê²Œ í•œë‹¤.  ë¬¼ë¡  í•„ìì˜ ë°©ë²•ì´ ë‹¤ë¥¼ìˆ˜ë„ ìˆì§€ë§Œ, ì´ëŸ¬í•œ ë°©ë²•ì„ í† ëŒ€ë¡œ ë³´ë‹¤ ë” ìš°ì•„í•˜ê³  ì•„ë¦„ë‹¤ìš´ ë°©ë²•ì„ ì•Œì•„ê°ˆìˆ˜ ìˆì§€ ì•Šì„ê¹Œ í•˜ëŠ” ê¸°ëŒ€ë¡œ.
Spring Boot ì— Spring Rest Docs ì…‹íŒ…í•˜ê³  TestCase ì‘ì„±í•˜ê¸° ìš°ì„  Spring Boot í”„ë¡œì íŠ¸ë¥¼ ë§Œë“ ë‹¤. https://start.spring.io/ ì—ì„œ ë§Œë“¤ì–´ë„ ë˜ê³  IDE ì—ì„œ ì œê³µí•˜ëŠ” íˆ´ë¡œ ë§Œë“¤ì–´ë„ ë˜ê³ . ë§Œë“œëŠ” ë°©ì‹ì€ ë¬´ë°©í•˜ë‹¤. ê·¸ ë‹¤ìŒ í•„ìš”í•œ dependency ë¥¼ ì¶”ê°€í•´ ì¤€ë‹¤.
&lt;dependency&gt; &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt; &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; ì„ì˜ë¡œ APIë¥¼ ì‘ì„±í•˜ê³ 
 ëª¨ë¸  @Getter @Setter public class Book { private Integer id; private String title; private String author; }  ì»¨íŠ¸ë¡¤ëŸ¬  @RestController public class BookController { @GetMapping(&#34;/book/{id}&#34;) public Book getABook(@PathVariable Integer id) { Book book = new Book(); book.setId(id); book.setTitle(&#34;spring rest docs in spring boot&#34;); book.setAuthor(&#34;taetaetae&#34;); return book; } } í•´ë‹¹ ì»¨íŠ¸ë¡¤ëŸ¬ì— ëŒ€í•œ TestCase ë¥¼ ì‘ì„±í•˜ì.
@WebMvcTest(BookController.class) @AutoConfigureRestDocs // (1) public class BookControllerTest { @Autowired private MockMvc mockMvc; // (2)  @Test public void test_ì±…ì„_ì¡°íšŒí•˜ë©´_nullì´_ì•„ë‹Œ_ê°ì²´ë¥¼_ë¦¬í„´í•œë‹¤() throws Exception { mockMvc.perform(get(&#34;/book/{id}&#34;, 1) .accept(MediaType.APPLICATION_JSON)) .andDo(MockMvcResultHandlers.print()) .andExpect(MockMvcResultMatchers.status().isOk()) .andDo(document(&#34;book&#34;, // (3) 	pathParameters( parameterWithName(&#34;id&#34;).description(&#34;book unique id&#34;) // (4) 	), responseFields( fieldWithPath(&#34;id&#34;).description(&#34;book unique id&#34;), fieldWithPath(&#34;title&#34;).description(&#34;title&#34;), fieldWithPath(&#34;author&#34;).description(&#34;author&#34;) ) )) .andExpect(jsonPath(&#34;$.id&#34;, is(notNullValue()))) // (5) 	.andExpect(jsonPath(&#34;$.title&#34;, is(notNullValue()))) .andExpect(jsonPath(&#34;$.author&#34;, is(notNullValue()))); } } (1) Spring Boot ì—ì„œëŠ” í•´ë‹¹ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì—¬ëŸ¬ì¤„ì— ê±¸ì³ ì„¤ì •í•´ì•¼ í•  Spring Rest Docs ê´€ë ¨ ì„¤ì •ì„ ì•„ì£¼ ê°„ë‹¨í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆê²Œ ëœë‹¤. (ì°¸ê³ )
(2) ê³µì‹ ë„íë¨¼íŠ¸ ì—ì„œëŠ” 4ê°€ì§€ ë°©ì‹ì„ ë§í•˜ê³  ìˆëŠ”ë° ì´ í¬ìŠ¤íŒ… ì—ì„œëŠ” &ldquo;MockMvc&rdquo; ì„ ì‚¬ìš©í•˜ê³ ì í•œë‹¤.
(3) &ldquo;book&rdquo; ì´ë¼ëŠ” identifier ë¥¼ ì§€ì •í•˜ë©´ í•´ë‹¹ TestCase ê°€ ìˆ˜í–‰ë ë•Œ snippets ê°€ ìƒì„±ë˜ëŠ”ë° í•´ë‹¹ identifier ë¬¶ìŒìœ¼ë¡œ ìƒì„±ì´ ëœë‹¤.
(4) requestì˜ íŒŒë¼ë¯¸í„° í•„ë“œ, responseì˜ í•„ë“œì˜ ì„¤ëª…ì„ ì ì–´ì¤Œìœ¼ë¡œì¨ ì´ ì •ë³´ë¥¼ ê°€ì§€ê³  snippets ê°€ ìƒì„±ì´ ë˜ê³  ê²°ê³¼ì ìœ¼ë¡œ API ë¬¸ì„œê°€ ë§Œë“¤ì–´ ì§„ë‹¤.
(5) í•„ìê°€ ê°€ì¥ ë§¤ë ¥ì ì´ë¼ ìƒê°ë˜ëŠ” ë¶€ë¶„. ì´ ë¶€ë¶„ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ë™ì‹œì— í•¨ìœ¼ë¡œì¨ ì‘ë‹µì´ ë‹¬ë¼ì§€ê±°ë‚˜ ì˜ëª»ëœ ì‘ë‹µì´ ë‚´ë ¤ì˜¬ ê²½ìš° TestCaseê°€ ì‹¤íŒ¨í•˜ê²Œ ë˜ì–´ APIë¬¸ì„œ ë˜í•œ ìƒì„±ë˜ì§€ ì•Šê²Œ ëœë‹¤.]]></description></item></channel></rss>