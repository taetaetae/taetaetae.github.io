<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>apache - Tag - ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„</title><link>https://taetaetae.github.io/tags/apache/</link><description>apache - Tag - ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sun, 04 Aug 2019 19:50:43 +0000</lastBuildDate><atom:link href="https://taetaetae.github.io/tags/apache/" rel="self" type="application/rss+xml"/><item><title>ì•„íŒŒì¹˜ ë¡œë“œë°¸ëŸ°ì‹±ìœ¼ë¡œ ì—¬ëŸ¬ WAS ìš´ì˜í•˜ê¸°</title><link>https://taetaetae.github.io/2019/08/04/apache-load-balancing/</link><pubDate>Sun, 04 Aug 2019 19:50:43 +0000</pubDate><author>Author</author><guid>https://taetaetae.github.io/2019/08/04/apache-load-balancing/</guid><description><![CDATA[<div class="featured-image">
                <img src="/images/apache-load-balancing/lb_logo.jpg" referrerpolicy="no-referrer">
            </div>ì›¹ì„œë²„ í•˜ë‚˜ë§Œ ì‚¬ìš©í•˜ê±°ë‚˜ WAS í•˜ë‚˜ë§Œì„ ì‚¬ìš©í•˜ë©° ì›¹ì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•˜ëŠ” ê²½ìš°ëŠ” ê·¹íˆ ë“œë¬¼ë‹¤. ì›¹ì„œë²„ì˜ ì¥ì ê³¼ WASì˜ ì¥ì  ê·¸ ë‘ë§ˆë¦¬ì˜ í† ë¼ë¥¼ ë‹¤ ì¡ê¸° ìœ„í•´ ë³´í†µ ì•ë‹¨ì— ì›¹ì„œë²„ë¥¼ ë‘ê³  ê·¸ ë’¤ì— WASë¥¼ ë‘ë©° ì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•˜ê³¤ í•œë‹¤. í—Œë° ìš´ì˜í•˜ëŠ” ì„œë¹„ìŠ¤ê°€ ì¸ê¸°ê°€ ë§ì•„ì ¸(?) ì‚¬ìš©ëŸ‰ì´ ë§ì•„ì§€ë‹¤ë©´ ê·¸ë§Œí¼ ì‘ë‹µì´ ëŠë ¤ (TPS ë“±) ì„œë²„ë¥¼ ëŠ˜ë ¤ì•¼ í•˜ëŠ” ìƒí™©ì´ ìƒê¸´ë‹¤ê³  ê°€ì •í•´ë³´ì.(ë¬¼ë¡  ì„œë²„ë¥¼ ëŠ˜ë¦¬ëŠ” ê²ƒë³´ë‹¤ ìºì‹œë¥¼ ì ìš©í•˜ê±°ë‚˜ ë¡œì§ì„ ë°”ê¿”ë³´ëŠ” ë…¸ë ¥ì´ ì„ í–‰ë˜ì•¼ í•˜ê² ì§€ë§Œ&hellip;) ë‹¹ì—°íˆ ì„œë²„ë¶€í„° êµ¬ë§¤í•˜ë©° &ldquo;Scale Out&quot;ì„ í•˜ë ¤ê³  í• ê²ƒì´ë‹¤. ë§Œì•½ ì›ë˜ ìš´ì˜í•˜ë˜ ì„œë²„ê°€ ë„ˆë¬´ ì¢‹ì•„ì„œ CPUë‚˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ ì´ ê±°ì˜ ë°”ë‹¥ì´ì—¬ë„ ì„œë²„ë¥¼ êµ¬ë§¤í•´ì•¼ í• ê¹Œ? ì„œë²„ë¥¼ êµ¬ë§¤í•˜ê²Œë˜ë©´ ê²°êµ­ ë‘ê°œ ì´ìƒì˜ ì„œë²„ê°€ ìš´ì˜ë í…ë° ê·¸ ì„œë²„ë“¤ì„ ì•ì—ì„œ ë¬¶ì–´ì£¼ë©° íŠ¸ë˜í”½ì„ ë¶„ì‚°ì‹œì¼œì£¼ëŠ” ë¬´ì–¸ê°€ê°€ í•„ìš”í•˜ë‹¤. ê·¸ëŸ¬í•œ ê¸°ìˆ ì„ ë°”ë¡œ ë¡œë“œë°¸ëŸ°ì‹± ì´ë¼ê³  í•œë‹¤. í†µìƒ L4 ìŠ¤ìœ„ì¹˜ë¥¼ í™œìš©í•˜ì—¬ ìš”ì²­ì„ ì—¬ëŸ¬ ì„œë²„ë“¤ë¡œ ë¶„ì‚°ì‹œí‚¤ë©° ì‚°ìˆ ì ìœ¼ë¡œëŠ” ì„œë²„ ëŒ€ìˆ˜ë§Œí¼ ì„±ëŠ¥ì´ ì¢‹ì•„ì§€ëŠ” íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì•ì„œ ë§í–ˆë“¯ ì„œë²„ì˜ ìì› ì‚¬ìš©ë¥ ì´ ë°”ë‹¥ì¼ ì •ë„ë¡œ ê±°ì˜ ì‚¬ìš©ì„ ì•ˆí• ê²½ìš° ì„œë²„ë¥¼ êµ¬ë§¤í•˜ëŠ”ê±´ ë„ˆë¬´ë‚˜ ë¹„íš¨ìœ¨ì ì´ë‹¤. ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ì„œë²„ë¥¼ ëŠ˜ë¦¬ì§€ ì•Šìœ¼ë©´ì„œ ì›¹ì„œë²„ ì¤‘ ì•„íŒŒì¹˜ë¥¼ í™œìš©í•˜ì—¬ ì—¬ëŸ¬ WASë¥¼ ìš´ì˜í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê³ ì í•œë‹¤. ì„œë²„ ëŠ˜ë ¤ì•¼ í•˜ëŠ” ìƒí™©ì—ì„œ ì‚¬ìš©í•´ ë³¼ ìˆ˜ ìˆëŠ” ë‚˜ë§Œì˜ ì¢‹ì€ ë¬´ê¸°(?)ê°€ ìƒê¸´ê²Œ ì•„ë‹ê¹Œ ìƒê°ì´ ë“ ë‹¤.
ì•„íŒŒì¹˜ëŠ” EOLì´ ë˜ì—ˆê¸° ë•Œë¬¸ì— 2.4ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜í•˜ê³ , WASëŠ” í¸ì˜ìƒ í†°ì¼“ ìµœì‹ ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜í•´ì„œ ë™ì¼í•œ ì„œë²„ì— ì•„íŒŒì¹˜ í•œëŒ€ì™€ í†°ì¼“ 3ëŒ€ë¥¼ ì—°ë™í•˜ëŠ”ê²ƒì„ ëª©ì ìœ¼ë¡œ í•œë‹¤. ë¡œë“œë°¸ëŸ°ì‹±ì´ ì–´ë–¤ì‹ìœ¼ë¡œ ì´ë£¨ì–´ ì§€ê³  í•˜ìœ„ì— ì—°ê²°ëœ í†°ì¼“ì„ ì»¨íŠ¸ë¡¤ í•˜ëŠ” ë°©ë²• ë˜í•œ ì•Œì•„ë³¼ ì˜ˆì •ì´ë‹¤.
 ì„œë²„ í™˜ê²½ ë° ì„¤ì¹˜í•˜ê²Œ ë  ê° ë²„ì „ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. ì„œë²„ : CentOS 7.4 64Bit apache : httpd-2.4.39 tomcat : apache-tomcat-8.5.43 tomcat-connectors(mod_jk) : 1.2.46
 Apache ì™€ Tomcat ì„¤ì¹˜ í•„ìì˜ í¬ìŠ¤íŒ…ì—ì„œ ì¢…ì¢… ë‚˜ì˜¤ëŠ” ë¶€ë¶„ì´ê¸°ë„ í•˜ê³ , êµ¬ê¸€ë§ í•´ë³´ë©´ ë°”ë¡œ ì„¤ì¹˜ ë°©ë²•ì„ ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆê² ì§€ë§Œ ê·¸ë ‡ë‹¤ê³  ì–¸ê¸‰ì„ ì•ˆí•˜ê³  ë„˜ì–´ê°€ê¸°ì—” ë„ˆë¬´ ë¶ˆì¹œì ˆí•˜ë‹ˆ&hellip; ì¹˜íŠ¸í‚¤ì²˜ëŸ¼(?) ë¹ ë¥´ê²Œ ì •ë¦¬í•´ë³´ì.
 Apache  $ wget http://apache.tt.co.kr//httpd/httpd-2.4.39.tar.gz $ tar -zxvf httpd-2.4.39.tar.gz $ ./configure --prefix=/home/~~~/apache $ make &amp;&amp; make install $ cd /home/~~~/apache/bin $ sudo chown root:ê³„ì •ëª… httpd $ sudo chmod +s httpd $ vi /home/~~~/apache/conf/httpd.conf User ê³„ì •ëª… Grop ê³„ì •ëª… $ /home/~~~/apache/bin/apachectl start â† ì‹¤í–‰ ì´ë ‡ê²Œ ì„¤ì¹˜ë¥¼ í•œë’¤ ì‹¤í–‰ì„ ì‹œí‚¤ê³  ì„œë²„ì˜ ipë¥¼ ì ‘ì†í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ í™”ë©´ì„ ë³¼ ìˆ˜ ìˆë‹¤.
 Tomcat  $ wget http://mirror.apache-kr.org/tomcat/tomcat-8/v8.5.43/bin/apache-tomcat-8.5.43.tar.gz $ tar -zxvf apache-tomcat-8.5.43.tar.gz $ /home/apache-tomcat-8.5.43/bin/start.sh â† ì‹¤í–‰ í†°ì¼“ì˜ ê¸°ë³¸ http í¬íŠ¸ì¸ 8080ìœ¼ë¡œ ì ‘ì†ì„ í•´ë³´ë©´ ê·€ì—¬ìš´ ê³ ì–‘ì´ê°€ ìˆëŠ” í†°ì¼“ ê¸°ë³¸í™”ë©´ì„ ë³¼ ìˆ˜ ìˆë‹¤.
ì•„íŒŒì¹˜ì™€ í†°ì¼“ ì—°ë™í•˜ê¸° ì•„íŒŒì¹˜ì™€ í†°ì¼“ì˜ ì—°ë™ì€ mod_jk ì™€ mod_proxy ë“± ë‹¤ì–‘í•œ ëª¨ë“ˆë¡œ ì—°ë™ì„ í•  ìˆ˜ ìˆëŠ”ë° ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” mod_jk ë¥¼ í™œìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê³ ì í•œë‹¤. ìš°ì„  mod_jk ë¥¼ ì„¤ì¹˜í•˜ì.
 ê°„ë‹¨íˆ mod_jk ëŠ” ì»´íŒŒì¼, ì„¤ì • ë“± ë³µì¡í•˜ì§€ë§Œ í†°ì¼“ ì „ìš© ë°”ì´ë„ˆë¦¬ í”„ë¡œí† ì½œì¸ AJPë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë†’ì€ ì„±ëŠ¥ì„ ê¸°ëŒ€í• ìˆ˜ê°€ ìˆë‹¤. mod_proxy ëŠ” ë°˜ë©´ ê¸°ë³¸ìœ¼ë¡œ ì•„íŒŒì¹˜ì— íƒ‘ì¬ë˜ì–´ìˆëŠ” ëª¨ë“ˆì´ê¸° ë•Œë¬¸ì— ë³„ë„ì˜ ëª¨ë“ˆ ì„¤ì¹˜ê°€ í•„ìš” ì—†ê³  ì„¤ì •ë„ ê°„ë‹¨í•˜ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤. ê° ì—°ë™ë°©ì‹ì˜ ì¥ë‹¨ì ì´ ìˆê¸° ë•Œë¬¸ì— ë³¸ì¸ì´ ìš´ì˜í•˜ëŠ” ì„œë²„ ìƒí™©ì— ë§ì¶”ì–´ ì ìš© í•  í•„ìš”ê°€ ìˆë‹¤.
  mod_jk ì„¤ì¹˜  $ wget http://apache.tt.co.kr/tomcat/tomcat-connectors/jk/tomcat-connectors-1.2.46-src.tar.gz $ tar -zxvf tomcat-connectors-1.2.46-src.tar.gz $ cd tomcat-connectors-1.2.46-src/native $ ./configure --with-apxs=/home/~~~/apache/bin/apxs $ make &amp;&amp; make install $ /home/~~~/apache/modules í•˜ìœ„ì— mod_jk.soê°€ ìƒê¹€ mod_jk ë¥¼ í™œìš©í•˜ë©´ AJPë¼ëŠ” í†µì‹ ìœ¼ë¡œ ì•„íŒŒì¹˜ì™€ í†°ì¼“ì´ ì—°ë™ë˜ëŠ”ë° í†°ì¼“ì˜ ê¸°ë³¸ AJP í¬íŠ¸ëŠ” 8009ë²ˆì„ì„ ì•Œê³  ë‹¤ìŒì²˜ëŸ¼ ì„¤ì •ì„ í•´ì£¼ì.
 apache/conf/workers.properties  worker.list=tomcat1 worker.tomcat1.port=8009 worker.tomcat1.host=localhost worker.tomcat1.type=ajp13 worker.tomcat1.lbfactor=1  apache/conf/httpd.conf  LoadModule jk_module modules/mod_jk.so &lt;IfModule jk_module&gt; JkWorkersFile conf/workers.properties JkLogFile logs/mod_jk.log JkLogLevel info JkMount /* tomcat1 &lt;/IfModule&gt; ì´ë ‡ê²Œ í•˜ê³ ì„œ ì•„íŒŒì¹˜ì™€ í†°ì¼“ì„ ì¬ì‹œì‘ í›„ì— ì„œë²„ì˜ ipë¡œ ì ‘ì†í•´ë³´ë©´ (ë³„ë„ì˜ port ì—†ì´) í†°ì¼“ ì„¤ì •í˜ì´ì§€ë¡œ ëœë”©ì´ ë˜ëŠ”ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.]]></description></item><item><title>ì´ˆê°„ë‹¨ APIì„œë²„ ë§Œë“¤ê¸° - 2ë¶€ (Python + Flask + Nginx)</title><link>https://taetaetae.github.io/2018/07/01/simple-web-server-flask-nginx/</link><pubDate>Sun, 01 Jul 2018 02:00:00 +0000</pubDate><author>Author</author><guid>https://taetaetae.github.io/2018/07/01/simple-web-server-flask-nginx/</guid><description><![CDATA[<div class="featured-image">
                <img src="/images/simple-web-server-flask-nginx/flask-apache-nginx.png" referrerpolicy="no-referrer">
            </div>ì§€ë‚œí¬ìŠ¤íŒ…ì— ì´ì–´ ì´ë²ˆì—” Flaskì™€ Nginxë¥¼ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ì •ë¦¬í•´ë³´ê³ ì í•œë‹¤. Apacheë¡œ ì—°ë™í–ˆëŠ”ë° ì™œ ë˜ Nginxë¡œ ì—°ë™í•˜ëŠ”ê±¸ ì •ë¦¬í•˜ì§€(?)í•˜ë©° ì˜ë¬¸ì´ ë“¤ìˆ˜ ìˆëŠ”ë° ë‹¤ë¥¸ í¬ìŠ¤íŒ…ì„ ë´ë„ Apache + Flask ì¡°í•©ë³´ë‹¤ Nginx + Flask ì¡°í•©ì´ ë” ë§ê³  ì§€ë‚œ í¬ìŠ¤íŒ…ì—ì„œë„ ì•Œìˆ˜ìˆì—ˆë“¯ì´ (Apache VS Nginx) ë‘˜ì¤‘ ì–´ëŠê²ƒì´ ì¢‹ë‹¤ê³  í• ìˆ˜ë„ ì—†ê³  ê° ìƒí™©ì—ì„œ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ì•Œê³  ìˆë‹¤ë©´ ì´ ë˜í•œ ë‚˜ë§Œì˜ ë¬´ê¸°ê°€ ë ê²ƒê°™ì•„ Nginxë¥¼ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ì •ë¦¬í•´ë³´ë ¤ í•œë‹¤.
1ë¶€ì—ì„œ ì™œ Flaskì¸ê°€, Flaskì˜ ì¥ì ì— ëŒ€í•´ ì •ë¦¬ë¥¼ í–ˆìœ¼ë‹ˆ ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ë³„ë„ë¡œ ì‘ì„±í•˜ì§„ ì•ŠëŠ”ë‹¤.
Nginx ì„¤ì¹˜ ( https://nginx.org/en/ ) ì—­ì‹œ ì†ŒìŠ¤ì„¤ì¹˜ë¥¼ í•œë‹¤.
- ë‹¤ìš´ì„ ë°›ê³  $ https://nginx.org/download/nginx-1.14.0.tar.gz - ì••ì¶•ì„ í‘¼ ë‹¤ìŒ $ tar -zxvf nginx-1.14.0.tar.gz - í´ë”ë¡œ ì´ë™í•´ì„œ $ cd nginx-1.14.0 - ì„¤ì¹˜í•  ë””ë ‰í† ë¦¬ë¥¼ ì„¤ì •í•˜ê³  $ ./configure --prefix=/~~~/apps/nginx - make íŒŒì¼ì„ ë§Œë“¤ê³  $ make - ì„¤ì¹˜ë¥¼ ì§„í–‰í•œë‹¤. $ make install ì´ë ‡ê²Œ í•˜ë©´ ì¼ë‹¨ NginxëŠ” ì„¤ì¹˜ê°€ ë˜ì—ˆë‹¤.
uWSGI ì„¤ì¹˜ ( https://uwsgi-docs.readthedocs.io/ ) ì•ì„œ Apacheì™€ ì—°ë™í• ë•ŒëŠ” ë³„ë„ì˜ ëª¨ë“ˆì„ Apacheì—ê²Œ ë“±ë¡í•˜ëŠ” í˜•íƒœì˜€ë‹¤ë©´ NginxëŠ” WSGIí”„ë¡œí† ì½œì„ í™œìš©í•˜ëŠ” WSGI ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ë¥¼ í™œìš©í•´ì•¼ í•œë‹¤.
- ë‹¤ìš´ì„ ë°›ê³  $ wget https://projects.unbit.it/downloads/uwsgi-latest.tar.gz - ì••ì¶•ì„ í’€ê³  $ tar zxvf uwsgi-latest.tar.gz - í´ë”ë¡œ ì´ë™í•˜ì—¬ $ cd uwsgi-2.0.17 - make ëª…ë ¹ì–´ë¥¼ í˜¸ì¶œí•˜ë©´ &#39;uwsgi&#39;ì´ë¼ëŠ” ì‹¤í–‰íŒŒì¼ì´ ìƒì„±ëœë‹¤. $ make Nginx ì„¤ì • Apacheì™€ ë¹„ìŠ·í•˜ê²Œ uWSGI ê´€ë ¨ ì„¤ì •ì„ í•´ì¤€ë‹¤.
server { listen 80; server_name localhost; location / { # ( / ) ê²½ë¡œë¡œ ë“¤ì–´ì˜¬ ê²½ìš° include uwsgi_params; # GET/POST ë“± ê¸°ë³¸ì ìœ¼ë¡œ í•„ìš”í•œ í™˜ê²½ë³€ìˆ˜ë¥¼ include í•´ì¤€ë‹¤. uwsgi_pass 127.0.0.1:3031; # ìš”ì²­ì„ IP:PORTë¡œ ì „ë‹¬í•œë‹¤. } } ë³„ë„ì˜ ëª¨ë“ˆì„ ì‚¬ìš©í•˜ì§€ ì•Šê¸°ë•Œë¬¸ì— ì „ë‹¬í•´ì£¼ëŠ” (proxyëŠë‚Œ) ì„¤ì •ì„ í•´ì¤€ë‹¤.
uWSGI ì‹¤í–‰ ë° Nginx ì¬ì‹œì‘ ì•ì„œ ì„¤ì¹˜í•œ uwsgië¥¼ ì•„ë˜ì²˜ëŸ¼ IP:port ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì ì–´ì£¼ê³  (ìœ„ì—ì„œ ì „ë‹¬ë°›ì€ IP:PORTì™€ ë™ì¼í•˜ê²Œ) Apache ì—°ë™ì‹œ í™œìš©í–ˆë˜ wsgiíŒŒì¼ì„ ì´ë²ˆì—ë„ ë™ì¼í•˜ê²Œ ì‚¬ìš©í•˜ë„ë¡ í•´ì„œ ì‹¤í–‰í•œë‹¤.
$ ./uwsgi -s 127.0.0.1:3031 --wsgi-file /~~~/python_app/hello_world.wsgi ì´ë ‡ê²Œ í•˜ë©´ backgroundë¡œ ì‹¤í–‰ë˜ëŠ”ê²Œ ì•„ë‹Œ foregroundë¡œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— &amp;ì„ ì‚¬ìš©í•œë‹¤ë˜ì§€ í•´ì„œ backgroundë¡œ ì‹¤í–‰ë˜ë„ë¡ í•´ì¤€ë‹¤. ê·¸í›„ Nginxë¥¼ ì¬ì‹œì‘ í•´ì£¼ë©´ ì›í•˜ëŠ” ê·¸í† ë¡ ì›í–ˆë˜ Hello World!ë¥¼ ë§Œë‚ ìˆ˜ê°€ ìˆê²Œ ëœë‹¤.
Apacheì—°ë™ê³¼ ì¡°ê¸ˆ ë‹¤ë¥¸ì ì€ ëª¨ë“ˆì„ ì‚¬ìš©í•˜ì§€ì•Šê³  ë³„ë„ì˜ ì „ë‹¬ ì–´í”Œë¦¬ì¼€ì´ì…˜(?)ì´ í•„ìš”í•˜ë‹¤ëŠ”ì ì´ë‹¤. ê°„ë‹¨íˆ Apacheì²˜ëŸ¼ ëª¨ë“ˆë§Œ ë„£ìœ¼ë©´ ë˜ëŠ”ê²Œ ì•„ë‹ˆë¼ì„œ ë¶ˆí¸í• ìˆ˜ë„ ìˆì„ê²ƒ ê°™ì§€ë§Œ í•œí¸ìœ¼ë¡œëŠ” ê´€ë¦¬í• ìˆ˜ìˆëŠ” í¬ì¸íŠ¸ê°€ ë” ëŠ˜ì–´ë‚œ ì…ˆì´ë¼ ì–´ë–¤ ì¸¡ë©´ì—ì„œëŠ” í™œìš©í• ìˆ˜ ìˆëŠ” ë°©ë²•ì´ í•˜ë‚˜ ëŠ˜ì–´ë‚œê²ƒìœ¼ë¡œ ë³¼ìˆ˜ë„ ìˆë‹¤.
ë§ˆì¹˜ë©° ë§‰ìƒ ì •ë¦¬í•˜ê³  ë‚˜ë©´ ì•„ë¬´ê²ƒë„ ì•„ë‹Œë° ì•Œê¸° ìœ„í•´ì„œ ëª¸ë¶€ë¦¼ì„ ì³ê°€ë©° ì±…ì´ë©° êµ¬ê¸€ë§ì„ í•˜ëŠ” ê³¼ì •ì„ í†µí•´ ì ì  ì„±ì¥ì„ í•˜ëŠ”ê²ƒ ê°™ë‹¤. (ì„±ì¥í†µì´ë¼ê³ ë‚˜ í• ê¹Œ) ì´ë ‡ê²Œ ë‹¨ìˆœíˆ Flaskë¥¼ í• ìˆ˜ìˆë‹¤ ê°€ ì•„ë‹Œ ì›¹ì„œë²„ë¥¼ ì—°ë™í• ìˆ˜ìˆë‹¤. ê·¸ê²ƒë„ Apacheì™€ Nginx ë‘ê°œë‚˜. ì´ê²ƒë„ ì–¸ì  ê°„ ë‚˜ë§Œì˜ ë¬´ê¸°ê°€ ë˜ì§€ ì•Šì„ê¹Œ?]]></description></item><item><title>ì´ˆê°„ë‹¨ APIì„œë²„ ë§Œë“¤ê¸° - 1ë¶€ (Python + Flask + Apache)</title><link>https://taetaetae.github.io/2018/06/29/simple-web-server-flask-apache/</link><pubDate>Fri, 29 Jun 2018 23:00:00 +0000</pubDate><author>Author</author><guid>https://taetaetae.github.io/2018/06/29/simple-web-server-flask-apache/</guid><description><![CDATA[<div class="featured-image">
                <img src="/images/simple-web-server-flask-apache/flask-apache-python.png" referrerpolicy="no-referrer">
            </div>Staticí•œ HTMLì´ ì•„ë‹Œ ë¡œì§ì´ í•„ìš”í•œ APIì„œë²„ë¥¼ êµ¬ì„±í•œë‹¤ê³  ê°€ì •í•´ë³´ì. (ì´ì œê¹Œì§€ ì§€ì‹ìœ¼ë¡œ)ì²˜ìŒ ë¨¸ë¦¿ì†ì— ë– ì˜¤ë¥´ëŠ”ê±´ Javaë¥¼ ì‚¬ìš©í•˜ê³  ìŠ¤í”„ë§ìœ¼ë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ê³  apacheì— tomcatì„ ì—°ë™í•œ ë‹¤ìŒ &hellip;ì´ëŸ¬í•œ ë°©ë²•ìœ¼ë¡œ APIì„œë²„ë¥¼ êµ¬ì„±í• ìˆ˜ ìˆê² ì§€ë§Œ í”„ë¡œí† íƒ€ì´í•‘ ë˜ëŠ” í…ŒìŠ¤íŠ¸ ëª©ì ìœ¼ë¡œ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ì„¤ì •í•˜ëŠ” ì‹œê°„ì´ ì€ê·¼ ë§ì´ ì†Œìš”ëœë‹¤. (ë¬¼ë¡  Java Config, Spring Boot ë“± ê°„ì†Œí•´ì¡Œì§€ë§Œ&hellip;) ì–¼ë§ˆì „ë¶€í„° Pythonì— ëŒ€í•œ ë§¤ë ¥ì„ ë¼ˆì €ë¦¬ê²Œ ëŠë¼ê³  ìˆë‹¤ë³´ë‹ˆ Pythonìœ¼ë¡œ APIì„œë²„ë¥¼ êµ¬ì„±í• ìˆœ ì—†ì„ê¹Œ ì•Œì•„ë´¤ê³  (ëª¨ë°”ì¼ ê²Œì„ ë“€ë‘ê³  ì„œë²„ê°€ pythonì´ë¼ê³  í•˜ê¸°ë„ í•˜ê³ &hellip;) Flaskì™€ Djangoê°€ ìˆì–´ì„œ ë‘˜ë‹¤ ì¨ë³¸ ê²°ê³¼ í•„ìëŠ” Flaskê°€ ë§ê² ë‹¤ê³  ìƒê°í•´ì„œ ì •ë¦¬ë¥¼ í•´ë³¼ê¹Œ í•œë‹¤.
 &lsquo;ì¥ê³ &rsquo;ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” Djangoì—ëŠ” ëª¨ë“ ê²ƒë“¤ì´ ë‹¤ ë“¤ì–´ê°€ ìˆì–´ì„œ ì‚¬ìš©í•˜ê¸° ë„ˆë¬´ í¸ë¦¬í•˜ë‹¤. (DB, ì–´ë“œë¯¼ ë“± ) í•˜ì§€ë§Œ FlaskëŠ” ë‚´ê°€ ì‚¬ìš©í•  ê²ƒë“¤ë§Œ importí•´ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë¼ ì–´ë–¤ ì¸¡ë©´ì—ì„œëŠ” ì•„ë¬´ê²ƒë„ ì—†ë‹¤ í• ìˆ˜ ìˆê² ìœ¼ë‚˜ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì— ìš©ì´í•˜ë‹¤ê³  ë³¼ìˆ˜ ìˆì—ˆê¸°ì— Flaskë¥¼ ì„ íƒí•˜ê²Œ ë˜ì—ˆë‹¤. (Djangoê°€ Flaskë³´ë‹¤ ì•ˆì¢‹ë‹¤ëŠ” ë§ì€ ì•„ë‹ˆë‹ˆ ì˜¤í•´ëŠ” í•˜ì§€ ë§ˆì‹œê¸¸&hellip;)
 ê¸€ì“°ê¸°ì— ì•ì„œ ë³¸ í¬ìŠ¤íŒ…ì€ 2ê°œì˜ í¬ìŠ¤íŒ…ì— ê±¸ì³ ì‹œë¦¬ì¦ˆ(?)í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•  ì˜ˆì •ì´ë‹¤. 1ë¶€ì—ì„œëŠ” Flaskê°€ ë¬´ì—‡ì´ê³  ì´ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ë©° Apacheì™€ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ì†Œê°œí•˜ê³ , 2ë¶€ì—ì„œëŠ” Nginxì™€ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ì†Œê°œí•œë‹¤. í™˜ê²½ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
 CentOS 7.4 Python 3.6 (ê¸°ë³¸ì€ 2.7ì´ì˜€ìœ¼ë‚˜ ì¶”ê°€ë¡œ ì„¤ì¹˜)  Flask ( http://flask.pocoo.org/ ) ê³µì‹ í™ˆí˜ì´ì§€ì—ì„œë„ ë³´ë©´ ì•Œìˆ˜ ìˆë“¯ì´ ë„ˆ~ë¬´ ê°„ë‹¨í•˜ë‹¤. ë‹¨ì§€ ì•„ë˜ ì½”ë“œ ëª‡ì¤„ë§Œ ì‘ì„±í•˜ë©´ ìš°ë¦¬ê°€ ëª¨ë“  í”„ë¡œê·¸ë¨ ì´ˆê¸° ì‘ì„±ì‹œ í•­ìƒ ë§Œë‚˜ëŠ” &ldquo;Hello World&quot;ë¥¼ ë³¼ìˆ˜ ìˆë‹¤.
#hello_world.py from flask import Flask app = Flask(__name__) @app.route(&#34;/&#34;) def hello(): return &#34;Hello World!&#34; ìœ„ì™€ê°™ì´ ì‘ì„±í•˜ê³  python hello.pyë¡œ ì‹¤í–‰í•´ë‘ê³  ë¸Œë¼ìš°ì €ì—ì„œ http://127.0.0.1:5000 ì„ ìš”ì²­í•˜ë©´ ë°˜ê°€ìš´ Hello Worldë¥¼ ë§Œë‚ ìˆ˜ ìˆë‹¤. (ë„ˆë¬´ ê°„ë‹¨;;) ìì„¸í•œ ë¬¸ë²•ì€ ë„íë¨¼íŠ¸ë¥¼ ì°¸ì¡°í•˜ë©´ ë ë“¯í•˜ê³  ì´ Flaskë¥¼ ì˜ë§Œ í™œìš©í•œë‹¤ë©´ ë³´ë‹¤ ë¹ ë¥´ê³  ê°„ë‹¨í•˜ê²Œ APIì„œë²„ë¥¼ êµ¬ì„±í• ìˆ˜ ìˆì„ê±°ë¼ ìƒê°í•œë‹¤.
Hello Worldë¥¼ ì°ì—ˆìœ¼ë©´ ëœê±° ì•„ë‹Œê°€ ë¼ê³  ì§ˆë¬¸í• ìˆ˜ë„ ìˆê² ìœ¼ë‚˜ ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì•ë‹¨ì— ì›¹ì„œë²„ë¥¼ ë‘ëŠ”ê²Œ ì—¬ëŸ¬ ì¸¡ë©´ì—ì„œ íš¨ìœ¨ì ì´ë‹¤. ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì›¹ì„œë²„ëŠ” Apache ì™€ Nginxê°€ ìˆëŠ”ë° ì—¬ê¸°ì„œëŠ” Apacheì™€ ì—°ë™í•˜ëŠ” ë°©ë²•ì„ ì •ë¦¬ í•´ë³´ê³ ì í•œë‹¤.
Apache ì„¤ì¹˜ ( http://archive.apache.org/ ) ìš°ì„  í•„ìëŠ” yum ì´ë‚˜ apt-getì²˜ëŸ¼ íŒ¨í‚¤ì§€ ê´€ë¦¬ìë¡œ ì„¤ì¹˜í•˜ëŠ”ê²ƒì„ ê·¸ë ‡ê²Œ ì¢‹ì•„í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ìœ ëŠ” ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ í•  ê²½ìš° ì‹œìŠ¤í…œ ì–´ëŠê³³ì— ì„¤ì¹˜ë˜ì–´ìˆëŠ”ì§€ë¥¼ í•œëˆˆì— íŒŒì•…í•˜ê¸° ì–´ë µê³  ìœˆë„ìš°ê²½ìš° Program Filesì²˜ëŸ¼ ë‚´ê°€ ì¶”ê°€ë¡œ ì„¤ì¹˜í•˜ê³  ê´€ë¦¬í•˜ëŠ” í”„ë¡œê·¸ë¨ë“¤ì„ í•œê³³ì—ì„œ ê´€ë¦¬í•˜ê³  ì‹¶ê¸°ì— ì™ ë§Œí•˜ë©´ ì†ŒìŠ¤ë¥¼ ì§ì ‘ ì»´íŒŒì¼í•˜ì—¬ ì„¤ì¹˜í•˜ê³¤ í•œë‹¤. ì´ë²ˆ ì—­ì‹œ ì•„íŒŒì¹˜ë„ ì†ŒìŠ¤ë¡œ ì„¤ì¹˜í•˜ë ¤ê³  í•œë‹¤. í˜„ì¬ ì•„íŒŒì¹˜ëŠ” 2.4ë²„ì „ì´ Stableë²„ì „ìœ¼ë¡œ ë˜ì–´ìˆì§€ë§Œ ë³´ë‹¤ ë ˆí¼ëŸ°ìŠ¤ê°€ ë§ì€ 2.2ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ ì–´ë µê²Œ ì•„ì¹´ì´ë¹™ëœ ê²½ë¡œë¥¼ í†µí•´ ë‹¤ìš´ì„ ë°›ê³  ì„¤ì¹˜ë¥¼ í•œë‹¤.
- ë‹¤ìš´ì„ ë°›ê³  $ wget http://archive.apache.org/dist/httpd/httpd-2.2.29.tar.gz - ì••ì¶•ì„ í‘¼ ë‹¤ìŒ $ tar xvzf httpd-2.2.29.tar.gz - í•´ë‹¹ í´ë”ë¡œ ë“¤ì–´ê°€ $ cd httpd-2.2.29 - ì»´íŒŒì¼ í›„ ì„¤ì¹˜ ê²½ë¡œë¥¼ ì •í•´ì£¼ê³  $ ./configure --prefix=/~~~/apps/apache - make íŒŒì¼ì„ ë§Œë“ ë‹¤ìŒ $ make - ì„¤ì¹˜ë¥¼ í•´ì¤€ë‹¤. $ make install ì´ë ‡ê²Œ ë˜ë©´ /~~~/apps/apache/ í•˜ìœ„ì— í•„ìš”í•œ íŒŒì¼ë“¤ì´ ì„¤ì¹˜ê°€ ë˜ëŠ”ë° rootê³„ì •ì´ ì•„ë‹Œ ì¼ë°˜ê³„ì •ìœ¼ë¡œ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” /biní•˜ìœ„ì— ìˆëŠ” httpdì— ëŒ€í•œ ì‹¤í–‰/ì†Œìœ ê¶Œí•œì„ ë³€ê²½í•´ì¤˜ì•¼ í•œë‹¤. (ì•„ë‹ˆë©´ ê·¸ëƒ¥ rootê¶Œí•œìœ¼ë¡œ ì‹œì‘/ì¢…ë£Œ. ì™œ? ApacheëŠ” 80portë¥¼ ì‚¬ìš©í•˜ëŠ”ë° ì¼ë°˜ì ìœ¼ë¡œ ë¦¬ëˆ…ìŠ¤ì—ì„œëŠ” 1024 ì•„ë˜ portë¥¼ ì»¨íŠ¸ë¡¤ í•˜ê¸° ìœ„í•´ì„œëŠ” rootê¶Œí•œì´ ìˆì–´ì•¼ ì‚¬ìš©ì´ ê°€ëŠ¥, ê·¸ê²Œ ì•„ë‹ˆë¼ë©´ ì´ì²˜ëŸ¼ ë³„ë„ì˜ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.)
$ sudo chown root:ê³„ì •ëª… httpd $ sudo chmod +s httpd mod_wsgi ì„¤ì¹˜ ( https://code.google.com/archive/p/modwsgi/ ) ì›¹ ì„œë²„ ê²Œì´íŠ¸ì›¨ì´ ì¸í„°í˜ì´ìŠ¤(WSGI, Web Server Gateway Interface)ëŠ” ì›¹ì„œë²„ì™€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìœ„í•œ íŒŒì´ì„  í”„ë ˆì„ì›Œí¬ë‹¤. ë¼ê³  ì •ì˜ë˜ì–´ìˆë‹¤. ì¦‰, ì›¹ì„œë²„(Apache)ì™€ ìœ„ì—ì„œ ë§Œë“  Flask ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì—°ë™í•´ì£¼ê¸° ìœ„í•œ í”„ë ˆì„ì›Œí¬ì´ë‹¤. ì´ë˜í•œ ì†ŒìŠ¤ë¡œ ì„¤ì¹˜í•´ë³´ì. (ìœ„ì™€ ê°™ì€ ì´ìœ ë¡œ~)
- ë‹¤ìš´ì„ ë°›ê³  $ wget https://github.com/GrahamDumpleton/mod_wsgi/archive/3.5.tar.gz - ì••ì¶•ì„ í‘¼ ë‹¤ìŒ $ tar -zxvf 3.5.tar.gz - í´ë”ì— ë“¤ì–´ê°€ì„œ $ cd mod_wsgi-3.5 - ì•„íŒŒì¹˜ì˜ ë¹Œë“œíˆ´ì¸ apxsì˜ ê²½ë¡œë¥¼ ì„¤ì •í•´ì£¼ê³  - í•„ìì™€ ê°™ì´ ê¸°ë³¸ python ë²„ì „ì„ ì‚¬ìš©í•˜ì§€ ì•Šì„êº¼ë¼ë©´ ê¼­ pythonê²½ë¡œë¥¼ ì„¤ì •í•´ì¤˜ì•¼ í•œë‹¤!]]></description></item><item><title>Apacheëƒ Nginxëƒ, ê·¸ê²ƒì´ ì•Œê³ ì‹¶ë‹¤.</title><link>https://taetaetae.github.io/2018/06/27/apache-vs-nginx/</link><pubDate>Wed, 27 Jun 2018 17:17:33 +0000</pubDate><author>Author</author><guid>https://taetaetae.github.io/2018/06/27/apache-vs-nginx/</guid><description><![CDATA[<div class="featured-image">
                <img src="/images/apache-vs-nginx/want_to_know_that_apache_vs_nginx.png" referrerpolicy="no-referrer">
            </div>ì›¹ì„œë²„ëŠ” HTTP í”„ë¡œí† ì½œì„ í†µí•´ ì½íìˆ˜ ìˆëŠ” ë¬¸ì„œë¥¼ ì²˜ë¦¬ë¥¼ í•˜ë©° ì¼ë°˜ì ìœ¼ë¡œ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì•ë‹¨ì— ë°°ì¹˜ë˜ê³¤ í•œë‹¤. ë™ì ì¸ ë¦¬ì†ŒìŠ¤ëŠ” WASì—ê²Œ ì²˜ë¦¬í•˜ë„ë¡ í•˜ê³  ì •ì ì¸ ë¦¬ì†ŒìŠ¤ë¥¼ ë³´ë‹¤ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ë°©ë²•ì¼ìˆ˜ë„ ìˆë‹¤. í¬ê²Œ Apacheì™€ Nginxê°€ ì‚¬ìš©ë˜ê³¤ í•˜ëŠ”ë° ì´ ë‘˜ì˜ ì°¨ì´ëŠ” ë¬´ì—‡ì¼ê¹Œ?ì‚¬ì‹¤ í•„ìëŠ” ì‚¬ë‚´ì—ì„œ ì£¼ë¡œ Apacheë§Œ ì‚¬ìš©í•˜ë‹¤ë³´ë‹ˆ NginxëŠ” ê·¸ì € Apacheì™€ëŠ” ë‹¤ë¥¸ ë°©ì‹ì˜ ì›¹ì„œë²„ë‹¤ ë˜ëŠ” ë³´ë‹¤ ê²½ëŸ‰í™” ë˜ì—ˆë‹¤ ì •ë„ë¡œë§Œ ì•Œê³ ìˆì—ˆëŠ”ë° ì´ë²ˆê¸°íšŒë¥¼ í†µí•´ ì œëŒ€ë¡œ ì•Œê³  ë¹„êµë¥¼ í•´ë³´ë©´ì„œ ê²°êµ­ ì–´ë–¤ê²Œ ì¢‹ì€ì§€ ì•Œì•„ë³´ê³ ì í•œë‹¤.
 êµ¬ê¸€ë§ì„ ì¡°ê¸ˆë§Œ í•´ë³´ë©´ Apacheì™€ Nginxë¥¼ ë¹„êµí•˜ëŠ” í¬ìŠ¤íŒ…ì´ ë§ì´ ë‚˜ì˜¨ë‹¤. ì´ë²ˆ í¬ìŠ¤íŒ…ì˜ ëª©ì  ì´ëŸ¬í•œ ì •ë³´ë“¤ì„ ë‹¨ìˆœíˆ ìš”ì•½/ì¢…í•© í•˜ë ¤ëŠ”ê²Œ ì•„ë‹ˆê³ , ìµœëŒ€í•œ ì‹¤ë¬´ ì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•˜ëŠ” ì‹œê°ìœ¼ë¡œ ì •ë¦¬í•˜ê³ ì í•¨ì„ ë°íŒë‹¤.
 Apache ( https://httpd.apache.org/ ) ìš°ë¦¬ë‚˜ë¼ì—ì„œ ì›¹ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•˜ëŠ” ì‚¬ëŒë“¤ì€ í•œë²ˆì¯¤ì€ ë“¤ì–´ë´¤ì„ Apache. êµ­ë‚´ ì¼ë°˜ì ì¸ ê¸°ì—…ì—ì„œ ì›¹ì„œë²„ì˜ í‘œì¤€ìœ¼ë¡œ ìë¦¬ì¡ì•˜ë‹¤ê³  í•´ë„ ê³¼ì–¸ì´ ì•„ë‹ê²ƒ ê°™ë‹¤. Clientì—ì„œ ìš”ì²­ì„ ë°›ìœ¼ë©´ MPM (Multi Processing Module : ë‹¤ì¤‘ì²˜ë¦¬ëª¨ë“ˆ) ì´ë¼ëŠ” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë¥¼ í•˜ëŠ”ë° ëŒ€í‘œì ìœ¼ë¡œëŠ” Preforkì™€ Workerë°©ì‹ì´ ìˆë‹¤. ê°„ë‹¨í•˜ê²Œ ì–´ë–¤ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ”ì§€ ì•Œê³  ë„˜ì–´ê°€ì.
 Prefork MPM Prefork MPM, http://old.zope.org/Members/ike/Apache2/osx/configure_html" Prefork MPM, http://old.zope.org/Members/ike/Apache2/osx/configure_html   ì‹¤í–‰ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ë³µì œë˜ì–´ ì²˜ë¦¬ê°€ ëœë‹¤. ê° í”„ë¡œì„¸ìŠ¤ëŠ” í•œë²ˆì— í•œ ì—°ê²°ë§Œ ì²˜ë¦¬í•˜ê³  ìš”ì²­ëŸ‰ì´ ë§ì•„ì§ˆìˆ˜ë¡ í”„ë¡œì„¸ìŠ¤ëŠ” ì¦ê°€í•˜ì§€ë§Œ ë³µì œì‹œ ë©”ëª¨ë¦¬ì˜ì—­ê¹Œì§€ ë³µì œë˜ì–´ ë™ì‘í•˜ë¯€ë¡œ í”„ë¡œì„¸ìŠ¤ê°„ ë©”ëª¨ë¦¬ ê³µìœ ê°€ ì—†ì–´ ì•ˆì •ì ì´ë¼ ë³¼ìˆ˜ ìˆë‹¤.
 Worker MPM Worker MPM, http://old.zope.org/Members/ike/Apache2/osx/configure_html" Worker MPM, http://old.zope.org/Members/ike/Apache2/osx/configure_html   Prefork ë™ì‘ë°©ì‹ì´ 1ê°œì˜ í”„ë¡œì„¸ìŠ¤ê°€ 1ê°œì˜ ìŠ¤ë ˆë“œë¡œ ì²˜ë¦¬ê°€ ë˜ì—ˆë‹¤ë©´ Worker ë™ì‘ë°©ì‹ì€ 1ê°œì˜ í”„ë¡œì„¸ìŠ¤ê°€ ê°ê° ì—¬ëŸ¬ ì“°ë ˆë“œë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤. ì“°ë ˆë“œê°„ì˜ ë©”ëª¨ë¦¬ë¥¼ ê³µìœ í•˜ë©° PreForkë°©ì‹ë³´ë‹¤ ë©”ëª¨ë¦¬ë¥¼ ëœ ì‚¬ìš©í•˜ëŠ” ì¥ì ì´ ìˆë‹¤.
ì°¸ê³ ë¡œ WASë¡œ tomcatì„ ì—°ë™í•˜ëŠ” ê²½ìš°ë¼ë©´ mod_jk, mod_proxy, mod_proxy_ajp ë°©ì‹ì„ Apache ìì²´ì ìœ¼ë¡œ ì§€ì›í•´ì£¼ê¸° ë•Œë¬¸ì— ë‹¤ì–‘í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ tomcatì„ ì—°ë™í• ìˆ˜ ìˆë‹¤. ì°¸ê³ ë§í¬
Nginx ( https://nginx.org/en/ ) Nginxì— ëŒ€í•´ ì‚´í´ë³´ê¸° ì „ì— êµ¬ê¸€ íŠ¸ëœë“œë¥¼ í™œìš©í•˜ì—¬ Nginxì— ëŒ€í•œ ê´€ì‹¬ì´ ì–´ëŠì •ë„ì¸ì§€ë¥¼ ë³´ê³  ë„˜ì–´ê°€ì.
ìµœê·¼ 5ë…„ê°„ êµ¬ê¸€íŠ¸ëœë“œ, íŒŒë€ìƒ‰ì´ Apacheì´ê³  ë¹¨ê°„ìƒ‰ì´ Nginx" ìµœê·¼ 5ë…„ê°„ êµ¬ê¸€íŠ¸ëœë“œ, íŒŒë€ìƒ‰ì´ Apacheì´ê³  ë¹¨ê°„ìƒ‰ì´ Nginx  ì „ì„¸ê³„ëŠ” Nginxë³´ë‹¤ëŠ” Apacheì— ëŒ€í•œ ê´€ì‹¬ì´ ë§ì€ê²ƒìœ¼ë¡œ ë³´ì´ëŠ”ë° êµ­ë‚´ëŠ” ì•„ì£¼ ì¡°ê¸ˆì”© Nginxì— ëŒ€í•œ ê´€ì‹¬ì´ ì˜¤ë¥´ëŠ”ê²ƒì„ ë³¼ìˆ˜ìˆì—ˆë‹¤. (ê·¸ë˜ë„ ì•„ì§ì€ Apacheê°€ ì›”ë“±íˆ ìš°ì„¸í•œ í¸ì´ë‹¤.) ê·¸ëŸ¼ NginxëŠ” ì–´ë–¤ì‹ìœ¼ë¡œ ëŒì•„ê°€ëŠ” ê²ƒì¼ê¹Œ? ê°€ì¥ ìœ ëª…í•œ(?) íŠ¹ì§•ì´ë¼ë©´ Event Driven ë°©ì‹ì„ ê¼½ì„ìˆ˜ ìˆì„ê²ƒ ê°™ë‹¤. Event Driven ë°©ì‹ì— ëŒ€í•´ ì ê¹ ì–¸ê¸‰ì„ í•˜ê³  ë„˜ì–´ê°€ë©´ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ì–´ë–¤ ë™ì‘ì„ í•´ì•¼í•˜ëŠ”ì§€ë§Œ ì•Œë ¤ì£¼ê³  ë‹¤ë¥¸ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ë‹¤. (Producer Consumer Patternê³¼ ìœ ì‚¬í•˜ë‹¤.) ê·¸ëŸ¬ë‹¤ë³´ë‹ˆ í”„ë¡œì„¸ìŠ¤ë¥¼ forkí•˜ê±°ë‚˜ ì“°ë ˆë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ì•„íŒŒì¹˜ì™€ëŠ” ë‹¬ë¦¬ CPUì™€ ê´€ê³„ì—†ì´ ëª¨ë“  IOë“¤ì„ ì „ë¶€ Event Listenerë¡œ ë¯¸ë£¨ê¸° ë•Œë¬¸ì— íë¦„ì´ ëŠê¸°ì§€ ì•Šê³  ì‘ë‹µì´ ë¹ ë¥´ê²Œ ì§„í–‰ì´ ë˜ì–´ 1ê°œì˜ í”„ë¡œì„¸ìŠ¤ë¡œ ë” ë¹ ë¥¸ ì‘ì—…ì´ ê°€ëŠ¥í•˜ê²Œ ë ìˆ˜ ìˆë‹¤. ì´ë•Œë¬¸ì— ë©”ëª¨ë¦¬ì ì¸ ì¸¡ë©´ì—ì„œ Nginxê°€ System Resourceë¥¼ ì ê²Œ ì²˜ë¦¬í•œë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤ê³  í•œë‹¤.
Nginx Process Model (https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale)" Nginx Process Model (https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale)  ê·¸ë˜ì„œ ë­ê°€ ì¢‹ì€ê°€? ì´ í¬ìŠ¤íŒ…ì„ ì ìœ¼ë©´ì„œ ë§ˆì§€ë§‰ì—” Apacheê°€ ë”ì¢‹ë‹¤ ë˜ëŠ” Nginxê°€ ë”ì¢‹ë‹¤ë¡œ ë§ˆë¬´ë¦¬ë¥¼ ì§“ê³  ì‹¶ì—ˆëŠ”ë° ì–´ëŠ ì‹œì‚¬/êµì–‘ í”„ë¡œê·¸ë¨ì²˜ëŸ¼ ì–´ì©”ìˆ˜ ì—†ëŠ” ì—´ë¦°ê²°ë§ë¡œ ë§ˆë¬´ë¦¬ë¥¼ ì§€ì„ìˆ˜ë°–ì— ì—†ì„ê²ƒ ê°™ë‹¤. (ì–´ì°Œë³´ë©´ ì´ê²Œ ì •ë‹µì¼ìˆ˜ë„?)
ê¸°ìˆ ì˜ ì„ íƒì— ìˆì–´ì„œ ì •ë‹µì€ ì—†ëŠ”ê²ƒ ê°™ë‹¤.(ë¬¼ë¡  Spring ì„ ì‚¬ìš©í•˜ëŠëƒ ì„œë¸”ë¦¿ì„ ì§ì ‘ êµ¬í˜„í•˜ëŠ”ëƒ ì™€ëŠ” ì¢€ ë‹¤ë¥¸ ì„±ê²©ì˜ ì´ì•¼ê¸°;;) ìš´ì˜í•˜ê³  ìˆëŠ” ì„œë¹„ìŠ¤ì˜ ìƒí™©ì„ ì˜ ì•Œê³  íŠœë‹ì„ í•´ê°€ë©´ì„œ ê°€ì¥ íš¨ìœ¨ì ì¸ê²ƒì„ ì„ íƒí•˜ëŠ”ê²Œ ì •ë‹µì´ë¼ê³  ë§í• ìˆ˜ ë°–ì—&hellip; ì»¤ë®¤ë‹ˆí‹° íŒŒì›Œë¥¼ ë¬´ì‹œ ëª»í•˜ê¸° ë•Œë¬¸ì— Apacheë¥¼ ì„ íƒí• ìˆ˜ë„ ìˆì„í…Œê³ , ì ì  ê´€ì‹¬ë„ê°€ ì˜¬ë¼ê°„ë‹¤ëŠ”ê±´ ê·¸ë§Œí¼ì˜ ì¥ì ì´ ìˆê³  ë˜í•œ ë©”ëª¨ë¦¬ ì¸¡ë©´ì—ì„œ ë™ì ‘ì ì²˜ë¦¬ì‹œ íš¨ìœ¨ì ì¸ Nginxë¥¼ ì‚¬ìš©í• ìˆ˜ ìˆì„ê²ƒ ê°™ë‹¤.
ì •ë¦¬í•˜ë©´. ë‚´ê°€ ì‚¬ìš©í•˜ê¸°ì— ì–´ë ¤ì›€ì´ ì—†ëŠ” ë„êµ¬ë¥¼ ì˜ í™œìš©í•˜ëŠ”ê²ƒ, ê·¸ë ‡ë‹¤ê³  ì˜¤ë˜ëœ ê¸°ìˆ ì´ í¸í•œë‹¤ê³  ì§‘ì°©í•´ì„œëŠ” ì•ˆë˜ë©°, ìƒˆë¡œìš´ ê¸°ìˆ ì„ ë‘ë ¤ì›Œ í•˜ì§€ë§ê³  ê²½í—˜ì„ í•´ë³¸ ë’¤ì— ê²°ì •ì„ í• ê²ƒ ì´ë¼ê³  ë‚´ë¦´ìˆ˜ ìˆì„ê²ƒ ê°™ë‹¤. (ì–´ë µë‹¤&hellip;ã… ã… )
  ì°¸ê³  í¬ìŠ¤íŒ… http://www.mukgee.com/?p=293 http://knot.tistory.com/88 http://tmondev.blog.me/220737182315 http://tmondev.blog.me/220731906490 http://urin79.com/blog/20654191 http://jaweb.tistory.com/entry/apache-%EC%99%80-Nginx-%EB%AD%90%EA%B0%80-%EC%A2%8B%EC%9D%80%EA%B1%B0%EC%95%BC  ]]></description></item><item><title>ì•„íŒŒì¹˜ ì—‘ì„¸ìŠ¤ ë¡œê·¸ì— 408ì½”ë“œê°€?</title><link>https://taetaetae.github.io/2018/04/29/apache-408-response-code/</link><pubDate>Sun, 29 Apr 2018 17:39:36 +0000</pubDate><author>Author</author><guid>https://taetaetae.github.io/2018/04/29/apache-408-response-code/</guid><description><![CDATA[<div class="featured-image">
                <img src="/images/apache-408-response-code/network_flow.png" referrerpolicy="no-referrer">
            </div>ì˜ˆì „ì— ì•„íŒŒì¹˜ ë¡œê·¸ë¥¼ ì—˜ë¼ìŠ¤í‹± ìŠ¤íƒì„ í™œìš©í•˜ì—¬ ë‚´ ì„œë²„ì— ëˆ„ê°€ ë“¤ì–´ì˜¤ëŠ”ì§€ë¥¼ í™•ì¸í• ìˆ˜ ìˆë„ë¡ êµ¬ì„±ì„ í•´ë‘ê³  ëª‡ì¼ê°„ ì§€ì¼œë³´ë‹ˆ ë‹¤ìŒê³¼ ê°™ì€ ì—‘ì„¸ìŠ¤ ë¡œê·¸ê°€ ë°œìƒí•˜ê³  ìˆì—ˆë‹¤.1.2.3.4 - - [26/Apr/2018:01:27:33 +0900] &#34;GET /aaa/ HTTP/1.1&#34; 200 6001 30788 &#34;http://www.naver.com&#34; &#34;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36&#34; 1.2.3.4 - - [26/Apr/2018:01:28:08 +0900] &#34;-&#34; 408 - 30 &#34;-&#34; &#34;-&#34; 1.2.3.4 - - [26/Apr/2018:01:28:08 +0900] &#34;-&#34; 408 - 28 &#34;-&#34; &#34;-&#34; 1.2.3.4 - - [26/Apr/2018:01:28:08 +0900] &#34;-&#34; 408 - 12 &#34;-&#34; &#34;-&#34; 1.2.3.4 - - [26/Apr/2018:01:28:08 +0900] &#34;-&#34; 408 - 30 &#34;-&#34; &#34;-&#34; 1.2.3.4 - - [26/Apr/2018:01:28:50 +0900] &#34;GET /aaa/ HTTP/1.1&#34; 200 5999 13521 &#34;http://www.naver.com/&#34; &#34;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36&#34; 1.2.3.4 - - [26/Apr/2018:01:29:14 +0900] &#34;GET /aaa/ HTTP/1.1&#34; 200 5996 19437 &#34;http://www.naver.com&#34; &#34;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36&#34; 1.2.3.4 - - [26/Apr/2018:01:29:15 +0900] &#34;GET /aaa/ HTTP/1.1&#34; 200 5997 17553 &#34;http://www.naver.com&#34; &#34;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36&#34; 1.2.3.4 - - [26/Apr/2018:01:29:15 +0900] &#34;GET /aaa/ HTTP/1.1&#34; 200 5998 17429 &#34;http://www.naver.com/&#34; &#34;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36&#34; 1.2.3.4 - - [26/Apr/2018:01:29:53 +0900] &#34;-&#34; 408 - 30 &#34;-&#34; &#34;-&#34; 1.2.3.4 - - [26/Apr/2018:01:29:53 +0900] &#34;-&#34; 408 - 30 &#34;-&#34; &#34;-&#34; 1.2.3.4 - - [26/Apr/2018:01:29:53 +0900] &#34;-&#34; 408 - 32 &#34;-&#34; &#34;-&#34; 1.2.3.4 - - [26/Apr/2018:01:29:53 +0900] &#34;-&#34; 408 - 38 &#34;-&#34; &#34;-&#34; 1.2.3.4 - - [26/Apr/2018:01:29:53 +0900] &#34;-&#34; 408 - 29 &#34;-&#34; &#34;-&#34; 1.2.3.4 - - [26/Apr/2018:01:30:54 +0900] &#34;GET /aaa/ HTTP/1.1&#34; 200 6000 17881 &#34;http://www.naver.com&#34; &#34;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36&#34; 1.2.3.4 - - [26/Apr/2018:01:31:34 +0900] &#34;-&#34; 408 - 30 &#34;-&#34; &#34;-&#34; 1.2.3.4 - - [26/Apr/2018:01:31:34 +0900] &#34;-&#34; 408 - 30 &#34;-&#34; &#34;-&#34; 1.2.3.4 - - [26/Apr/2018:01:31:34 +0900] &#34;-&#34; 408 - 25 &#34;-&#34; &#34;-&#34; í•œì‹œê°„ì— ë§Œê±´ì´ìƒ ì‘ë‹µì½”ë“œëŠ” 408, referrerë„ ì—†ê³ , useragentë„ ì—†ëŠ”, ipë“¤ë„ ë§¤ìš° ë‹¤ì–‘í•œ ì´ìƒí•œ ë…€ì„ë“¤ì´ ìš”ì²­ë˜ê³  ìˆì—ˆë‹¤.
 ì´ë ‡ê²Œ ì—‘ì„¸ìŠ¤ ë¡œê·¸ë¥¼ ë¶„ì„í• ìˆ˜ ìˆëŠ” êµ¬ì„±ì„ í•´ë‘ê³  ë‚˜ë‹ˆ ë³´ì˜€ì§€ ì•ˆê·¸ë¬ìŒ ê·¸ëƒ¥ ì§€ë‚˜ê°”ì„ í„°..
 ì´ëŸ¬í•œ ë°ì´í„°ë¥¼ í‚¤ë°”ë‚˜ì—ì„œ ë³´ë©´ ì•„ë˜ì²˜ëŸ¼ ë³¼ìˆ˜ìˆëŠ”ë° í•œëˆˆì— ë´ë„ ê³¼ì—° ì˜ë¯¸ìˆëŠ” ìš”ì²­ë“¤ì¼ê¹Œ? í•˜ëŠ” ì˜êµ¬ì‹¬ì´ ë“¤ì •ë„ì´ë‹¤. (1ì‹œê°„ ì•„íŒŒì¹˜ ì—‘ì„¸ìŠ¤ ë¡œê·¸)
ì£¼í™©ìƒ‰ì´ 408ì‘ë‹µ" ì£¼í™©ìƒ‰ì´ 408ì‘ë‹µ  ê·¸ëŸ¼ ì´ëŸ° í˜¸ì¶œë“¤ì€ ë„ëŒ€ì²´ ë­˜ê¹Œ? ì²œì²œíˆ ìƒê°ì¢€ í•´ë³´ì.
 ì •ìƒì ì´ì§€ ì•ŠëŠ” í˜¸ì¶œë¡œ ìš°ë¦¬ ì„œë²„ì˜ ì·¨ì•½ì ì„ íŒŒì•…í•˜ë ¤ í•˜ëŠ”ê²ƒë“¤ì¼ê¹Œ? ì‘ë‹µì½”ë“œ 408ì€ ìš”ì²­ì‹œê°„ì´ˆê³¼ ì‘ë‹µì½”ë“œì¸ë°&hellip; ì˜¤íˆë ¤ í´ë¼ì´ì–¸íŠ¸ ì…ì¥ì—ì„œ ë¬¸ì œê°€ ìˆëŠ”ê±´ ì•„ë‹ê¹Œ? ì–´í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ì´ ì˜ëª»ë˜ì–´ ë¬´í•œë£¨í”„ì— ë¹ ì¡Œë‚˜;  ìœ„í‚¤ë°±ê³¼ì—ì„œëŠ” ì•„íŒŒì¹˜ ì‘ë‹µì½”ë“œ ì¤‘ 408ì— ëŒ€í•œ ì‘ë‹µì„ ë‹¤ìŒê³¼ ê°™ì´ ì•Œë ¤ì£¼ê³  ìˆë‹¤.
 The server timed out waiting for the request. According to HTTP specifications: &ldquo;The client did not produce a request within the time that the server was prepared to wait. The client MAY repeat the request without modifications at any later time
 ì¦‰, ì•„íŒŒì¹˜ ë‹¨ì—ì„œ íƒ€ì„ì•„ì›ƒì„ ë‚´ë²„ë¦¬ëŠ” ìƒí™©. ì—¬ëŸ¬ ë‹¤ì–‘í•œ í‚¤ì›Œë“œë“¤ë¡œ êµ¬ê¸€ë§ì„ í•´ë´ë„ ì´ë ‡ë‹¤í•  ê²€ìƒ‰ê²°ê³¼ë¥¼ ì°¾ì§€ ëª»í•˜ê³  ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ìƒí™©ì¸ì§€ ì‹¶ì–´ í¬ë¡¬ ê°œë°œìë„êµ¬ë¥¼ ì—´ì–´ ë„¤íŠ¸ì›Œí¬ ì§€ì—° í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ì•˜ìœ¼ë‚˜ ë³„ íš¨ê³¼ê°€ ì—†ì—ˆë‹¤. ê·¸ë ‡ê²Œ ë²”ì¸ì°¾ëŠ” í˜•ì‚¬ì˜ ì‹¬ì •ìœ¼ë¡œ ì´ê²ƒì €ê²ƒ ì•Œì•„ë³´ë‹¤ ìš°ì—°íˆ ì§‘ì—ì„œ ì›ê²©ìœ¼ë¡œ íšŒì‚¬ VPN ë¶™ì–´ì„œ í…ŒìŠ¤íŠ¸ í•˜ë˜ë„ì¤‘ ê´€ë ¨ ì¦ìƒì„ ì¬í˜„ í• ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.
# ì¬í˜„ìƒí™© ìš°ì„  ì•„íŒŒì¹˜ë²„ì „ì€ 2.2ì´ê³  KeepAlive Offê°€ ë˜ì–´ìˆëŠ” ìƒí™©. ì•„ë˜ê·¸ë¦¼ì²˜ëŸ¼ ì§‘PC - ê³µìœ ê¸° - VPN - Apache - tomcat jenkins ìƒí™©ì´ì˜€ëŠ”ë° ì  í‚¨ìŠ¤ì— í•œë²ˆ ì ‘ì†í›„ì—ëŠ” í•­ìƒ 408 ì‘ë‹µì´ ì£¼ë£¨ë£©(?]]></description></item><item><title>Apache keepAlive</title><link>https://taetaetae.github.io/2017/08/28/apache-keep-alive/</link><pubDate>Mon, 28 Aug 2017 19:56:40 +0000</pubDate><author>Author</author><guid>https://taetaetae.github.io/2017/08/28/apache-keep-alive/</guid><description><![CDATA[<div class="featured-image">
                <img src="/images/apache-keep-alive/keepalive_on_off.png" referrerpolicy="no-referrer">
            </div><p>ì„œë²„ë¥¼ ìš´ì˜í•˜ë‹¤ë³´ë©´ ê°„í˜¹ ë¬¸ì œê°€ ë°œìƒí•˜ê³¤ í•œë‹¤. ì´ë¥¼í…Œë©´ ë©”ëª¨ë¦¬ê°€ ë‹¤ë¥¸ì´ìœ ì—†ì´ ì˜¬ë¼ê°„ë‹¤ê±°ë‚˜, ì‚¬ìš©ì ì…ì¥ì—ì„œ ì‘ë‹µì†ë„ê°€ ê°„í—ì ìœ¼ë¡œ ëŠë¦°ë‹¤ê±°ë‚˜. ê·¸ëŸ´ë•Œë§ˆë‹¤ ì„ ë°°ê°œë°œìë¶„ë“¤ê»˜ì„œ ê°€ì¥ë¨¼ì € ì…ì— ì˜¤ë¥´ë‚´ë¦¬ëŠ” ë‹¨ì–´. <code>keepAlive</code>.</p>]]></description></item></channel></rss>