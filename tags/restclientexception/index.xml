<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>RestClientException - Tag - ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„</title><link>https://taetaetae.github.io/tags/restclientexception/</link><description>RestClientException - Tag - ğŸ‘¨â€ğŸ’»ê¿ˆê¾¸ëŠ” íƒœíƒœíƒœì˜ ê³µê°„</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sat, 17 Mar 2018 19:19:39 +0000</lastBuildDate><atom:link href="https://taetaetae.github.io/tags/restclientexception/" rel="self" type="application/rss+xml"/><item><title>RestClientException ì²˜ë¦¬</title><link>https://taetaetae.github.io/2018/03/17/rest-client-exception/</link><pubDate>Sat, 17 Mar 2018 19:19:39 +0000</pubDate><author>Author</author><guid>https://taetaetae.github.io/2018/03/17/rest-client-exception/</guid><description><![CDATA[Spring í™˜ê²½ì—ì„œ (Spring5ëŠ” ë‹¬ë¼ì¡Œì§€ë§Œ&hellip;) ì™¸ë¶€ APIë¡œì˜ í˜¸ì¶œì„ í• ë•Œ ìì£¼ ì“°ì´ëŠ” RestTemplate. ì´ë•Œ requestì— ëŒ€í•´ ì •ìƒì ì¸ ì‘ë‹µì´ ì•„ë‹Œ ê²½ìš°ì— ëŒ€í•œ ì²˜ë¦¬ëŠ” ì–´ë–»ê²Œ í• ê¹Œ? ë§‰ì—°í•˜ê²Œ ìƒê°ì„ í•´ë³´ë©´ Http Status Codeë¥¼ ë°›ì•„ì„œ íŒë³„ì„ í•˜ë©´ ë˜ì§€ë§Œ Http Status Codeë§Œ ë´ë„ ì—„ì²­~ë§ë‹¤. ( ìœ„í‚¤í”¼ë””ì•„ ì°¸ê³  : https://en.wikipedia.org/wiki/List_of_HTTP_status_codes ) if~else ë¡œ ë‹¤ ë‚˜ëˆŒìˆ˜ë„ ì—†ê³ &hellip; ìš°ì„  ì„±ê³µ/ì‹¤íŒ¨ì— ëŒ€í•œ íŒë³„ì€ ì–´ë–»ê²Œ í• ê¹Œ í•˜ê³  ì½”ë“œë¥¼ íŒŒê³ íŒŒê³  ë“¤ì–´ê°€ë‹¤ê°€ ì•Œê²Œëœ ë¶€ë¶„ì— ëŒ€í•´ ì •ë¦¬ë¥¼ í•´ë³´ê² ë‹¤.
Http Status Code ê·¸ë£¹ì •ì˜ Spring-project githubì— ê°€ë³´ë©´ HttpStatus í•˜ìœ„ì— ë‚´ë¶€ Enumìœ¼ë¡œ ì•„ë˜ì²˜ëŸ¼ ì •ì˜ë˜ì–´ ìˆë‹¤. ( ë§í¬ )
public enum HttpStatus { ... public Series series() { return Series.valueOf(this); } ... public enum Series { INFORMATIONAL(1), SUCCESSFUL(2), REDIRECTION(3), CLIENT_ERROR(4), SERVER_ERROR(5); ... public static Series valueOf(int status) { int seriesCode = status / 100; for (Series series : values()) { if (series.value == seriesCode) { return series; } } throw new IllegalArgumentException(&#34;No matching constant for [&#34; + status + &#34;]&#34;); } } }	ì•½ 80ì—¬ê°œ ì‘ë‹µì½”ë“œë“¤ì„ í¬ê²Œ 5ê°œ ë¬¶ìŒìœ¼ë¡œ ì •ì˜í•´ ë†“ì€ê²ƒì„ ë³¼ìˆ˜ìˆë‹¤. ì¦‰, 201 / 201 / 202 ê°™ì€ ë…€ì„ë“¤ì€ ì „ë¶€ SUCCESSFUL ì„±ê³µ ìœ¼ë¡œ ê·¸ë£¹í•‘ì´ ë˜ëŠ”ê²ƒì„ í™•ì¸í• ìˆ˜ ìˆë‹¤.
ê·¸ëŸ¼ RestTemplate ì—ì„œëŠ” ì–´ë–»ê²Œ ì²˜ë¦¬í•˜ê³  ìˆë‚˜? ì½”ë“œë¥¼ ì­‰ì­‰ ë”°ë¼ê°€ë‹¤ ë³´ë©´ ì•„ë˜ì²˜ëŸ¼ 4xx, 5xx ëŠ” ì—ëŸ¬ë¼ê³  íŒë‹¨í•˜ê³  ê·¸ì— ë”°ë¼ RestClientException ì„ ë°˜í™˜í•˜ëŠ”ê²ƒì„ í™•ì¸í• ìˆ˜ ìˆë‹¤.
 RestTemplate í˜¸ì¶œ ë§í¬  try { ClientHttpRequest request = createRequest(url, method); if (requestCallback != null) { requestCallback.doWithRequest(request); } response = request.execute(); handleResponse(url, method, response); if (responseExtractor != null) { return responseExtractor.extractData(response); } else { return null; } } catch (IOException ex) {  ì—ëŸ¬ íŒë³„ ë§í¬  protected boolean hasError(HttpStatus statusCode) { return (statusCode.series() == HttpStatus.Series.CLIENT_ERROR || statusCode.series() == HttpStatus.Series.SERVER_ERROR); } ì„±ê³µ/ì‹¤íŒ¨ ì²˜ë¦¬ëŠ” ì–´ë–»ê²Œ í• ê²ƒì¸ê°€ ê°ì ì •ì˜í•˜ê¸° ë‚˜ë¦„ì¼ê²ƒ ê°™ë‹¤. ìš°ì„  ì•„ì£¼ ê°„ë‹¨í•˜ê²Œ RestTemplate ë¥¼ ì‚¬ìš©í• ë•Œ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•˜ì—¬ ì •ì˜ëœ ëŒ€ë¡œ 4xx, 5xxê°€ ì—ëŸ¬ë¼ê³  íŒë‹¨í•  ìˆ˜ ìˆì„ê²ƒ ê°™ê³ 
try { responseBody = restTemplate.postForObject(url, httpEntity, byte[].class); } catch (RestClientException e) { // ì—ëŸ¬ì¸ ê²½ìš° RestClientException ì„ ë‚´ë±‰ëŠ”ë‹¤.  log.error(&#34;##### restTemplate error, url = {}&#34;, url, e); } ì •ì˜ëœ ì—ëŸ¬(?)ì™€ëŠ” ì¡°ê¸ˆ ë‹¤ë¥´ê²Œ ì²˜ë¦¬í•˜ê³  ì‹¶ë‹¤ë©´ DefaultResponseErrorHandlerì„ ìƒì†ë°›ê³  hasErrorë©”ì†Œë“œë¥¼ ë¬´ì¡°ê±´ íŒ¨ìŠ¤í•˜ë„ë¡ Override í•˜ê³ ë‚œ ë‹¤ìŒ ì‘ë‹µ ì½”ë“œë¥¼ ë°›ì•„ì„œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì´ ìˆì„ìˆ˜ ìˆê² ë‹¤. (ë¬¼ë¡  ì´ëŸ¬í•œ ë°©ë²• ë§ê³  ë‹¤ì–‘í•œ ë°©ë²•ì´ ìˆì„ê²ƒ ê°™ë‹¤.)]]></description></item></channel></rss>