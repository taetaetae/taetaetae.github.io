<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>그런 개발자로 괜찮은가 - '로그 & 모니터링' 편 - 👨‍💻꿈꾸는 태태태의 공간</title><meta name=Description content><meta property="og:title" content="그런 개발자로 괜찮은가 - '로그 & 모니터링' 편"><meta property="og:description" content="캐릭터를 육성하며 게임하는 경우를 생각해 보자. 더 좋은 아이템을 얻거나 퀘스트를 달성하기 위해 당신은 다양한 방법을 통해 캐릭터를 성장시킨다. 사냥을 하다 체력이 떨어지게 되면 물약을 먹고, 캐릭터의 능력 중 부족한 부분이 있으면 훈련을 더 하거나 그에 맞는 아이템을 장착하게 된다. 이렇게 캐릭터의 &lsquo;상태&rsquo;를 적절한 UI를 통해 사용자에게 알려주기 때문에 &lsquo;확인&rsquo;이 가능하고 &lsquo;대응&rsquo;이 가능하게 된다.
　우리가 만드는 애플리케이션 또한 위에서 이야기 한 게임상의 캐릭터가 아닐까 싶다. 복잡한 스펙을 다양한 테스트 케이스를 만들며 로직 동작에는 이상이 없음을 확인했다면 그걸로 만족할 수 있을까? 개발자의 &lsquo;레벨&rsquo;은 이 부분에서 차이가 난다고 생각한다. 운영환경에 출시한 애플리케이션에 에러가 나는지, 트래픽이 얼마나 들어오고 있고 트래픽의 유형은 또 어떠한지, 요청에 대한 응답속도는 어떻고 서버의 시스템 지표에는 문제가 없는지 등등. 애플리케이션의 유형에 따라 다양하겠지만 적절한 로그를 이용하여 애플리케이션의 &lsquo;상태&rsquo;를 확인하고 문제가 있다면 &lsquo;대응&rsquo;하는 게 꼭 필요하다고 생각한다.
　이번 포스팅에서는 크게 로깅과 모니터링에 대해 알아보고자 한다. 이를 통해 애플리케이션의 &lsquo;개발&rsquo;에만 집중하고 있던 관점을 보다 더 높은 곳에서 바라보며 애플리케이션의 &lsquo;운영&rsquo; 측면에서도 고민해 보는 기회가 되었으면 한다.
 필자는 서버 개발자이다 보니 글의 내용이 다소 서버 개발자의 시선에서 작성하게 되었다. 하지만 &lsquo;개발자&rsquo;라면 유형만 다르지 대부분 비슷하기 때문에 크게 다르지 않다고 생각한다.
 로그는 어떤걸, 어떻게 남겨야 할까? 　﻿로그가 왜 필요한지에 대한 내용은 다루지 않겠다. (굳이 말하지 않아도 그만큼 중요하다는 표현이 더 어울릴 수도 있겠다.) 그렇다면 우선 어떤 로그를 남겨야 할까?
필자가 꿈나무 시절때 나누었던 조직장님과의 대화 내용&#34; 필자가 꿈나무 시절때 나누었던 조직장님과의 대화 내용  　﻿아직까지도 기억에 남아있는 예전 조직 장님과의 대화. 일단 로그는 최대한 많이 (과하게) 남겨야 한다고 생각한다. 그다음 불필요한 로그들은 제거하거나 레벨을 낮추는 등 상황에 맞도록 커스터마이징이 필요하다. 경험을 해보면 알겠지만 운영환경에 애플리케이션을 배포하고 서비스를 운영하다 보면 개발 환경에서 만나기 어렵거나 경험해보지 못한 상황이 발생하곤 한다. 이럴 때 상황에 맞는 로그들이 있다면 미리 남겨둔 로그를 통해 더 효과적으로 상황을 파악할 수 있다. 트래픽의 정보(request url, parameter, UA, remote ip 등)를 남겨서 외부에서 호출하는 형태를 분석하는데 활용할 수도 있고, 애플리케이션에서 외부로 호출을 하고 난 뒤에 받는 응답에 대해서 로그를 남겨두면 외부 통신의 오류를 파악하는 데 도움이 될 수 있다. 어떤 로그를 남겨야 하는가에 대한 고민은 운영하는 애플리케이션이 어떤 행동을 하는가에 관점을 두고 고민해보면 좀 더 쉽게 찾을 수 있을 것이라 생각한다.
　로그를 남기는 방법 또한 다양하다. 시스템 로컬에 파일로 남기거나 특정 로그 서버를 설정하여 여러 대의 서버 로그를 한곳에서 볼 수도 있다. 다만 로그를 &lsquo;남기는&rsquo; 것 또한 하나의 비용에 포함되기 때문에 애플리케이션의 기능에 최대한 영향이 가지 않도록 최대한 빠른 시간 내에 처리가 되도록 해야 한다. (혹은 비동기로 남기거나 등)
　로그를 남기는 이유 중 가장 큰 이유는 &lsquo;나중에 보기 위해서&rsquo;이다. 그만큼 한번 로그를 남길 때에도 보기 좋게 남겨야 한다. 예컨대, 아래에 적어놓은 로그 방식의 경우 작은 차이지만 나중에 볼 때 꽤 큰 차이를 유발한다. ﻿
 안좋은 예  try { ... } catch (Exception e){ log.Error(e); // 어떤 상황이지..? }  보다 조금 더 좋은 예  try { ... } catch (Exception e){ log.Error(&#34;url : &#34; + url + &#34;, parameter : &#34; + parameter + &#34;, remote ip : &#34; + remoteIp, e); // 로그는 가급적 자세하게 ! } 로그가 가져다 주는 또 다른 세상 　로그는 또 다른 데이터가 될 수 있다."><meta property="og:type" content="article"><meta property="og:url" content="https://taetaetae.github.io/2020/10/04/a-good-developer-in-terms-of-log-and-monitoring/"><meta property="og:image" content="https://taetaetae.github.io/images/a-good-developer-in-terms-of-Log-and-Monitoring/logAndMonitoring-logo.jpg"><meta property="article:published_time" content="2020-10-04T15:39:15+00:00"><meta property="article:modified_time" content="2020-10-04T15:39:15+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://taetaetae.github.io/images/a-good-developer-in-terms-of-Log-and-Monitoring/logAndMonitoring-logo.jpg"><meta name=twitter:title content="그런 개발자로 괜찮은가 - '로그 & 모니터링' 편"><meta name=twitter:description content="캐릭터를 육성하며 게임하는 경우를 생각해 보자. 더 좋은 아이템을 얻거나 퀘스트를 달성하기 위해 당신은 다양한 방법을 통해 캐릭터를 성장시킨다. 사냥을 하다 체력이 떨어지게 되면 물약을 먹고, 캐릭터의 능력 중 부족한 부분이 있으면 훈련을 더 하거나 그에 맞는 아이템을 장착하게 된다. 이렇게 캐릭터의 &lsquo;상태&rsquo;를 적절한 UI를 통해 사용자에게 알려주기 때문에 &lsquo;확인&rsquo;이 가능하고 &lsquo;대응&rsquo;이 가능하게 된다.
　우리가 만드는 애플리케이션 또한 위에서 이야기 한 게임상의 캐릭터가 아닐까 싶다. 복잡한 스펙을 다양한 테스트 케이스를 만들며 로직 동작에는 이상이 없음을 확인했다면 그걸로 만족할 수 있을까? 개발자의 &lsquo;레벨&rsquo;은 이 부분에서 차이가 난다고 생각한다. 운영환경에 출시한 애플리케이션에 에러가 나는지, 트래픽이 얼마나 들어오고 있고 트래픽의 유형은 또 어떠한지, 요청에 대한 응답속도는 어떻고 서버의 시스템 지표에는 문제가 없는지 등등. 애플리케이션의 유형에 따라 다양하겠지만 적절한 로그를 이용하여 애플리케이션의 &lsquo;상태&rsquo;를 확인하고 문제가 있다면 &lsquo;대응&rsquo;하는 게 꼭 필요하다고 생각한다.
　이번 포스팅에서는 크게 로깅과 모니터링에 대해 알아보고자 한다. 이를 통해 애플리케이션의 &lsquo;개발&rsquo;에만 집중하고 있던 관점을 보다 더 높은 곳에서 바라보며 애플리케이션의 &lsquo;운영&rsquo; 측면에서도 고민해 보는 기회가 되었으면 한다.
 필자는 서버 개발자이다 보니 글의 내용이 다소 서버 개발자의 시선에서 작성하게 되었다. 하지만 &lsquo;개발자&rsquo;라면 유형만 다르지 대부분 비슷하기 때문에 크게 다르지 않다고 생각한다.
 로그는 어떤걸, 어떻게 남겨야 할까? 　﻿로그가 왜 필요한지에 대한 내용은 다루지 않겠다. (굳이 말하지 않아도 그만큼 중요하다는 표현이 더 어울릴 수도 있겠다.) 그렇다면 우선 어떤 로그를 남겨야 할까?
필자가 꿈나무 시절때 나누었던 조직장님과의 대화 내용&#34; 필자가 꿈나무 시절때 나누었던 조직장님과의 대화 내용  　﻿아직까지도 기억에 남아있는 예전 조직 장님과의 대화. 일단 로그는 최대한 많이 (과하게) 남겨야 한다고 생각한다. 그다음 불필요한 로그들은 제거하거나 레벨을 낮추는 등 상황에 맞도록 커스터마이징이 필요하다. 경험을 해보면 알겠지만 운영환경에 애플리케이션을 배포하고 서비스를 운영하다 보면 개발 환경에서 만나기 어렵거나 경험해보지 못한 상황이 발생하곤 한다. 이럴 때 상황에 맞는 로그들이 있다면 미리 남겨둔 로그를 통해 더 효과적으로 상황을 파악할 수 있다. 트래픽의 정보(request url, parameter, UA, remote ip 등)를 남겨서 외부에서 호출하는 형태를 분석하는데 활용할 수도 있고, 애플리케이션에서 외부로 호출을 하고 난 뒤에 받는 응답에 대해서 로그를 남겨두면 외부 통신의 오류를 파악하는 데 도움이 될 수 있다. 어떤 로그를 남겨야 하는가에 대한 고민은 운영하는 애플리케이션이 어떤 행동을 하는가에 관점을 두고 고민해보면 좀 더 쉽게 찾을 수 있을 것이라 생각한다.
　로그를 남기는 방법 또한 다양하다. 시스템 로컬에 파일로 남기거나 특정 로그 서버를 설정하여 여러 대의 서버 로그를 한곳에서 볼 수도 있다. 다만 로그를 &lsquo;남기는&rsquo; 것 또한 하나의 비용에 포함되기 때문에 애플리케이션의 기능에 최대한 영향이 가지 않도록 최대한 빠른 시간 내에 처리가 되도록 해야 한다. (혹은 비동기로 남기거나 등)
　로그를 남기는 이유 중 가장 큰 이유는 &lsquo;나중에 보기 위해서&rsquo;이다. 그만큼 한번 로그를 남길 때에도 보기 좋게 남겨야 한다. 예컨대, 아래에 적어놓은 로그 방식의 경우 작은 차이지만 나중에 볼 때 꽤 큰 차이를 유발한다. ﻿
 안좋은 예  try { ... } catch (Exception e){ log.Error(e); // 어떤 상황이지..? }  보다 조금 더 좋은 예  try { ... } catch (Exception e){ log.Error(&#34;url : &#34; + url + &#34;, parameter : &#34; + parameter + &#34;, remote ip : &#34; + remoteIp, e); // 로그는 가급적 자세하게 ! } 로그가 가져다 주는 또 다른 세상 　로그는 또 다른 데이터가 될 수 있다."><meta name=application-name content="👨‍💻꿈꾸는 태태태의 공간"><meta name=apple-mobile-web-app-title content="👨‍💻꿈꾸는 태태태의 공간"><meta name=naver-site-verification content="2d1cdbb963ba178aa7cbf58500afc668cae1e645"><meta name=google-site-verification content="vvFCdv0-GuQhEWG8vtNJfA7YSY2HYQ1hpHh9P-a6Pv8"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://taetaetae.github.io/2020/10/04/a-good-developer-in-terms-of-log-and-monitoring/><link rel=prev href=https://taetaetae.github.io/2020/09/07/github-pullrequest-build/><link rel=next href=https://taetaetae.github.io/posts/blog-reorganization-by-hugo/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"그런 개발자로 괜찮은가 - '로그 \u0026 모니터링' 편","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/taetaetae.github.io\/2020\/10\/04\/a-good-developer-in-terms-of-log-and-monitoring\/"},"genre":"posts","keywords":"log, monitoring, a-good-developer, archives-2020","wordcount":994,"url":"https:\/\/taetaetae.github.io\/2020\/10\/04\/a-good-developer-in-terms-of-log-and-monitoring\/","datePublished":"2020-10-04T15:39:15+00:00","dateModified":"2020-10-04T15:39:15+00:00","publisher":{"@type":"Organization","name":"태태태"},"author":{"@type":"Person","name":"태태태"},"description":""}</script></head><body header-desktop=auto header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="👨‍💻꿈꾸는 태태태의 공간">👨‍💻꿈꾸는 태태태의 공간</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="👨‍💻꿈꾸는 태태태의 공간">👨‍💻꿈꾸는 태태태의 공간</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/>Posts</a><a class=menu-item href=/tags/>Tags</a><a class=menu-item href=/categories/>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:inline-block;width:260px;height:600px data-ad-client=ca-pub-5788330009690816 data-ad-slot=2248955907></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div><article class="page single"><h1 class="single-title animated flipInX">그런 개발자로 괜찮은가 - '로그 & 모니터링' 편</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://taetaetae.github.io/resume title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>태태태</a></span>&nbsp;<span class=post-category>included in <a href=/categories/essay/><i class="far fa-folder fa-fw"></i>essay</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2020-10-04>2020-10-04</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;994 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;5 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/images/a-good-developer-in-terms-of-Log-and-Monitoring/logAndMonitoring-logo.jpg data-srcset="/images/a-good-developer-in-terms-of-Log-and-Monitoring/logAndMonitoring-logo.jpg, /images/a-good-developer-in-terms-of-Log-and-Monitoring/logAndMonitoring-logo.jpg 1.5x, /images/a-good-developer-in-terms-of-Log-and-Monitoring/logAndMonitoring-logo.jpg 2x" data-sizes=auto alt=/images/a-good-developer-in-terms-of-Log-and-Monitoring/logAndMonitoring-logo.jpg title=/images/a-good-developer-in-terms-of-Log-and-Monitoring/logAndMonitoring-logo.jpg></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#로그는-어떤걸-어떻게-남겨야-할까>로그는 어떤걸, 어떻게 남겨야 할까?</a></li><li><a href=#로그가-가져다-주는-또-다른-세상>로그가 가져다 주는 또 다른 세상</a></li><li><a href=#환상의-조합-모니터링과-알림>환상의 조합, 모니터링과 &lsquo;알림&rsquo;</a></li><li><a href=#마치며>마치며</a></li></ul></nav></div></div><div class=content id=content><p>　캐릭터를 육성하며 게임하는 경우를 생각해 보자. 더 좋은 아이템을 얻거나 퀘스트를 달성하기 위해 당신은 다양한 방법을 통해 캐릭터를 성장시킨다. 사냥을 하다 체력이 떨어지게 되면 물약을 먹고, 캐릭터의 능력 중 부족한 부분이 있으면 훈련을 더 하거나 그에 맞는 아이템을 장착하게 된다. 이렇게 캐릭터의 &lsquo;상태&rsquo;를 적절한 UI를 통해 사용자에게 알려주기 때문에 &lsquo;확인&rsquo;이 가능하고 &lsquo;대응&rsquo;이 가능하게 된다.</p><p>　우리가 만드는 애플리케이션 또한 위에서 이야기 한 게임상의 캐릭터가 아닐까 싶다. 복잡한 스펙을 다양한 테스트 케이스를 만들며 로직 동작에는 이상이 없음을 확인했다면 그걸로 만족할 수 있을까? 개발자의 &lsquo;레벨&rsquo;은 이 부분에서 차이가 난다고 생각한다. 운영환경에 출시한 애플리케이션에 에러가 나는지, 트래픽이 얼마나 들어오고 있고 트래픽의 유형은 또 어떠한지, 요청에 대한 응답속도는 어떻고 서버의 시스템 지표에는 문제가 없는지 등등. 애플리케이션의 유형에 따라 다양하겠지만 적절한 로그를 이용하여 애플리케이션의 &lsquo;상태&rsquo;를 확인하고 문제가 있다면 &lsquo;대응&rsquo;하는 게 꼭 필요하다고 생각한다.</p><p>　이번 포스팅에서는 크게 로깅과 모니터링에 대해 알아보고자 한다. 이를 통해 애플리케이션의 &lsquo;개발&rsquo;에만 집중하고 있던 관점을 보다 더 높은 곳에서 바라보며 애플리케이션의 &lsquo;운영&rsquo; 측면에서도 고민해 보는 기회가 되었으면 한다.</p><blockquote><p>필자는 서버 개발자이다 보니 글의 내용이 다소 서버 개발자의 시선에서 작성하게 되었다. 하지만 &lsquo;개발자&rsquo;라면 유형만 다르지 대부분 비슷하기 때문에 크게 다르지 않다고 생각한다.</p></blockquote><h2 id=로그는-어떤걸-어떻게-남겨야-할까>로그는 어떤걸, 어떻게 남겨야 할까?</h2><p>　﻿로그가 왜 필요한지에 대한 내용은 다루지 않겠다. (굳이 말하지 않아도 그만큼 중요하다는 표현이 더 어울릴 수도 있겠다.) 그렇다면 우선 어떤 로그를 남겨야 할까?</p><figure><a class=lightgallery href=/images/a-good-developer-in-terms-of-Log-and-Monitoring/talk.jpg title=/images/a-good-developer-in-terms-of-Log-and-Monitoring/talk.jpg data-thumbnail=/images/a-good-developer-in-terms-of-Log-and-Monitoring/talk.jpg data-sub-html="<h2>필자가 꿈나무 시절때 나누었던 조직장님과의 대화 내용</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/a-good-developer-in-terms-of-Log-and-Monitoring/talk.jpg data-srcset="/images/a-good-developer-in-terms-of-Log-and-Monitoring/talk.jpg, /images/a-good-developer-in-terms-of-Log-and-Monitoring/talk.jpg 1.5x, /images/a-good-developer-in-terms-of-Log-and-Monitoring/talk.jpg 2x" data-sizes=auto alt=/images/a-good-developer-in-terms-of-Log-and-Monitoring/talk.jpg width=40%></a><figcaption class=image-caption>필자가 꿈나무 시절때 나누었던 조직장님과의 대화 내용</figcaption></figure><p>　﻿아직까지도 기억에 남아있는 예전 조직 장님과의 대화. 일단 로그는 최대한 많이 (과하게) 남겨야 한다고 생각한다. 그다음 불필요한 로그들은 제거하거나 레벨을 낮추는 등 상황에 맞도록 커스터마이징이 필요하다. 경험을 해보면 알겠지만 운영환경에 애플리케이션을 배포하고 서비스를 운영하다 보면 개발 환경에서 만나기 어렵거나 경험해보지 못한 상황이 발생하곤 한다. 이럴 때 상황에 맞는 로그들이 있다면 미리 남겨둔 로그를 통해 더 효과적으로 상황을 파악할 수 있다. 트래픽의 정보(request url, parameter, UA, remote ip 등)를 남겨서 외부에서 호출하는 형태를 분석하는데 활용할 수도 있고, 애플리케이션에서 외부로 호출을 하고 난 뒤에 받는 응답에 대해서 로그를 남겨두면 외부 통신의 오류를 파악하는 데 도움이 될 수 있다. 어떤 로그를 남겨야 하는가에 대한 고민은 운영하는 애플리케이션이 어떤 행동을 하는가에 관점을 두고 고민해보면 좀 더 쉽게 찾을 수 있을 것이라 생각한다.</p><p>　로그를 남기는 방법 또한 다양하다. 시스템 로컬에 파일로 남기거나 특정 로그 서버를 설정하여 여러 대의 서버 로그를 한곳에서 볼 수도 있다. 다만 로그를 &lsquo;남기는&rsquo; 것 또한 하나의 비용에 포함되기 때문에 애플리케이션의 기능에 최대한 영향이 가지 않도록 최대한 빠른 시간 내에 처리가 되도록 해야 한다. (혹은 비동기로 남기거나 등)</p><p>　로그를 남기는 이유 중 가장 큰 이유는 &lsquo;나중에 보기 위해서&rsquo;이다. 그만큼 한번 로그를 남길 때에도 보기 좋게 남겨야 한다. 예컨대, 아래에 적어놓은 로그 방식의 경우 작은 차이지만 나중에 볼 때 꽤 큰 차이를 유발한다.
﻿</p><ul><li>안좋은 예</li></ul><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=k>try</span> <span class=o>{</span>
	<span class=o>...</span>
<span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>Exception</span> <span class=n>e</span><span class=o>){</span>
	<span class=n>log</span><span class=o>.</span><span class=na>Error</span><span class=o>(</span><span class=n>e</span><span class=o>);</span> <span class=c1>// 어떤 상황이지..?
</span><span class=c1></span><span class=o>}</span>
</code></pre></div><ul><li>보다 조금 더 좋은 예</li></ul><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=k>try</span> <span class=o>{</span>
	<span class=o>...</span>
<span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>Exception</span> <span class=n>e</span><span class=o>){</span>
	<span class=n>log</span><span class=o>.</span><span class=na>Error</span><span class=o>(</span><span class=s>&#34;url : &#34;</span> <span class=o>+</span> <span class=n>url</span> <span class=o>+</span> <span class=s>&#34;, parameter : &#34;</span> <span class=o>+</span> <span class=n>parameter</span> <span class=o>+</span> <span class=s>&#34;, remote ip : &#34;</span> <span class=o>+</span> <span class=n>remoteIp</span><span class=o>,</span> <span class=n>e</span><span class=o>);</span> <span class=c1>// 로그는 가급적 자세하게 !
</span><span class=c1></span><span class=o>}</span>
</code></pre></div><h2 id=로그가-가져다-주는-또-다른-세상>로그가 가져다 주는 또 다른 세상</h2><p>　로그는 또 다른 데이터가 될 수 있다. 글 목록을 보여주는 웹페이지가 있다고 가정해보자. 이때 사용자들이 어떤 글을 더 많이 읽는지 &lsquo;클릭 지표&rsquo;에 대한 로그를 남겨 둔다면 &lsquo;인기글&rsquo; 같은 또 다른 웹 페이지가 나올 수 있을 것 같다. 만약 그 페이지가 회원만 읽을 수 있는 페이지라면 &lsquo;20대 남성이 월요일 오후에 많이 읽는 글&rsquo; 같이 회원의 정보를 조합하여 새로운 데이터를 만들 수 있게 된다. 이러한 데이터들은 보다 더 좋은 서비스를 할 수 있게 도와줄 수 있는 밑거름이 되고 그 바탕은 로그라는 걸 명심하자.</p><p>　시스템의 다양한 메트릭(Metric) 을 수집하고 이를 대시보드화하여 시스템 상태를 파악하는 데 도 도움을 줄 수 있다. 엄청난 트래픽이 예상되는 이벤트를 진행한다고 가정해보자. 이럴 때 실시간으로 로그를 수집해서 미리 구성해둔 모니터링 시스템이 없다면 무엇을 봐야 할지도 모르고 문제가 어디서 발생하는지조차 모르기 때문에 &lsquo;서버 다운&rsquo;이라는 최악의 상황까지 발생할 수 있다. 애플리케이션을 만들면 언제라도 상태를 한눈에 파악할 수 있는 모니터링 대시보드로써 문제가 발생했을 때 문제점을 빨리 파악하고 대응을 할 수 있는 최소한의 장치를 마련해 두는 연습을 해두자.</p><figure><a class=lightgallery href=/images/a-good-developer-in-terms-of-Log-and-Monitoring/monitoring_dashboard.jpg title=/images/a-good-developer-in-terms-of-Log-and-Monitoring/monitoring_dashboard.jpg data-thumbnail=/images/a-good-developer-in-terms-of-Log-and-Monitoring/monitoring_dashboard.jpg data-sub-html="<h2>구글에서 검색해보면 정말 다양한 형태로 모니터링 대시보드를 구성하는 모습을 볼 수 있다.</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/a-good-developer-in-terms-of-Log-and-Monitoring/monitoring_dashboard.jpg data-srcset="/images/a-good-developer-in-terms-of-Log-and-Monitoring/monitoring_dashboard.jpg, /images/a-good-developer-in-terms-of-Log-and-Monitoring/monitoring_dashboard.jpg 1.5x, /images/a-good-developer-in-terms-of-Log-and-Monitoring/monitoring_dashboard.jpg 2x" data-sizes=auto alt=/images/a-good-developer-in-terms-of-Log-and-Monitoring/monitoring_dashboard.jpg width=60%></a><figcaption class=image-caption>구글에서 검색해보면 정말 다양한 형태로 모니터링 대시보드를 구성하는 모습을 볼 수 있다.</figcaption></figure><h2 id=환상의-조합-모니터링과-알림>환상의 조합, 모니터링과 &lsquo;알림&rsquo;</h2><p>　로그를 기가 막히게 남겨두고, 모니터링 대시보드도 누가 봐도 한눈에 서비스의 상태를 볼 수 있게 정말 우아하게 만들어 두었다고 가정해보자. 그렇다면 이러한 로그와 모니터링 대시보드를 눈으로 보고 있어야 할까? 퇴근은 언제 하며 잠도 안 자고 봐야 한단 말인가? 다행스럽게도 일반적인 로그에서는 로그 레벨이라는 게 존재한다. ERROR, WARN부터 INFO, DEBUG 등 이름에서도 유추할 수 있듯이 각 레벨이 의미하는 상황에 따라 레벨을 지정하여 운영할 수 있다. 예컨대 운영환경에서는 ERROR만 남긴다거나, 개발 환경에서는 DEBUG 레벨까지 남기는 설정을 할 수 있다.</p><figure><a class=lightgallery href=/images/a-good-developer-in-terms-of-Log-and-Monitoring/alert.gif title=/images/a-good-developer-in-terms-of-Log-and-Monitoring/alert.gif data-thumbnail=/images/a-good-developer-in-terms-of-Log-and-Monitoring/alert.gif data-sub-html="<h2>알림은 개발자의 시간을 단축해준다. 출처 : https://gifer.com/en/SzNQ</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/a-good-developer-in-terms-of-Log-and-Monitoring/alert.gif data-srcset="/images/a-good-developer-in-terms-of-Log-and-Monitoring/alert.gif, /images/a-good-developer-in-terms-of-Log-and-Monitoring/alert.gif 1.5x, /images/a-good-developer-in-terms-of-Log-and-Monitoring/alert.gif 2x" data-sizes=auto alt=/images/a-good-developer-in-terms-of-Log-and-Monitoring/alert.gif width=60%></a><figcaption class=image-caption>알림은 개발자의 시간을 단축해준다.<br>출처 : <a href=https://gifer.com/en/SzNQ>https://gifer.com/en/SzNQ</a></figcaption></figure><p>　로그 시스템에서는 알림 기능을 제공하고 있다. (제공하지 않는 경우 직접 구현을 해야 할 수도 있다.) 그래서 지정한 주기 내에서 지정한 횟수로 로그가 발생하면 이를 감지하여 시스템 관리자에게 메신저나 문자 등으로 알림을 발송해 주는 시스템이 필요하다. 단, 이러한 알림이 너무 잦거나 알림 발송의 기준이 너무 추상적이라면 &lsquo;알림&rsquo;에 대한 인식이 둔해질 수 있기 때문에 정말 필요한 알림만 발송될 수 있게 해둬야 한다. 반대로, 알림을 받고는 있지만 지금 당장 대응하지 않을 이슈라면 알림을 받지 않는 게 정상이다. 그렇기에 앞서 이야기 한 로그 레벨 설정이 정말 중요하다. (이 로그가 정말 ERROR 레벨인가? WARN이나 INFO는 아닐까?)</p><h2 id=마치며>마치며</h2><p>　개발을 할 때 변수의 자료형이 몇 바이트이고 이를 얼마나 사용하기 때문에 메모리를 얼마나 사용하고 cpu는 몇 core이니까 얼마나 자원을 사용하고 가비지 컬렉션이 차지하는 용량은 &mldr; 이렇게 개발 단계부터 디테일하게 개발하진 않는다. (물론 엄청난 성능을 요하는 core 모듈 개발이라면 모를까&mldr;) 보통은 기능 개발을 끝내고선 로그와 시스템 지표를 확인하고 그다음에 튜닝을 하는 방식으로 하게 된다. 요즘엔 애플리케이션의 기반이 되는 서버(혹은 클라이언트)의 성능이 좋기 때문에 더욱더 개발을 끝난 뒤에 성능 테스트의 결과에 따라 서버를 증설할지 로직을 튜닝할지 결정하게 되는데 여기에서도 가장 핵심은 &lsquo;로그&rsquo; 와 &lsquo;모니터링&rsquo;이다.</p><p>　문제가 발생하면 가장 먼저 해야 할 게 무엇일까? 선임/동료 개발자에게 물어보기일까? 아님 restart(재부팅)? 입이 닳도록 아깝지 않을 정도로 &lsquo;로그&rsquo;를 먼저 봐야 한다고 말하고 싶다. 만약 재부팅을 하더라도 문제 되고 있는 현재 시스템 상태의 로그를 남겨두고 (java에서는 heap/thread dump 등) 재부팅을 한다거나 하는 습관. 개발을 아무리 잘해도, 테스트 코드 작성을 아무리 잘해도 &lsquo;로그&rsquo;와 &lsquo;모니터링&rsquo;을 빼놓고선 서비스 운영을 논할 수 없기에 꼭 다양한 연습으로 습관화하는 게 필요할 것 같다.</p></div><center><style>.bmc-button img{width:27px!important;margin-bottom:1px!important;box-shadow:none!important;border:none!important;vertical-align:middle!important}.bmc-button{line-height:29px!important;height:30px!important;text-decoration:none!important;display:inline-flex!important;color:#000!important;background-color:#fd0!important;border-radius:3px!important;border:1px solid transparent!important;padding:1px 9px!important;font-size:22px!important;letter-spacing:.6px!important;box-shadow:0 1px 2px rgba(190,190,190,.5)!important;-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;margin:0 auto!important;font-family:cookie,cursive!important;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;-o-transition:.3s all linear!important;-webkit-transition:.3s all linear!important;-moz-transition:.3s all linear!important;-ms-transition:.3s all linear!important;transition:.3s all linear!important}.bmc-button:hover,.bmc-button:active,.bmc-button:focus{-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;text-decoration:none!important;box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;opacity:.85!important;color:#000!important}</style><link href="https://fonts.googleapis.com/css?family=Cookie" rel=stylesheet><center><br><a class=bmc-button target=_blank href=https://www.buymeacoffee.com/taetaetae><img src=https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg alt="Buy me a coffee"><span style=margin-left:5px>Buy me a coffee</span></a>
<a href=https://bit.ly/ddbSupport target=_blank><img src=https://i.imgur.com/peaYpjh.png style=height:28px></a></center><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2020-10-04</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://taetaetae.github.io/2020/10/04/a-good-developer-in-terms-of-log-and-monitoring/ data-title="그런 개발자로 괜찮은가 - '로그 & 모니터링' 편" data-hashtags=log,monitoring,a-good-developer,archives-2020><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://taetaetae.github.io/2020/10/04/a-good-developer-in-terms-of-log-and-monitoring/ data-hashtag=log><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://taetaetae.github.io/2020/10/04/a-good-developer-in-terms-of-log-and-monitoring/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Blogger" data-sharer=blogger data-url=https://taetaetae.github.io/2020/10/04/a-good-developer-in-terms-of-log-and-monitoring/ data-title="그런 개발자로 괜찮은가 - '로그 & 모니터링' 편" data-description><i class="fab fa-blogger fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/log/>log</a>,&nbsp;<a href=/tags/monitoring/>monitoring</a>,&nbsp;<a href=/tags/a-good-developer/>a-good-developer</a>,&nbsp;<a href=/tags/archives-2020/>archives-2020</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/2020/09/07/github-pullrequest-build/ class=prev rel=prev title="빌드/테스트는 내가 해줄게. 너는 코딩에 집중해 (by GitHub Pull Request Builder)"><i class="fas fa-angle-left fa-fw"></i>빌드/테스트는 내가 해줄게. 너는 코딩에 집중해 (by GitHub Pull Request Builder)</a>
<a href=/posts/blog-reorganization-by-hugo/ class=next rel=next title="기술블로그 개편기 (by HUGO)">기술블로그 개편기 (by HUGO)<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=utterances></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://utteranc.es/>Utterances</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.74.3">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i>LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2016 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://taetaetae.github.io/resume target=_blank>태태태</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":500},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"Comment","lightTheme":"github-light","repo":"taetaetae/blog-comment"}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true}};</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','UA-86432198-1',{'anonymize_ip':true});</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-86432198-1" async></script></body></html>