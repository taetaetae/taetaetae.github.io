<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>스프링 부트에 필터를 '조심해서' 사용하는 두 가지 방법 -</title><meta property="og:url" content="https://taetaetae.github.io/2020/04/06/spring-boot-filter/"><meta property="og:site_name" content="My cool site"><meta property="og:title" content="스프링 부트에 필터를 '조심해서' 사용하는 두 가지 방법"><meta property="og:description" content='웹 어플리케이션에서 필터를 사용하면 중복으로 처리되는 내용을 한곳에서 처리할 수 있다거나 서비스의 다양한 니즈를 충족시키기에 안성맞춤인 장치인것 같다. 필터란 무엇인가 에 대한 내용은 워낙에 다른 블로그나 공식 도큐먼트에서 자세하게 그리고 다양하게 설명하고 있기에 기본 개념에 대해서는 설명하지 않도록 하려 한다. 이번 포스팅에서는 스프링 부트를 사용하면서 어노테이션이라는 간편함에 취해(?) “돌격 앞으로, 닥공” 의 자세로 개발을 하려했던 필자를 보고 “반성"의 자세로 필터를 등록하는 방법에 대해 명확하게 정리를 하고자 한다. 마지막으로는 아주 간단하면서도 엄청나게 위험한 필터 설정 사례에 대해서도 짚고 넘어가보자. 그냥 넘어가면 아쉬우니, 한번이라도 ‘spring’ 이라는 framework 를 접해본 사람이라면 봤을법한 그림을 첨부하는것으로 필터란 무엇인가 에 대한 설명을 대신하는게 좋겠다.
출처 : https://justforchangesake.wordpress.com/2014/05/07/spring-mvc-request-life-cycle/ 방법을 설명하기 전에 동일하게 사용될 필터와 컨트롤러 코드를 보면 다음과 같다.
필터 @Slf4j public class MyFilter implements Filter { @Override public void init(FilterConfig filterConfig) throws ServletException { log.info("init MyFilter"); } @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException { log.info("doFilter MyFilter, uri : {}", ((HttpServletRequest)servletRequest).getRequestURI()); filterChain.doFilter(servletRequest, servletResponse); } @Override public void destroy() { log.info("destroy MyFilter"); } } 테스트 할 컨트롤러 @Slf4j @RestController public class SampleController { @GetMapping("/test") public String test() { return "test"; } @GetMapping("/filtered/test") public String filteredTest() { return "filtered"; } } 방법 1 : FilterRegistrationBean 아주 간단하게, 일반 url 하나와 필터에 적용할 url 두개를 만들고 설정하려 한다. FilterRegistrationBean 을 이용해서 위에서 만들었던 필터를 아래처럼 등록해보자.
@SpringBootApplication public class Method1Application { public static void main(String[] args) { SpringApplication.run(Method1Application.class, args); } @Bean public FilterRegistrationBean setFilterRegistration() { FilterRegistrationBean filterRegistrationBean = new FilterRegistrationBean(new MyFilter()); // filterRegistrationBean.setUrlPatterns(Collections.singletonList("/filtered/*")); // list 를 받는 메소드 filterRegistrationBean.addUrlPatterns("/filtered/*"); // string 여러개를 가변인자로 받는 메소드 return filterRegistrationBean; } } 위 주석에도 적었지만 filterRegistrationBean 의 “setUrlPatterns” 와 “addUrlPatterns” 의 차이는 별거 없다. list 자체를 받을건지 아니면 가변인자로 계속 추가 할것인지. 이렇게 되면 “/filtered/“으로 “시작"하는 패턴의 url의 요청이 오게 되면 등록한 필터를 통과하게 된다.
실행 : 필터 생성 /\\ / ___&#39;_ __ _ _(_)_ __ __ _ \ \ \ \ ( ( )\___ | &#39;_ | &#39;_| | &#39;_ \/ _` | \ \ \ \ \\/ ___)| |_)| | | | | || (_| | ) ) ) ) &#39; |____| .__|_| |_|_| |_\__, | / / / / =========|_|==============|___/=/_/_/_/ :: Spring Boot :: (v2.2.6.RELEASE) 2020-04-06 23:45:01.225 INFO 14672 --- [ main] c.t.s.method1.Method1Application : No active profile set, falling back to default profiles: default 2020-04-06 23:45:02.153 INFO 14672 --- [ main] o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat initialized with port(s): 8080 (http) 2020-04-06 23:45:02.168 INFO 14672 --- [ main] o.apache.catalina.core.StandardService : Starting service [Tomcat] 2020-04-06 23:45:02.168 INFO 14672 --- [ main] org.apache.catalina.core.StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.33] 2020-04-06 23:45:02.361 INFO 14672 --- [ main] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring embedded WebApplicationContext 2020-04-06 23:45:02.362 DEBUG 14672 --- [ main] o.s.web.context.ContextLoader : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT] 2020-04-06 23:45:02.362 INFO 14672 --- [ main] o.s.web.context.ContextLoader : Root WebApplicationContext: initialization completed in 1082 ms 2020-04-06 23:45:02.391 DEBUG 14672 --- [ main] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/filtered/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105 2020-04-06 23:45:02.391 DEBUG 14672 --- [ main] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/] 2020-04-06 23:45:02.409 DEBUG 14672 --- [ main] o.s.b.w.s.f.OrderedRequestContextFilter : Filter &#39;requestContextFilter&#39; configured for use 2020-04-06 23:45:02.409 DEBUG 14672 --- [ main] s.b.w.s.f.OrderedCharacterEncodingFilter : Filter &#39;characterEncodingFilter&#39; configured for use // 필터가 생성 되었다! 2020-04-06 23:45:02.410 INFO 14672 --- [ main] c.t.springbootfilter.method1.MyFilter : init MyFilter 2020-04-06 23:45:02.410 DEBUG 14672 --- [ main] o.s.b.w.s.f.OrderedFormContentFilter : Filter &#39;formContentFilter&#39; configured for use 2020-04-06 23:45:02.544 INFO 14672 --- [ main] o.s.s.concurrent.ThreadPoolTaskExecutor : Initializing ExecutorService &#39;applicationTaskExecutor&#39; 일반 url 2020-04-06 23:45:27.526 DEBUG 14672 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet : GET "/test", parameters={} 2020-04-06 23:45:27.528 DEBUG 14672 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.taetaetae.springbootfilter.method1.SampleController#test() 2020-04-06 23:45:27.548 DEBUG 14672 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using &#39;text/html&#39;, given [text/html, application/xhtml+xml, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8] and supported [text/plain, */*, text/plain, */*, application/json, application/*+json, application/json, application/*+json] 2020-04-06 23:45:27.548 DEBUG 14672 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing ["test"] 2020-04-06 23:45:27.555 DEBUG 14672 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet : Completed 200 OK 필터링 url // 필터에 들어온것 확인! 2020-04-06 23:45:37.455 INFO 14672 --- [nio-8080-exec-2] c.t.springbootfilter.method1.MyFilter : doFilter MyFilter, uri : /filtered/test 2020-04-06 23:45:37.456 DEBUG 14672 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet : GET "/filtered/test", parameters={} 2020-04-06 23:45:37.456 DEBUG 14672 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.taetaetae.springbootfilter.method1.SampleController#filteredTest() 2020-04-06 23:45:37.457 DEBUG 14672 --- [nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using &#39;text/html&#39;, given [text/html, application/xhtml+xml, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8] and supported [text/plain, */*, text/plain, */*, application/json, application/*+json, application/json, application/*+json] 2020-04-06 23:45:37.457 DEBUG 14672 --- [nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing ["filtered"] 2020-04-06 23:45:37.459 DEBUG 14672 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet : Completed 200 OK 방법 2 : @WebFilter + @ServletComponentScan @ServletComponentScan 어노테이션을 @Configuration 어노테이션이 설정되어 있는곳에 걸어준 다음 위에서 설정한 필터에 @WebFilter 어노테이션을 설정해주면 아주 간단하게 끝이 난다.'><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-04-06T23:59:36+00:00"><meta property="article:modified_time" content="2020-04-06T23:59:36+00:00"><meta property="article:tag" content="Spring Boot"><meta property="article:tag" content="Filter"><meta property="article:tag" content="Archives-2020"><meta property="og:image" content="https://taetaetae.github.io/images/spring-boot-filter/spring-request-lifecycle.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://taetaetae.github.io/images/spring-boot-filter/spring-request-lifecycle.jpg"><meta name=twitter:title content="스프링 부트에 필터를 '조심해서' 사용하는 두 가지 방법"><meta name=twitter:description content='웹 어플리케이션에서 필터를 사용하면 중복으로 처리되는 내용을 한곳에서 처리할 수 있다거나 서비스의 다양한 니즈를 충족시키기에 안성맞춤인 장치인것 같다. 필터란 무엇인가 에 대한 내용은 워낙에 다른 블로그나 공식 도큐먼트에서 자세하게 그리고 다양하게 설명하고 있기에 기본 개념에 대해서는 설명하지 않도록 하려 한다. 이번 포스팅에서는 스프링 부트를 사용하면서 어노테이션이라는 간편함에 취해(?) “돌격 앞으로, 닥공” 의 자세로 개발을 하려했던 필자를 보고 “반성"의 자세로 필터를 등록하는 방법에 대해 명확하게 정리를 하고자 한다. 마지막으로는 아주 간단하면서도 엄청나게 위험한 필터 설정 사례에 대해서도 짚고 넘어가보자. 그냥 넘어가면 아쉬우니, 한번이라도 ‘spring’ 이라는 framework 를 접해본 사람이라면 봤을법한 그림을 첨부하는것으로 필터란 무엇인가 에 대한 설명을 대신하는게 좋겠다.
출처 : https://justforchangesake.wordpress.com/2014/05/07/spring-mvc-request-life-cycle/ 방법을 설명하기 전에 동일하게 사용될 필터와 컨트롤러 코드를 보면 다음과 같다.
필터 @Slf4j public class MyFilter implements Filter { @Override public void init(FilterConfig filterConfig) throws ServletException { log.info("init MyFilter"); } @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException { log.info("doFilter MyFilter, uri : {}", ((HttpServletRequest)servletRequest).getRequestURI()); filterChain.doFilter(servletRequest, servletResponse); } @Override public void destroy() { log.info("destroy MyFilter"); } } 테스트 할 컨트롤러 @Slf4j @RestController public class SampleController { @GetMapping("/test") public String test() { return "test"; } @GetMapping("/filtered/test") public String filteredTest() { return "filtered"; } } 방법 1 : FilterRegistrationBean 아주 간단하게, 일반 url 하나와 필터에 적용할 url 두개를 만들고 설정하려 한다. FilterRegistrationBean 을 이용해서 위에서 만들었던 필터를 아래처럼 등록해보자.
@SpringBootApplication public class Method1Application { public static void main(String[] args) { SpringApplication.run(Method1Application.class, args); } @Bean public FilterRegistrationBean setFilterRegistration() { FilterRegistrationBean filterRegistrationBean = new FilterRegistrationBean(new MyFilter()); // filterRegistrationBean.setUrlPatterns(Collections.singletonList("/filtered/*")); // list 를 받는 메소드 filterRegistrationBean.addUrlPatterns("/filtered/*"); // string 여러개를 가변인자로 받는 메소드 return filterRegistrationBean; } } 위 주석에도 적었지만 filterRegistrationBean 의 “setUrlPatterns” 와 “addUrlPatterns” 의 차이는 별거 없다. list 자체를 받을건지 아니면 가변인자로 계속 추가 할것인지. 이렇게 되면 “/filtered/“으로 “시작"하는 패턴의 url의 요청이 오게 되면 등록한 필터를 통과하게 된다.
실행 : 필터 생성 /\\ / ___&#39;_ __ _ _(_)_ __ __ _ \ \ \ \ ( ( )\___ | &#39;_ | &#39;_| | &#39;_ \/ _` | \ \ \ \ \\/ ___)| |_)| | | | | || (_| | ) ) ) ) &#39; |____| .__|_| |_|_| |_\__, | / / / / =========|_|==============|___/=/_/_/_/ :: Spring Boot :: (v2.2.6.RELEASE) 2020-04-06 23:45:01.225 INFO 14672 --- [ main] c.t.s.method1.Method1Application : No active profile set, falling back to default profiles: default 2020-04-06 23:45:02.153 INFO 14672 --- [ main] o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat initialized with port(s): 8080 (http) 2020-04-06 23:45:02.168 INFO 14672 --- [ main] o.apache.catalina.core.StandardService : Starting service [Tomcat] 2020-04-06 23:45:02.168 INFO 14672 --- [ main] org.apache.catalina.core.StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.33] 2020-04-06 23:45:02.361 INFO 14672 --- [ main] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring embedded WebApplicationContext 2020-04-06 23:45:02.362 DEBUG 14672 --- [ main] o.s.web.context.ContextLoader : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT] 2020-04-06 23:45:02.362 INFO 14672 --- [ main] o.s.web.context.ContextLoader : Root WebApplicationContext: initialization completed in 1082 ms 2020-04-06 23:45:02.391 DEBUG 14672 --- [ main] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/filtered/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105 2020-04-06 23:45:02.391 DEBUG 14672 --- [ main] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/] 2020-04-06 23:45:02.409 DEBUG 14672 --- [ main] o.s.b.w.s.f.OrderedRequestContextFilter : Filter &#39;requestContextFilter&#39; configured for use 2020-04-06 23:45:02.409 DEBUG 14672 --- [ main] s.b.w.s.f.OrderedCharacterEncodingFilter : Filter &#39;characterEncodingFilter&#39; configured for use // 필터가 생성 되었다! 2020-04-06 23:45:02.410 INFO 14672 --- [ main] c.t.springbootfilter.method1.MyFilter : init MyFilter 2020-04-06 23:45:02.410 DEBUG 14672 --- [ main] o.s.b.w.s.f.OrderedFormContentFilter : Filter &#39;formContentFilter&#39; configured for use 2020-04-06 23:45:02.544 INFO 14672 --- [ main] o.s.s.concurrent.ThreadPoolTaskExecutor : Initializing ExecutorService &#39;applicationTaskExecutor&#39; 일반 url 2020-04-06 23:45:27.526 DEBUG 14672 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet : GET "/test", parameters={} 2020-04-06 23:45:27.528 DEBUG 14672 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.taetaetae.springbootfilter.method1.SampleController#test() 2020-04-06 23:45:27.548 DEBUG 14672 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using &#39;text/html&#39;, given [text/html, application/xhtml+xml, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8] and supported [text/plain, */*, text/plain, */*, application/json, application/*+json, application/json, application/*+json] 2020-04-06 23:45:27.548 DEBUG 14672 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing ["test"] 2020-04-06 23:45:27.555 DEBUG 14672 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet : Completed 200 OK 필터링 url // 필터에 들어온것 확인! 2020-04-06 23:45:37.455 INFO 14672 --- [nio-8080-exec-2] c.t.springbootfilter.method1.MyFilter : doFilter MyFilter, uri : /filtered/test 2020-04-06 23:45:37.456 DEBUG 14672 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet : GET "/filtered/test", parameters={} 2020-04-06 23:45:37.456 DEBUG 14672 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.taetaetae.springbootfilter.method1.SampleController#filteredTest() 2020-04-06 23:45:37.457 DEBUG 14672 --- [nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using &#39;text/html&#39;, given [text/html, application/xhtml+xml, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8] and supported [text/plain, */*, text/plain, */*, application/json, application/*+json, application/json, application/*+json] 2020-04-06 23:45:37.457 DEBUG 14672 --- [nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing ["filtered"] 2020-04-06 23:45:37.459 DEBUG 14672 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet : Completed 200 OK 방법 2 : @WebFilter + @ServletComponentScan @ServletComponentScan 어노테이션을 @Configuration 어노테이션이 설정되어 있는곳에 걸어준 다음 위에서 설정한 필터에 @WebFilter 어노테이션을 설정해주면 아주 간단하게 끝이 난다.'><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><meta name=naver-site-verification content="2d1cdbb963ba178aa7cbf58500afc668cae1e645"><meta name=google-site-verification content="vvFCdv0-GuQhEWG8vtNJfA7YSY2HYQ1hpHh9P-a6Pv8"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://taetaetae.github.io/2020/04/06/spring-boot-filter/><link rel=prev href=https://taetaetae.github.io/2020/03/29/better-rest-template-2-netflix-hystrix/><link rel=next href=https://taetaetae.github.io/2020/06/21/a-good-developer-in-terms-of-culture/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"스프링 부트에 필터를 '조심해서' 사용하는 두 가지 방법","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/taetaetae.github.io\/2020\/04\/06\/spring-boot-filter\/"},"genre":"posts","keywords":"spring boot, filter, archives-2020","wordcount":1575,"url":"https:\/\/taetaetae.github.io\/2020\/04\/06\/spring-boot-filter\/","datePublished":"2020-04-06T23:59:36+00:00","dateModified":"2020-04-06T23:59:36+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"태태태"},"description":""}</script></head><body data-header-desktop=auto data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title>👨‍💻꿈꾸는 태태태의 공간</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title>👨‍💻꿈꾸는 태태태의 공간</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">스프링 부트에 필터를 '조심해서' 사용하는 두 가지 방법</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://taetaetae.github.io/resume title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>태태태</a></span>&nbsp;<span class=post-category>included in <a href=/categories/tech/><i class="far fa-folder fa-fw" aria-hidden=true></i>Tech</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2020-04-06>2020-04-06</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;1575 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;8 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#방법-1--filterregistrationbean>방법 1 : FilterRegistrationBean</a></li><li><a href=#방법-2--webfilter--servletcomponentscan>방법 2 : @WebFilter + @ServletComponentScan</a></li><li><a href=#url-패턴-설정시-유의해야할-부분>url 패턴 설정시 유의해야할 부분</a></li><li><a href=#필터에-component-가-설정되어-있다면>필터에 @Component 가 설정되어 있다면?</a></li><li><a href=#마치며>마치며</a></li></ul></nav></div></div><div class=content id=content><p>웹 어플리케이션에서 필터를 사용하면 중복으로 처리되는 내용을 한곳에서 처리할 수 있다거나 서비스의 다양한 니즈를 충족시키기에 안성맞춤인 장치인것 같다. 필터란 무엇인가 에 대한 내용은 워낙에 다른 블로그나 공식 도큐먼트에서 자세하게 그리고 다양하게 설명하고 있기에 기본 개념에 대해서는 설명하지 않도록 하려 한다. 이번 포스팅에서는 스프링 부트를 사용하면서 어노테이션이라는 간편함에 취해(?) &ldquo;돌격 앞으로, 닥공&rdquo; 의 자세로 개발을 하려했던 필자를 보고 &ldquo;반성"의 자세로 필터를 등록하는 방법에 대해 명확하게 정리를 하고자 한다. 마지막으로는 아주 간단하면서도 엄청나게 위험한 필터 설정 사례에 대해서도 짚고 넘어가보자.
그냥 넘어가면 아쉬우니, 한번이라도 &lsquo;spring&rsquo; 이라는 framework 를 접해본 사람이라면 봤을법한 그림을 첨부하는것으로 필터란 무엇인가 에 대한 설명을 대신하는게 좋겠다.</p><figure><a class=lightgallery href=/images/spring-boot-filter/spring-request-lifecycle.jpg title=/images/spring-boot-filter/spring-request-lifecycle.jpg data-thumbnail=/images/spring-boot-filter/spring-request-lifecycle.jpg data-sub-html="<h2>출처 : https://justforchangesake.wordpress.com/2014/05/07/spring-mvc-request-life-cycle/</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/spring-boot-filter/spring-request-lifecycle.jpg data-srcset="/images/spring-boot-filter/spring-request-lifecycle.jpg, /images/spring-boot-filter/spring-request-lifecycle.jpg 1.5x, /images/spring-boot-filter/spring-request-lifecycle.jpg 2x" data-sizes=auto alt=/images/spring-boot-filter/spring-request-lifecycle.jpg width=50%></a><figcaption class=image-caption>출처 : <a href=https://justforchangesake.wordpress.com/2014/05/07/spring-mvc-request-life-cycle/ target=_blank rel="noopener noreffer">https://justforchangesake.wordpress.com/2014/05/07/spring-mvc-request-life-cycle/</a></figcaption></figure><p>방법을 설명하기 전에 동일하게 사용될 필터와 컨트롤러 코드를 보면 다음과 같다.</p><ul><li>필터</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Slf4j</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>MyFilter</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>Filter</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>init</span><span class=p>(</span><span class=n>FilterConfig</span><span class=w> </span><span class=n>filterConfig</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>ServletException</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=n>log</span><span class=p>.</span><span class=na>info</span><span class=p>(</span><span class=s>&#34;init MyFilter&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>doFilter</span><span class=p>(</span><span class=n>ServletRequest</span><span class=w> </span><span class=n>servletRequest</span><span class=p>,</span><span class=w> </span><span class=n>ServletResponse</span><span class=w> </span><span class=n>servletResponse</span><span class=p>,</span><span class=w> </span><span class=n>FilterChain</span><span class=w> </span><span class=n>filterChain</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=p>,</span><span class=w> </span><span class=n>ServletException</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=n>log</span><span class=p>.</span><span class=na>info</span><span class=p>(</span><span class=s>&#34;doFilter MyFilter, uri : {}&#34;</span><span class=p>,</span><span class=w> </span><span class=p>((</span><span class=n>HttpServletRequest</span><span class=p>)</span><span class=n>servletRequest</span><span class=p>).</span><span class=na>getRequestURI</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=n>filterChain</span><span class=p>.</span><span class=na>doFilter</span><span class=p>(</span><span class=n>servletRequest</span><span class=p>,</span><span class=w> </span><span class=n>servletResponse</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>destroy</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=n>log</span><span class=p>.</span><span class=na>info</span><span class=p>(</span><span class=s>&#34;destroy MyFilter&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><ul><li>테스트 할 컨트롤러</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Slf4j</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@RestController</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>SampleController</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&#34;/test&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>test</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=k>return</span><span class=w> </span><span class=s>&#34;test&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nd>@GetMapping</span><span class=p>(</span><span class=s>&#34;/filtered/test&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=kd>public</span><span class=w> </span><span class=n>String</span><span class=w> </span><span class=nf>filteredTest</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=k>return</span><span class=w> </span><span class=s>&#34;filtered&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h2 id=방법-1--filterregistrationbean>방법 1 : FilterRegistrationBean</h2><p>아주 간단하게, 일반 url 하나와 필터에 적용할 url 두개를 만들고 설정하려 한다. FilterRegistrationBean 을 이용해서 위에서 만들었던 필터를 아래처럼 등록해보자.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@SpringBootApplication</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Method1Application</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=n>SpringApplication</span><span class=p>.</span><span class=na>run</span><span class=p>(</span><span class=n>Method1Application</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=n>args</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nd>@Bean</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=kd>public</span><span class=w> </span><span class=n>FilterRegistrationBean</span><span class=w> </span><span class=nf>setFilterRegistration</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=n>FilterRegistrationBean</span><span class=w> </span><span class=n>filterRegistrationBean</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>FilterRegistrationBean</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>MyFilter</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=c1>// filterRegistrationBean.setUrlPatterns(Collections.singletonList(&#34;/filtered/*&#34;)); // list 를 받는 메소드</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=n>filterRegistrationBean</span><span class=p>.</span><span class=na>addUrlPatterns</span><span class=p>(</span><span class=s>&#34;/filtered/*&#34;</span><span class=p>);</span><span class=w> </span><span class=c1>// string 여러개를 가변인자로 받는 메소드</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=k>return</span><span class=w> </span><span class=n>filterRegistrationBean</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>위 주석에도 적었지만 filterRegistrationBean 의 &ldquo;setUrlPatterns&rdquo; 와 &ldquo;addUrlPatterns&rdquo; 의 차이는 별거 없다. list 자체를 받을건지 아니면 가변인자로 계속 추가 할것인지. 이렇게 되면 &ldquo;/filtered/&ldquo;으로 &ldquo;시작"하는 패턴의 url의 요청이 오게 되면 등록한 필터를 통과하게 된다.</p><ul><li>실행 : 필터 생성</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl> /<span class=se>\\</span> / ___<span class=s1>&#39;_ __ _ _(_)_ __  __ _ \ \ \ \
</span></span></span><span class=line><span class=cl><span class=s1>( ( )\___ | &#39;</span>_ <span class=p>|</span> <span class=s1>&#39;_| | &#39;</span>_ <span class=se>\/</span> _<span class=sb>`</span> <span class=p>|</span> <span class=se>\ \ \ \
</span></span></span><span class=line><span class=cl><span class=se></span> <span class=se>\\</span>/  ___<span class=o>)</span><span class=p>|</span> <span class=p>|</span>_<span class=o>)</span><span class=p>|</span> <span class=p>|</span> <span class=p>|</span> <span class=p>|</span> <span class=p>|</span> <span class=o>||</span> <span class=o>(</span>_<span class=p>|</span> <span class=p>|</span>  <span class=o>)</span> <span class=o>)</span> <span class=o>)</span> <span class=o>)</span>
</span></span><span class=line><span class=cl>  <span class=s1>&#39;  |____| .__|_| |_|_| |_\__, | / / / /
</span></span></span><span class=line><span class=cl><span class=s1> =========|_|==============|___/=/_/_/_/
</span></span></span><span class=line><span class=cl><span class=s1> :: Spring Boot ::        (v2.2.6.RELEASE)
</span></span></span><span class=line><span class=cl><span class=s1>
</span></span></span><span class=line><span class=cl><span class=s1>2020-04-06 23:45:01.225  INFO 14672 --- [           main] c.t.s.method1.Method1Application         : No active profile set, falling back to default profiles: default
</span></span></span><span class=line><span class=cl><span class=s1>2020-04-06 23:45:02.153  INFO 14672 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
</span></span></span><span class=line><span class=cl><span class=s1>2020-04-06 23:45:02.168  INFO 14672 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
</span></span></span><span class=line><span class=cl><span class=s1>2020-04-06 23:45:02.168  INFO 14672 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.33]
</span></span></span><span class=line><span class=cl><span class=s1>2020-04-06 23:45:02.361  INFO 14672 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
</span></span></span><span class=line><span class=cl><span class=s1>2020-04-06 23:45:02.362 DEBUG 14672 --- [           main] o.s.web.context.ContextLoader            : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
</span></span></span><span class=line><span class=cl><span class=s1>2020-04-06 23:45:02.362  INFO 14672 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1082 ms
</span></span></span><span class=line><span class=cl><span class=s1>2020-04-06 23:45:02.391 DEBUG 14672 --- [           main] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/filtered/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
</span></span></span><span class=line><span class=cl><span class=s1>2020-04-06 23:45:02.391 DEBUG 14672 --- [           main] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
</span></span></span><span class=line><span class=cl><span class=s1>2020-04-06 23:45:02.409 DEBUG 14672 --- [           main] o.s.b.w.s.f.OrderedRequestContextFilter  : Filter &#39;</span>requestContextFilter<span class=s1>&#39; configured for use
</span></span></span><span class=line><span class=cl><span class=s1>2020-04-06 23:45:02.409 DEBUG 14672 --- [           main] s.b.w.s.f.OrderedCharacterEncodingFilter : Filter &#39;</span>characterEncodingFilter<span class=s1>&#39; configured for use
</span></span></span><span class=line><span class=cl><span class=s1>
</span></span></span><span class=line><span class=cl><span class=s1>// 필터가 생성 되었다!
</span></span></span><span class=line><span class=cl><span class=s1>2020-04-06 23:45:02.410  INFO 14672 --- [           main] c.t.springbootfilter.method1.MyFilter    : init MyFilter
</span></span></span><span class=line><span class=cl><span class=s1>
</span></span></span><span class=line><span class=cl><span class=s1>2020-04-06 23:45:02.410 DEBUG 14672 --- [           main] o.s.b.w.s.f.OrderedFormContentFilter     : Filter &#39;</span>formContentFilter<span class=s1>&#39; configured for use
</span></span></span><span class=line><span class=cl><span class=s1>2020-04-06 23:45:02.544  INFO 14672 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;</span>applicationTaskExecutor<span class=err>&#39;</span>
</span></span></code></pre></div><ul><li>일반 url</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>2020-04-06 23:45:27.526 DEBUG <span class=m>14672</span> --- <span class=o>[</span>nio-8080-exec-1<span class=o>]</span> o.s.web.servlet.DispatcherServlet        : GET <span class=s2>&#34;/test&#34;</span>, <span class=nv>parameters</span><span class=o>={}</span>
</span></span><span class=line><span class=cl>2020-04-06 23:45:27.528 DEBUG <span class=m>14672</span> --- <span class=o>[</span>nio-8080-exec-1<span class=o>]</span> s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.taetaetae.springbootfilter.method1.SampleController#test<span class=o>()</span>
</span></span><span class=line><span class=cl>2020-04-06 23:45:27.548 DEBUG <span class=m>14672</span> --- <span class=o>[</span>nio-8080-exec-1<span class=o>]</span> m.m.a.RequestResponseBodyMethodProcessor : Using <span class=s1>&#39;text/html&#39;</span>, given <span class=o>[</span>text/html, application/xhtml+xml, image/webp, image/apng, application/xml<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.9, application/signed-exchange<span class=p>;</span><span class=nv>v</span><span class=o>=</span>b3<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.9, */*<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.8<span class=o>]</span> and supported <span class=o>[</span>text/plain, */*, text/plain, */*, application/json, application/*+json, application/json, application/*+json<span class=o>]</span>
</span></span><span class=line><span class=cl>2020-04-06 23:45:27.548 DEBUG <span class=m>14672</span> --- <span class=o>[</span>nio-8080-exec-1<span class=o>]</span> m.m.a.RequestResponseBodyMethodProcessor : Writing <span class=o>[</span><span class=s2>&#34;test&#34;</span><span class=o>]</span>
</span></span><span class=line><span class=cl>2020-04-06 23:45:27.555 DEBUG <span class=m>14672</span> --- <span class=o>[</span>nio-8080-exec-1<span class=o>]</span> o.s.web.servlet.DispatcherServlet        : Completed <span class=m>200</span> OK
</span></span></code></pre></div><ul><li>필터링 url</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>// 필터에 들어온것 확인!
</span></span><span class=line><span class=cl>2020-04-06 23:45:37.455  INFO <span class=m>14672</span> --- <span class=o>[</span>nio-8080-exec-2<span class=o>]</span> c.t.springbootfilter.method1.MyFilter    : doFilter MyFilter, uri : /filtered/test
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>2020-04-06 23:45:37.456 DEBUG <span class=m>14672</span> --- <span class=o>[</span>nio-8080-exec-2<span class=o>]</span> o.s.web.servlet.DispatcherServlet        : GET <span class=s2>&#34;/filtered/test&#34;</span>, <span class=nv>parameters</span><span class=o>={}</span>
</span></span><span class=line><span class=cl>2020-04-06 23:45:37.456 DEBUG <span class=m>14672</span> --- <span class=o>[</span>nio-8080-exec-2<span class=o>]</span> s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.taetaetae.springbootfilter.method1.SampleController#filteredTest<span class=o>()</span>
</span></span><span class=line><span class=cl>2020-04-06 23:45:37.457 DEBUG <span class=m>14672</span> --- <span class=o>[</span>nio-8080-exec-2<span class=o>]</span> m.m.a.RequestResponseBodyMethodProcessor : Using <span class=s1>&#39;text/html&#39;</span>, given <span class=o>[</span>text/html, application/xhtml+xml, image/webp, image/apng, application/xml<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.9, application/signed-exchange<span class=p>;</span><span class=nv>v</span><span class=o>=</span>b3<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.9, */*<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.8<span class=o>]</span> and supported <span class=o>[</span>text/plain, */*, text/plain, */*, application/json, application/*+json, application/json, application/*+json<span class=o>]</span>
</span></span><span class=line><span class=cl>2020-04-06 23:45:37.457 DEBUG <span class=m>14672</span> --- <span class=o>[</span>nio-8080-exec-2<span class=o>]</span> m.m.a.RequestResponseBodyMethodProcessor : Writing <span class=o>[</span><span class=s2>&#34;filtered&#34;</span><span class=o>]</span>
</span></span><span class=line><span class=cl>2020-04-06 23:45:37.459 DEBUG <span class=m>14672</span> --- <span class=o>[</span>nio-8080-exec-2<span class=o>]</span> o.s.web.servlet.DispatcherServlet        : Completed <span class=m>200</span> OK
</span></span></code></pre></div><h2 id=방법-2--webfilter--servletcomponentscan>방법 2 : @WebFilter + @ServletComponentScan</h2><p>@ServletComponentScan 어노테이션을 @Configuration 어노테이션이 설정되어 있는곳에 걸어준 다음 위에서 설정한 필터에 @WebFilter 어노테이션을 설정해주면 아주 간단하게 끝이 난다.</p><ul><li>@ServletComponentScan 설정</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@ServletComponentScan</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@SpringBootApplication</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Method2Application</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=n>SpringApplication</span><span class=p>.</span><span class=na>run</span><span class=p>(</span><span class=n>Method2Application</span><span class=p>.</span><span class=na>class</span><span class=p>,</span><span class=w> </span><span class=n>args</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><ul><li>@WebFilter 설정</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Slf4j</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@WebFilter</span><span class=p>(</span><span class=n>urlPatterns</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;/filtered/*&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>MyFilter</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>Filter</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// 내용 동일</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>위와 같이 설정하고 동일하게 테스트를 해보면 다음과 같이 필터가 설정된 모습을 확인할 수 있다.</p><ul><li>일반 url</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>2020-04-06 23:54:34.330 DEBUG <span class=m>23720</span> --- <span class=o>[</span>nio-8080-exec-1<span class=o>]</span> o.s.web.servlet.DispatcherServlet        : GET <span class=s2>&#34;/test&#34;</span>, <span class=nv>parameters</span><span class=o>={}</span>
</span></span><span class=line><span class=cl>2020-04-06 23:54:34.332 DEBUG <span class=m>23720</span> --- <span class=o>[</span>nio-8080-exec-1<span class=o>]</span> s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.taetaetae.springbootfilter.method2.SampleController#test<span class=o>()</span>
</span></span><span class=line><span class=cl>2020-04-06 23:54:34.351 DEBUG <span class=m>23720</span> --- <span class=o>[</span>nio-8080-exec-1<span class=o>]</span> m.m.a.RequestResponseBodyMethodProcessor : Using <span class=s1>&#39;text/html&#39;</span>, given <span class=o>[</span>text/html, application/xhtml+xml, image/webp, image/apng, application/xml<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.9, application/signed-exchange<span class=p>;</span><span class=nv>v</span><span class=o>=</span>b3<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.9, */*<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.8<span class=o>]</span> and supported <span class=o>[</span>text/plain, */*, text/plain, */*, application/json, application/*+json, application/json, application/*+json<span class=o>]</span>
</span></span><span class=line><span class=cl>2020-04-06 23:54:34.352 DEBUG <span class=m>23720</span> --- <span class=o>[</span>nio-8080-exec-1<span class=o>]</span> m.m.a.RequestResponseBodyMethodProcessor : Writing <span class=o>[</span><span class=s2>&#34;test&#34;</span><span class=o>]</span>
</span></span><span class=line><span class=cl>2020-04-06 23:54:34.357 DEBUG <span class=m>23720</span> --- <span class=o>[</span>nio-8080-exec-1<span class=o>]</span> o.s.web.servlet.DispatcherServlet        : Completed <span class=m>200</span> OK
</span></span></code></pre></div><ul><li>필터링 url</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>// 필터에 들어온것 확인! <span class=o>(</span>위 복붙 아님...<span class=o>)</span>
</span></span><span class=line><span class=cl>2020-04-06 23:54:58.075  INFO <span class=m>23720</span> --- <span class=o>[</span>nio-8080-exec-3<span class=o>]</span> c.t.springbootfilter.method2.MyFilter    : doFilter MyFilter, uri : /filtered/test
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>2020-04-06 23:54:58.076 DEBUG <span class=m>23720</span> --- <span class=o>[</span>nio-8080-exec-3<span class=o>]</span> o.s.web.servlet.DispatcherServlet        : GET <span class=s2>&#34;/filtered/test&#34;</span>, <span class=nv>parameters</span><span class=o>={}</span>
</span></span><span class=line><span class=cl>2020-04-06 23:54:58.076 DEBUG <span class=m>23720</span> --- <span class=o>[</span>nio-8080-exec-3<span class=o>]</span> s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.taetaetae.springbootfilter.method2.SampleController#filteredTest<span class=o>()</span>
</span></span><span class=line><span class=cl>2020-04-06 23:54:58.077 DEBUG <span class=m>23720</span> --- <span class=o>[</span>nio-8080-exec-3<span class=o>]</span> m.m.a.RequestResponseBodyMethodProcessor : Using <span class=s1>&#39;text/html&#39;</span>, given <span class=o>[</span>text/html, application/xhtml+xml, image/webp, image/apng, application/xml<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.9, application/signed-exchange<span class=p>;</span><span class=nv>v</span><span class=o>=</span>b3<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.9, */*<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.8<span class=o>]</span> and supported <span class=o>[</span>text/plain, */*, text/plain, */*, application/json, application/*+json, application/json, application/*+json<span class=o>]</span>
</span></span><span class=line><span class=cl>2020-04-06 23:54:58.077 DEBUG <span class=m>23720</span> --- <span class=o>[</span>nio-8080-exec-3<span class=o>]</span> m.m.a.RequestResponseBodyMethodProcessor : Writing <span class=o>[</span><span class=s2>&#34;filtered&#34;</span><span class=o>]</span>
</span></span><span class=line><span class=cl>2020-04-06 23:54:58.078 DEBUG <span class=m>23720</span> --- <span class=o>[</span>nio-8080-exec-3<span class=o>]</span> o.s.web.servlet.DispatcherServlet        : Completed <span class=m>200</span> OK
</span></span></code></pre></div><h2 id=url-패턴-설정시-유의해야할-부분>url 패턴 설정시 유의해야할 부분</h2><p>처음 url 패턴을 설정할때 &ldquo;/filtered*&rdquo; 으로 설정했더니 아래와 같은 로그를 발견하게 된다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>Suspicious URL pattern: <span class=o>[</span>/filtered*<span class=o>]</span> in context <span class=o>[]</span>, see sections 12.1 and 12.2 of the Servlet specification
</span></span></code></pre></div><p>로그가 &ldquo;ERROR&rdquo; 레벨이 아니라서 대수롭지 않게 여겼는데 (사실 보지도 않았다&mldr;) 막상 테스트를 해보니 필터가 적용이 안되는 것이다. 하지만 <a href=https://dzone.com/articles/stack-overflow-driven-development-sodd-its-really target=_blank rel="noopener noreffer">SODD</a> 을 충실히 하는 필자인지라 <a href=https://stackoverflow.com/questions/14223150/mapping-a-specific-servlet-to-be-the-default-servlet-in-tomcat/17565388#17565388 target=_blank rel="noopener noreffer">정답</a>을 금방 찾을 수 있었다. (자랑처럼 보이네&mldr;document 를 보는게 더 정확!!!)</p><p>패턴의 형식이 잘못 되었다는 것. 결국 &ldquo;/filtered*&rdquo; 을 &ldquo;/filtered/*&rdquo; 으로 설정했더니 이상없이 성공. 모든 기술은 도큐먼트를 보고 좀 더 자세하게 확인한 다음 적용해야할 필요가 있다.</p><h2 id=필터에-component-가-설정되어-있다면>필터에 @Component 가 설정되어 있다면?</h2><p>이 내용이 필자가 꼭 이야기 하고 싶었던 부분이다. 보통 &ldquo;무엇"을 적용하기 위해서는 구글링을 해보거나 도큐먼트를 보기 시작한다. 그래서 적절한 예제코드나 방법을 찾게 되면 바로 적용. 돌려보고 이상없으면 &ldquo;빨래 ~ 끝&rdquo; 느낌으로 거기서 끝을 낸다.</p><figure><a class=lightgallery href=/images/spring-boot-filter/end.jpg title=/images/spring-boot-filter/end.jpg data-thumbnail=/images/spring-boot-filter/end.jpg data-sub-html="<h2>이건 뭐 그냥 하면 되잖아?  출처 : https://www.popmatters.com/161123-strong-weightlifting-as-metaphor-2495831472.html</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/spring-boot-filter/end.jpg data-srcset="/images/spring-boot-filter/end.jpg, /images/spring-boot-filter/end.jpg 1.5x, /images/spring-boot-filter/end.jpg 2x" data-sizes=auto alt=/images/spring-boot-filter/end.jpg width=60%></a><figcaption class=image-caption>이건 뭐 그냥 하면 되잖아?<br>출처 : <a href=https://www.popmatters.com/161123-strong-weightlifting-as-metaphor-2495831472.html target=_blank rel="noopener noreffer">https://www.popmatters.com/161123-strong-weightlifting-as-metaphor-2495831472.html</a></figcaption></figure><p>왜 그랬던건지는 모르겠지만 필자가 적용한 필터에 &ldquo;@Component&rdquo; 가 적용되어 있었고, 필터가 잘 걸리는 것 까지 확인했지만 오히려 모든 url 에 필터가 걸려버린 것이다. 왜일까? 필자가 적용한 필터의 모습은 다음과 같았고</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Component</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@WebFilter</span><span class=p>(</span><span class=n>urlPatterns</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;/filtered/*&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>MyFilter</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>Filter</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=c1>// 동일</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>실제로 실행을 해보면 init 이 두번 되는것을 확인할 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>2020-04-07 02:22:22.250  INFO <span class=m>27568</span> --- <span class=o>[</span>           main<span class=o>]</span> c.t.springbootfilter.method2.MyFilter    : init MyFilter
</span></span><span class=line><span class=cl>2020-04-07 02:22:22.250  INFO <span class=m>27568</span> --- <span class=o>[</span>           main<span class=o>]</span> c.t.springbootfilter.method2.MyFilter    : init MyFilter
</span></span></code></pre></div><p>위에서 테스트한 &ldquo;/test&rdquo; 를 호출해 보면 &ldquo;doFilter"에서 한번 로깅이 되고 &ldquo;/filtered/test&rdquo; 를 호출해 보면 두번 로깅 되는걸 확인할 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>2020-04-07 02:23:50.505  INFO <span class=m>27568</span> --- <span class=o>[</span>nio-8080-exec-1<span class=o>]</span> c.t.springbootfilter.method2.MyFilter    : doFilter MyFilter, uri : /test
</span></span><span class=line><span class=cl>2020-04-07 02:23:50.507 DEBUG <span class=m>27568</span> --- <span class=o>[</span>nio-8080-exec-1<span class=o>]</span> o.s.web.servlet.DispatcherServlet        : GET <span class=s2>&#34;/test&#34;</span>, <span class=nv>parameters</span><span class=o>={}</span>
</span></span><span class=line><span class=cl>2020-04-07 02:23:50.510 DEBUG <span class=m>27568</span> --- <span class=o>[</span>nio-8080-exec-1<span class=o>]</span> s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.taetaetae.springbootfilter.method2.SampleController#test<span class=o>()</span>
</span></span><span class=line><span class=cl>2020-04-07 02:23:50.531 DEBUG <span class=m>27568</span> --- <span class=o>[</span>nio-8080-exec-1<span class=o>]</span> m.m.a.RequestResponseBodyMethodProcessor : Using <span class=s1>&#39;text/html&#39;</span>, given <span class=o>[</span>text/html, application/xhtml+xml, image/webp, image/apng, application/xml<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.9, application/signed-exchange<span class=p>;</span><span class=nv>v</span><span class=o>=</span>b3<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.9, */*<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.8<span class=o>]</span> and supported <span class=o>[</span>text/plain, */*, text/plain, */*, application/json, application/*+json, application/json, application/*+json<span class=o>]</span>
</span></span><span class=line><span class=cl>2020-04-07 02:23:50.531 DEBUG <span class=m>27568</span> --- <span class=o>[</span>nio-8080-exec-1<span class=o>]</span> m.m.a.RequestResponseBodyMethodProcessor : Writing <span class=o>[</span><span class=s2>&#34;test&#34;</span><span class=o>]</span>
</span></span><span class=line><span class=cl>2020-04-07 02:23:50.537 DEBUG <span class=m>27568</span> --- <span class=o>[</span>nio-8080-exec-1<span class=o>]</span> o.s.web.servlet.DispatcherServlet        : Completed <span class=m>200</span> OK
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>2020-04-07 02:24:03.571  INFO <span class=m>27568</span> --- <span class=o>[</span>nio-8080-exec-3<span class=o>]</span> c.t.springbootfilter.method2.MyFilter    : doFilter MyFilter, uri : /filtered/test
</span></span><span class=line><span class=cl>2020-04-07 02:24:03.572  INFO <span class=m>27568</span> --- <span class=o>[</span>nio-8080-exec-3<span class=o>]</span> c.t.springbootfilter.method2.MyFilter    : doFilter MyFilter, uri : /filtered/test
</span></span><span class=line><span class=cl>2020-04-07 02:24:03.572 DEBUG <span class=m>27568</span> --- <span class=o>[</span>nio-8080-exec-3<span class=o>]</span> o.s.web.servlet.DispatcherServlet        : GET <span class=s2>&#34;/filtered/test&#34;</span>, <span class=nv>parameters</span><span class=o>={}</span>
</span></span><span class=line><span class=cl>2020-04-07 02:24:03.572 DEBUG <span class=m>27568</span> --- <span class=o>[</span>nio-8080-exec-3<span class=o>]</span> s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.taetaetae.springbootfilter.method2.SampleController#filteredTest<span class=o>()</span>
</span></span><span class=line><span class=cl>2020-04-07 02:24:03.573 DEBUG <span class=m>27568</span> --- <span class=o>[</span>nio-8080-exec-3<span class=o>]</span> m.m.a.RequestResponseBodyMethodProcessor : Using <span class=s1>&#39;text/html&#39;</span>, given <span class=o>[</span>text/html, application/xhtml+xml, image/webp, image/apng, application/xml<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.9, application/signed-exchange<span class=p>;</span><span class=nv>v</span><span class=o>=</span>b3<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.9, */*<span class=p>;</span><span class=nv>q</span><span class=o>=</span>0.8<span class=o>]</span> and supported <span class=o>[</span>text/plain, */*, text/plain, */*, application/json, application/*+json, application/json, application/*+json<span class=o>]</span>
</span></span><span class=line><span class=cl>2020-04-07 02:24:03.573 DEBUG <span class=m>27568</span> --- <span class=o>[</span>nio-8080-exec-3<span class=o>]</span> m.m.a.RequestResponseBodyMethodProcessor : Writing <span class=o>[</span><span class=s2>&#34;filtered&#34;</span><span class=o>]</span>
</span></span><span class=line><span class=cl>2020-04-07 02:24:03.574 DEBUG <span class=m>27568</span> --- <span class=o>[</span>nio-8080-exec-3<span class=o>]</span> o.s.web.servlet.DispatcherServlet        : Completed <span class=m>200</span> OK
</span></span></code></pre></div><p>정답은 스프링 부트를 사용하다 보면 가장 처음으로 만나는 &ldquo;@ComponentScan"와 &ldquo;@Component"에 있다. &ldquo;@SpringBootApplication"는 여러 어노테이션의 묶음이고 그 안에는 &ldquo;@ComponentScan"가 있어서 빈들을 자동으로 등록해주는 역할을 하게 되는데 필터에 &ldquo;@Component"가 설정되어 있어 자동으로 등록이 되었고, 두번째 방법인 &ldquo;@WebFilter + @ServletComponentScan&rdquo; 조합으로 한번 더 등록되어버린 것이다. 즉, 동일한 필터가 두번 등록된 상황.</p><p>&ldquo;/test&rdquo; 에서 한번 로깅된건 &ldquo;@Component&rdquo; 에 의해 등록된 필터로 인해 urlPattern 이 적용되지 않았으니 한번 로깅이 되고, urlPattern 이 적용된 필터에서는 urlPattern에 맞지 않으니 로깅이 안되는건 당연. 그 다음 &ldquo;/filtered/test&rdquo; 은 &ldquo;@Component&rdquo; 에 의해 등록된 필터로 한번 로깅, 그다음 &ldquo;@WebFilter"로 등록된 필터에서 urlPattern에 맞는 url 이다보니 로깅이 되서 총 두번 로깅이 되게 된다.</p><p>즉, 모든 url에 필터를 적용 할 것이라면 &ldquo;@ComponentScan + @Component&rdquo; 조합으로 해도 될 것 같고, 명시적으로 특정 urlPattern 에만 필터를 적용한다거나 필터의 다양한 설정 (우선순위, 필터이름 등) 을 하게 되는 경우엔 위에서 알려준 &ldquo;FilterRegistrationBean&rdquo; 이나 &ldquo;@WebFilter + @ServletComponentScan"을 사용해서 상황에 맞도록 설정하는게 중요할 것 같다.</p><h2 id=마치며>마치며</h2><p>좀 알고 쓰자. 실수는 두번하면 실력이다. 다음번엔 절대 실수 안해야지.</p><p>왜 저렇게 무턱대고 설정했는지 부끄럽기 짝이 없지만 함께 디버깅을 해주며 문제를 해결하는데 도움을 준 <a href=http://black9p.github.io/ target=_blank rel="noopener noreffer">black9p</a> 님 덕분에 이렇게 필터 적용방법에 대해 정리를 할 수 있어서 한편으론 다행이라 생각이 든다.</p><p>이번에도 위에서 사용한 코드는 필자의 <a href=https://github.com/taetaetae/spring-boot-filter target=_blank rel="noopener noreffer">Github Repo</a> 에서 확인이 가능하다.</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2020-04-06</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://taetaetae.github.io/2020/04/06/spring-boot-filter/ data-title="스프링 부트에 필터를 '조심해서' 사용하는 두 가지 방법" data-hashtags="spring boot,filter,archives-2020"><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://taetaetae.github.io/2020/04/06/spring-boot-filter/ data-hashtag="spring boot"><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://taetaetae.github.io/2020/04/06/spring-boot-filter/><i class="fab fa-linkedin fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://taetaetae.github.io/2020/04/06/spring-boot-filter/ data-title="스프링 부트에 필터를 '조심해서' 사용하는 두 가지 방법"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://taetaetae.github.io/2020/04/06/spring-boot-filter/ data-title="스프링 부트에 필터를 '조심해서' 사용하는 두 가지 방법"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://taetaetae.github.io/2020/04/06/spring-boot-filter/ data-title="스프링 부트에 필터를 '조심해서' 사용하는 두 가지 방법"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Blogger" data-sharer=blogger data-url=https://taetaetae.github.io/2020/04/06/spring-boot-filter/ data-title="스프링 부트에 필터를 '조심해서' 사용하는 두 가지 방법" data-description><i class="fab fa-blogger fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/spring-boot/>Spring Boot</a>,&nbsp;<a href=/tags/filter/>Filter</a>,&nbsp;<a href=/tags/archives-2020/>Archives-2020</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/2020/03/29/better-rest-template-2-netflix-hystrix/ class=prev rel=prev title="조금 더 괜찮은 Rest Template 2부 - Circuit-breaker"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>조금 더 괜찮은 Rest Template 2부 - Circuit-breaker</a>
<a href=/2020/06/21/a-good-developer-in-terms-of-culture/ class=next rel=next title="그런 개발자로 괜찮은가 - '문화' 편">그런 개발자로 괜찮은가 - '문화' 편<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=utterances class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://utteranc.es/>utterances</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.147.9">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.3.0"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2016 - 2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://taetaetae.github.io/resume target=_blank>태태태</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:500},comment:{utterances:{darkTheme:"github-dark",issueTerm:"pathname",label:"Comment",lightTheme:"github-light",repo:"taetaetae/blog-comment"}},lightgallery:!0}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-86432198-1",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-86432198-1" async></script></body></html>