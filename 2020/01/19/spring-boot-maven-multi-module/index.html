<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>스프링 부트로 멀티모듈 셋팅하기 - 👨‍💻꿈꾸는 태태태의 공간</title><meta name=Description content><meta property="og:title" content="스프링 부트로 멀티모듈 셋팅하기"><meta property="og:description" content="서비스를 처음 만들기 시작할때면 각 직군별로 생각하는 포인트가 다양하다. 설계, 기획, 디자인, 개발. 여기서 개발은 프로젝트 셋팅을 어떻게 해야하지? 하는 고민을 하기 마련이다. 아주 간단하게 하나의 모듈로 모든 기능을 담당하도록 만들 수 있지만 기능별로 모듈을 나눠서 셋팅하는게 관리측면에서 장점이라 생각한다.예를 들어보자. 도서관의 들어온 책 정보를 외부에 제공하는 &ldquo;API&rdquo;, 주기적으로 책 정보를 업데이트 하는 &ldquo;Batch&rdquo;. 이렇게 크게 두가지의 모듈이 있어야 한다고 가정했을때 어떤식으로 모듈을 설계할 수 있을까?
이번 포스팅에서는 스프링 부트와 메이븐을 활용해서 하나의 프로젝트(컴포넌트)에서 여러 모듈을 관리할 수 있는 Spring Multi Module을 셋팅하는 방법에 대해 알아보고자 한다. 필자도 셋팅하기 전에는 &ldquo;그냥 하면 되는거 아니야?&ldquo;라며 우습게 보다 아주 사소한 부분들에서 엄청난 삽질을 해서 그런지 꼭 포스팅으로 남겨놔야 겠다고 다짐했고 이렇게 정리를 할 수 있게 되어서 다행이라 생각한다.
어쩌면 우리가 있는 팀도 멀티모듈이 아닐까? 출처 : https://bcho.tistory.com/813&#34; 어쩌면 우리가 있는 팀도 멀티모듈이 아닐까? 출처 : https://bcho.tistory.com/813  왜 멀티모듈로 셋팅할까? 위에서 예시로 이야기 한것처럼 현재 우리가 셋팅해야할 모듈은 크게 두가지 이다.
 API : 외부에 도서관에 들어온 책 정보를 알려주는 모듈 Batch : 주기적으로 도서관의 책 정보를 갱신하는 모듈  한번 생각을 해보자. 위에서 말한 모듈들 중에 동시에 사용할것만 같은 정보가 있다. &ldquo;책 정보&rdquo;. 각 모듈마다 &ldquo;책 정보&#34;를 가져오는 로직을 작성하는것 보다 한곳에서 해당로직을 구현하고 이를 여러곳에서 사용하는게 사용하는게 중복코드를 방지할수 있는 방법이란건 쉽게 알아차릴수 있다. 그렇다면 어떻게 모듈을 분리할수 있을까?
필자의 경험으로 미루어 볼때 크게 두가지 방법이 있는것 같다.
 공통으로 사용하는 모듈을 jar로 만들고 이를 메이븐 원격 저장소에 deploy, 사용하는 모듈에서 디펜던시에 추가하여 사용 멀티모듈로 구성하고 사용하는 모듈에서 디펜던시에 추가하여 사용  첫번째 방법의 가장 큰 단점은, 공통으로 사용하는 모듈이 변경될때마다 버전을 바꿔주고 (안바꿔도 되지만 사용하는 모듈에서 캐시 갱신을 해야하는 불편함이 생긴다.) 메이븐 원격 저장소에 deploy를 해줘야 한다. 그에 반해 두번째 방법은 이런과정없이 함께 빌드만 해주면 끝나고 IDE에서 개발시 한 모듈에서 동시에 수정과 사용이 가능하기 때문에 훨씬 편리하다.
은총알은 없다 라는 말처럼, 정답은 없다. 하지만 이런저런 방법들을 미리 알아두면 적시적소에 사용할 수 있는. 필자가 다른글들에서도 언급을 자주하던 &ldquo;나만의 무기&#34;가 되지 않을까?
멀티모듈 셋팅하기 위에서 이야기 했던 &ldquo;API&rdquo;, &ldquo;Batch&#34;와는 별도로 공통으로 사용하는 모듈인 &ldquo;Core&rdquo; 이렇게 총 3개의 모듈을 만들예정이다.
 다른 이야기지만, 공통으로 사용할 것 &ldquo;같아서&rdquo; 미리 공통로직을 작성하는 습관은 좋지 않는것 같다. 그러다보면 쓸데없이 공통로직이 무거워지므로 실제로 사용하면서 중복코드가 발생할때 그때 공통로직으로 리펙토링 해도 늦지 않는것 같다. (꼰데인가&mldr;)
 구현하는 환경은 다음과 같다.
 Spring Boot 2.2.3 Maven IntelliJ  우선 IDE의 힘을 빌려 하나의 스프링 부트 프로젝트를 생성해본다.
다음 > 다음 > 다음&#34; 다음 > 다음 > 다음  그 다음 만든 프로젝트에서 우클릭 후 새로운 모듈을 선택. Maven 모듈을 선택하고 적당한 이름을 적어준다. 다음 > 다음 > 다음 222&#34; 다음 > 다음 > 다음 222 
&ldquo;API&rdquo;, &ldquo;Batch&rdquo;, &ldquo;Core&rdquo; 라는 모듈을 추가하고 실제 모듈이 되는 &ldquo;API&rdquo;, &ldquo;Batch&#34;에 parent 와 dependencies 을 설정해주자. 그렇게 하고 각 Pom.xml을 보면 아래와 같다. (&ldquo;API&rdquo; 모듈에 대해서만 집중적으로 이야기 하려 한다. &ldquo;Batch&rdquo; 모듈도 동일한 형식으로 작성하기 때문.)
 최 상위 Pom.xml (library) modules 하위에 멀티모듈로 설정한 모듈들의 이름이 들어가 있는것을 확인할 수 있다.  <?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?> <project xmlns=&#34;http://maven.apache.org/POM/4.0.0&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; xsi:schemaLocation=&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;> <modelVersion>4.0.0</modelVersion> <packaging>pom</packaging> <modules> <module>api</module> <module>core</module> <module>batch</module> </modules> <parent> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-parent</artifactId> <version>2.2.3.RELEASE</version> <relativePath/> <!-- lookup parent from repository --> </parent> <groupId>com.taetaetae</groupId> <artifactId>library</artifactId> <version>0."><meta property="og:type" content="article"><meta property="og:url" content="https://taetaetae.github.io/2020/01/19/spring-boot-maven-multi-module/"><meta property="og:image" content="https://taetaetae.github.io/images/spring-boot-maven-multi-module/multimodule.png"><meta property="article:published_time" content="2020-01-19T10:29:03+00:00"><meta property="article:modified_time" content="2020-01-19T10:29:03+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://taetaetae.github.io/images/spring-boot-maven-multi-module/multimodule.png"><meta name=twitter:title content="스프링 부트로 멀티모듈 셋팅하기"><meta name=twitter:description content="서비스를 처음 만들기 시작할때면 각 직군별로 생각하는 포인트가 다양하다. 설계, 기획, 디자인, 개발. 여기서 개발은 프로젝트 셋팅을 어떻게 해야하지? 하는 고민을 하기 마련이다. 아주 간단하게 하나의 모듈로 모든 기능을 담당하도록 만들 수 있지만 기능별로 모듈을 나눠서 셋팅하는게 관리측면에서 장점이라 생각한다.예를 들어보자. 도서관의 들어온 책 정보를 외부에 제공하는 &ldquo;API&rdquo;, 주기적으로 책 정보를 업데이트 하는 &ldquo;Batch&rdquo;. 이렇게 크게 두가지의 모듈이 있어야 한다고 가정했을때 어떤식으로 모듈을 설계할 수 있을까?
이번 포스팅에서는 스프링 부트와 메이븐을 활용해서 하나의 프로젝트(컴포넌트)에서 여러 모듈을 관리할 수 있는 Spring Multi Module을 셋팅하는 방법에 대해 알아보고자 한다. 필자도 셋팅하기 전에는 &ldquo;그냥 하면 되는거 아니야?&ldquo;라며 우습게 보다 아주 사소한 부분들에서 엄청난 삽질을 해서 그런지 꼭 포스팅으로 남겨놔야 겠다고 다짐했고 이렇게 정리를 할 수 있게 되어서 다행이라 생각한다.
어쩌면 우리가 있는 팀도 멀티모듈이 아닐까? 출처 : https://bcho.tistory.com/813&#34; 어쩌면 우리가 있는 팀도 멀티모듈이 아닐까? 출처 : https://bcho.tistory.com/813  왜 멀티모듈로 셋팅할까? 위에서 예시로 이야기 한것처럼 현재 우리가 셋팅해야할 모듈은 크게 두가지 이다.
 API : 외부에 도서관에 들어온 책 정보를 알려주는 모듈 Batch : 주기적으로 도서관의 책 정보를 갱신하는 모듈  한번 생각을 해보자. 위에서 말한 모듈들 중에 동시에 사용할것만 같은 정보가 있다. &ldquo;책 정보&rdquo;. 각 모듈마다 &ldquo;책 정보&#34;를 가져오는 로직을 작성하는것 보다 한곳에서 해당로직을 구현하고 이를 여러곳에서 사용하는게 사용하는게 중복코드를 방지할수 있는 방법이란건 쉽게 알아차릴수 있다. 그렇다면 어떻게 모듈을 분리할수 있을까?
필자의 경험으로 미루어 볼때 크게 두가지 방법이 있는것 같다.
 공통으로 사용하는 모듈을 jar로 만들고 이를 메이븐 원격 저장소에 deploy, 사용하는 모듈에서 디펜던시에 추가하여 사용 멀티모듈로 구성하고 사용하는 모듈에서 디펜던시에 추가하여 사용  첫번째 방법의 가장 큰 단점은, 공통으로 사용하는 모듈이 변경될때마다 버전을 바꿔주고 (안바꿔도 되지만 사용하는 모듈에서 캐시 갱신을 해야하는 불편함이 생긴다.) 메이븐 원격 저장소에 deploy를 해줘야 한다. 그에 반해 두번째 방법은 이런과정없이 함께 빌드만 해주면 끝나고 IDE에서 개발시 한 모듈에서 동시에 수정과 사용이 가능하기 때문에 훨씬 편리하다.
은총알은 없다 라는 말처럼, 정답은 없다. 하지만 이런저런 방법들을 미리 알아두면 적시적소에 사용할 수 있는. 필자가 다른글들에서도 언급을 자주하던 &ldquo;나만의 무기&#34;가 되지 않을까?
멀티모듈 셋팅하기 위에서 이야기 했던 &ldquo;API&rdquo;, &ldquo;Batch&#34;와는 별도로 공통으로 사용하는 모듈인 &ldquo;Core&rdquo; 이렇게 총 3개의 모듈을 만들예정이다.
 다른 이야기지만, 공통으로 사용할 것 &ldquo;같아서&rdquo; 미리 공통로직을 작성하는 습관은 좋지 않는것 같다. 그러다보면 쓸데없이 공통로직이 무거워지므로 실제로 사용하면서 중복코드가 발생할때 그때 공통로직으로 리펙토링 해도 늦지 않는것 같다. (꼰데인가&mldr;)
 구현하는 환경은 다음과 같다.
 Spring Boot 2.2.3 Maven IntelliJ  우선 IDE의 힘을 빌려 하나의 스프링 부트 프로젝트를 생성해본다.
다음 > 다음 > 다음&#34; 다음 > 다음 > 다음  그 다음 만든 프로젝트에서 우클릭 후 새로운 모듈을 선택. Maven 모듈을 선택하고 적당한 이름을 적어준다. 다음 > 다음 > 다음 222&#34; 다음 > 다음 > 다음 222 
&ldquo;API&rdquo;, &ldquo;Batch&rdquo;, &ldquo;Core&rdquo; 라는 모듈을 추가하고 실제 모듈이 되는 &ldquo;API&rdquo;, &ldquo;Batch&#34;에 parent 와 dependencies 을 설정해주자. 그렇게 하고 각 Pom.xml을 보면 아래와 같다. (&ldquo;API&rdquo; 모듈에 대해서만 집중적으로 이야기 하려 한다. &ldquo;Batch&rdquo; 모듈도 동일한 형식으로 작성하기 때문.)
 최 상위 Pom.xml (library) modules 하위에 멀티모듈로 설정한 모듈들의 이름이 들어가 있는것을 확인할 수 있다.  <?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?> <project xmlns=&#34;http://maven.apache.org/POM/4.0.0&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; xsi:schemaLocation=&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;> <modelVersion>4.0.0</modelVersion> <packaging>pom</packaging> <modules> <module>api</module> <module>core</module> <module>batch</module> </modules> <parent> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-parent</artifactId> <version>2.2.3.RELEASE</version> <relativePath/> <!-- lookup parent from repository --> </parent> <groupId>com.taetaetae</groupId> <artifactId>library</artifactId> <version>0."><meta name=application-name content="👨‍💻꿈꾸는 태태태의 공간"><meta name=apple-mobile-web-app-title content="👨‍💻꿈꾸는 태태태의 공간"><meta name=naver-site-verification content="2d1cdbb963ba178aa7cbf58500afc668cae1e645"><meta name=google-site-verification content="vvFCdv0-GuQhEWG8vtNJfA7YSY2HYQ1hpHh9P-a6Pv8"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://taetaetae.github.io/2020/01/19/spring-boot-maven-multi-module/><link rel=prev href=https://taetaetae.github.io/2019/12/29/review-2019/><link rel=next href=https://taetaetae.github.io/2020/02/09/jupyter-install/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"스프링 부트로 멀티모듈 셋팅하기","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/taetaetae.github.io\/2020\/01\/19\/spring-boot-maven-multi-module\/"},"genre":"posts","keywords":"spring boot, module, structure, maven, archives-2020","wordcount":810,"url":"https:\/\/taetaetae.github.io\/2020\/01\/19\/spring-boot-maven-multi-module\/","datePublished":"2020-01-19T10:29:03+00:00","dateModified":"2020-01-19T10:29:03+00:00","publisher":{"@type":"Organization","name":"태태태"},"author":{"@type":"Person","name":"태태태"},"description":""}</script></head><body header-desktop=auto header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="👨‍💻꿈꾸는 태태태의 공간">👨‍💻꿈꾸는 태태태의 공간</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="👨‍💻꿈꾸는 태태태의 공간">👨‍💻꿈꾸는 태태태의 공간</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/>Posts</a><a class=menu-item href=/tags/>Tags</a><a class=menu-item href=/categories/>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:inline-block;width:260px;height:600px data-ad-client=ca-pub-5788330009690816 data-ad-slot=2248955907></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div><article class="page single"><h1 class="single-title animated flipInX">스프링 부트로 멀티모듈 셋팅하기</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://taetaetae.github.io/resume title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>태태태</a></span>&nbsp;<span class=post-category>included in <a href=/categories/tech/><i class="far fa-folder fa-fw"></i>Tech</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2020-01-19>2020-01-19</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;810 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/images/spring-boot-maven-multi-module/multimodule.png data-srcset="/images/spring-boot-maven-multi-module/multimodule.png, /images/spring-boot-maven-multi-module/multimodule.png 1.5x, /images/spring-boot-maven-multi-module/multimodule.png 2x" data-sizes=auto alt=/images/spring-boot-maven-multi-module/multimodule.png title=/images/spring-boot-maven-multi-module/multimodule.png></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#왜-멀티모듈로-셋팅할까>왜 멀티모듈로 셋팅할까?</a></li><li><a href=#멀티모듈-셋팅하기>멀티모듈 셋팅하기</a><ul><li><a href=#-마치며># 마치며</a></li></ul></li></ul></nav></div></div><div class=content id=content><p>서비스를 처음 만들기 시작할때면 각 직군별로 생각하는 포인트가 다양하다. 설계, 기획, 디자인, 개발. 여기서 개발은 프로젝트 셋팅을 어떻게 해야하지? 하는 고민을 하기 마련이다. 아주 간단하게 하나의 모듈로 모든 기능을 담당하도록 만들 수 있지만 기능별로 모듈을 나눠서 셋팅하는게 관리측면에서 장점이라 생각한다.</p><p>예를 들어보자. 도서관의 들어온 책 정보를 외부에 제공하는 &ldquo;API&rdquo;, 주기적으로 책 정보를 업데이트 하는 &ldquo;Batch&rdquo;. 이렇게 크게 두가지의 모듈이 있어야 한다고 가정했을때 어떤식으로 모듈을 설계할 수 있을까?</p><p>이번 포스팅에서는 스프링 부트와 메이븐을 활용해서 하나의 프로젝트(컴포넌트)에서 여러 모듈을 관리할 수 있는 <a href=https://spring.io/guides/gs/multi-module/ target=_blank rel="noopener noreffer">Spring Multi Module</a>을 셋팅하는 방법에 대해 알아보고자 한다. 필자도 셋팅하기 전에는 &ldquo;그냥 하면 되는거 아니야?&ldquo;라며 우습게 보다 아주 사소한 부분들에서 엄청난 삽질을 해서 그런지 꼭 포스팅으로 남겨놔야 겠다고 다짐했고 이렇게 정리를 할 수 있게 되어서 다행이라 생각한다.</p><figure><a class=lightgallery href=/images/spring-boot-maven-multi-module/team_structure.png title=/images/spring-boot-maven-multi-module/team_structure.png data-thumbnail=/images/spring-boot-maven-multi-module/team_structure.png data-sub-html="<h2>어쩌면 우리가 있는 팀도 멀티모듈이 아닐까? 출처 : https://bcho.tistory.com/813</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/spring-boot-maven-multi-module/team_structure.png data-srcset="/images/spring-boot-maven-multi-module/team_structure.png, /images/spring-boot-maven-multi-module/team_structure.png 1.5x, /images/spring-boot-maven-multi-module/team_structure.png 2x" data-sizes=auto alt=/images/spring-boot-maven-multi-module/team_structure.png width=80%></a><figcaption class=image-caption>어쩌면 우리가 있는 팀도 멀티모듈이 아닐까?<br>출처 : <a href=https://bcho.tistory.com/813>https://bcho.tistory.com/813</a></figcaption></figure><h2 id=왜-멀티모듈로-셋팅할까>왜 멀티모듈로 셋팅할까?</h2><p>위에서 예시로 이야기 한것처럼 현재 우리가 셋팅해야할 모듈은 크게 두가지 이다.</p><ul><li>API : 외부에 도서관에 들어온 책 정보를 알려주는 모듈</li><li>Batch : 주기적으로 도서관의 책 정보를 갱신하는 모듈</li></ul><p>한번 생각을 해보자. 위에서 말한 모듈들 중에 동시에 사용할것만 같은 정보가 있다. &ldquo;책 정보&rdquo;. 각 모듈마다 &ldquo;책 정보"를 가져오는 로직을 작성하는것 보다 한곳에서 해당로직을 구현하고 이를 여러곳에서 사용하는게 사용하는게 중복코드를 방지할수 있는 방법이란건 쉽게 알아차릴수 있다. 그렇다면 어떻게 모듈을 분리할수 있을까?</p><p>필자의 경험으로 미루어 볼때 크게 두가지 방법이 있는것 같다.</p><ul><li>공통으로 사용하는 모듈을 jar로 만들고 이를 메이븐 원격 저장소에 deploy, 사용하는 모듈에서 디펜던시에 추가하여 사용</li><li>멀티모듈로 구성하고 사용하는 모듈에서 디펜던시에 추가하여 사용</li></ul><p>첫번째 방법의 가장 큰 단점은, 공통으로 사용하는 모듈이 변경될때마다 버전을 바꿔주고 (안바꿔도 되지만 사용하는 모듈에서 캐시 갱신을 해야하는 불편함이 생긴다.) 메이븐 원격 저장소에 deploy를 해줘야 한다. 그에 반해 두번째 방법은 이런과정없이 함께 빌드만 해주면 끝나고 IDE에서 개발시 한 모듈에서 동시에 수정과 사용이 가능하기 때문에 훨씬 편리하다.</p><p><a href=https://johngrib.github.io/wiki/No-Silver-Bullet/ target=_blank rel="noopener noreffer">은총알은 없다</a> 라는 말처럼, 정답은 없다. 하지만 이런저런 방법들을 미리 알아두면 적시적소에 사용할 수 있는. 필자가 다른글들에서도 언급을 자주하던 &ldquo;나만의 무기"가 되지 않을까?</p><h2 id=멀티모듈-셋팅하기>멀티모듈 셋팅하기</h2><p>위에서 이야기 했던 &ldquo;API&rdquo;, &ldquo;Batch"와는 별도로 공통으로 사용하는 모듈인 &ldquo;Core&rdquo; 이렇게 총 3개의 모듈을 만들예정이다.</p><blockquote><p>다른 이야기지만, 공통으로 사용할 것 &ldquo;같아서&rdquo; 미리 공통로직을 작성하는 습관은 좋지 않는것 같다. 그러다보면 쓸데없이 공통로직이 무거워지므로 실제로 사용하면서 중복코드가 발생할때 그때 공통로직으로 리펙토링 해도 늦지 않는것 같다. (꼰데인가&mldr;)</p></blockquote><p>구현하는 환경은 다음과 같다.</p><ul><li>Spring Boot 2.2.3</li><li>Maven</li><li>IntelliJ</li></ul><p>우선 IDE의 힘을 빌려 하나의 스프링 부트 프로젝트를 생성해본다.</p><figure><a class=lightgallery href=/images/spring-boot-maven-multi-module/spring_boot_init.jpg title=/images/spring-boot-maven-multi-module/spring_boot_init.jpg data-thumbnail=/images/spring-boot-maven-multi-module/spring_boot_init.jpg data-sub-html="<h2>다음 > 다음 > 다음</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/spring-boot-maven-multi-module/spring_boot_init.jpg data-srcset="/images/spring-boot-maven-multi-module/spring_boot_init.jpg, /images/spring-boot-maven-multi-module/spring_boot_init.jpg 1.5x, /images/spring-boot-maven-multi-module/spring_boot_init.jpg 2x" data-sizes=auto alt=/images/spring-boot-maven-multi-module/spring_boot_init.jpg width=80%></a><figcaption class=image-caption>다음 > 다음 > 다음</figcaption></figure><p>그 다음 만든 프로젝트에서 우클릭 후 새로운 모듈을 선택. Maven 모듈을 선택하고 적당한 이름을 적어준다.<figure><a class=lightgallery href=/images/spring-boot-maven-multi-module/new_module.jpg title=/images/spring-boot-maven-multi-module/new_module.jpg data-thumbnail=/images/spring-boot-maven-multi-module/new_module.jpg data-sub-html="<h2>다음 > 다음 > 다음 222</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/images/spring-boot-maven-multi-module/new_module.jpg data-srcset="/images/spring-boot-maven-multi-module/new_module.jpg, /images/spring-boot-maven-multi-module/new_module.jpg 1.5x, /images/spring-boot-maven-multi-module/new_module.jpg 2x" data-sizes=auto alt=/images/spring-boot-maven-multi-module/new_module.jpg width=80%></a><figcaption class=image-caption>다음 > 다음 > 다음 222</figcaption></figure></p><p>&ldquo;API&rdquo;, &ldquo;Batch&rdquo;, &ldquo;Core&rdquo; 라는 모듈을 추가하고 실제 모듈이 되는 &ldquo;API&rdquo;, &ldquo;Batch"에 <code>parent</code> 와 <code>dependencies</code> 을 설정해주자. 그렇게 하고 각 Pom.xml을 보면 아래와 같다. (&ldquo;API&rdquo; 모듈에 대해서만 집중적으로 이야기 하려 한다. &ldquo;Batch&rdquo; 모듈도 동일한 형식으로 작성하기 때문.)</p><ul><li>최 상위 Pom.xml (library)
modules 하위에 멀티모듈로 설정한 모듈들의 이름이 들어가 있는것을 확인할 수 있다.</li></ul><div class=highlight><pre class=chroma><code class=language-xml data-lang=xml><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span class=nt>&lt;project</span> <span class=na>xmlns=</span><span class=s>&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span class=na>xmlns:xsi=</span><span class=s>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
		 <span class=na>xsi:schemaLocation=</span><span class=s>&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span class=nt>&gt;</span>
	<span class=nt>&lt;modelVersion&gt;</span>4.0.0<span class=nt>&lt;/modelVersion&gt;</span>
	<span class=nt>&lt;packaging&gt;</span>pom<span class=nt>&lt;/packaging&gt;</span>
	<span class=nt>&lt;modules&gt;</span>
		<span class=nt>&lt;module&gt;</span>api<span class=nt>&lt;/module&gt;</span>
		<span class=nt>&lt;module&gt;</span>core<span class=nt>&lt;/module&gt;</span>
		<span class=nt>&lt;module&gt;</span>batch<span class=nt>&lt;/module&gt;</span>
	<span class=nt>&lt;/modules&gt;</span>
	
	<span class=nt>&lt;parent&gt;</span>
		<span class=nt>&lt;groupId&gt;</span>org.springframework.boot<span class=nt>&lt;/groupId&gt;</span>
		<span class=nt>&lt;artifactId&gt;</span>spring-boot-starter-parent<span class=nt>&lt;/artifactId&gt;</span>
		<span class=nt>&lt;version&gt;</span>2.2.3.RELEASE<span class=nt>&lt;/version&gt;</span>
		<span class=nt>&lt;relativePath/&gt;</span> <span class=c>&lt;!-- lookup parent from repository --&gt;</span>
	<span class=nt>&lt;/parent&gt;</span>

	<span class=nt>&lt;groupId&gt;</span>com.taetaetae<span class=nt>&lt;/groupId&gt;</span>
	<span class=nt>&lt;artifactId&gt;</span>library<span class=nt>&lt;/artifactId&gt;</span>
	<span class=nt>&lt;version&gt;</span>0.0.1-SNAPSHOT<span class=nt>&lt;/version&gt;</span>
	<span class=nt>&lt;name&gt;</span>library<span class=nt>&lt;/name&gt;</span>
	<span class=nt>&lt;description&gt;</span>Demo project for Spring Boot<span class=nt>&lt;/description&gt;</span>

	<span class=nt>&lt;properties&gt;</span>
		<span class=nt>&lt;java.version&gt;</span>1.8<span class=nt>&lt;/java.version&gt;</span>
	<span class=nt>&lt;/properties&gt;</span>

	<span class=nt>&lt;dependencies&gt;</span>
		<span class=nt>&lt;dependency&gt;</span>
			<span class=nt>&lt;groupId&gt;</span>org.springframework.boot<span class=nt>&lt;/groupId&gt;</span>
			<span class=nt>&lt;artifactId&gt;</span>spring-boot-starter-web<span class=nt>&lt;/artifactId&gt;</span>
		<span class=nt>&lt;/dependency&gt;</span>
		<span class=nt>&lt;dependency&gt;</span>
			<span class=nt>&lt;groupId&gt;</span>org.springframework.boot<span class=nt>&lt;/groupId&gt;</span>
			<span class=nt>&lt;artifactId&gt;</span>spring-boot-starter-test<span class=nt>&lt;/artifactId&gt;</span>
			<span class=nt>&lt;scope&gt;</span>test<span class=nt>&lt;/scope&gt;</span>
			<span class=nt>&lt;exclusions&gt;</span>
				<span class=nt>&lt;exclusion&gt;</span>
					<span class=nt>&lt;groupId&gt;</span>org.junit.vintage<span class=nt>&lt;/groupId&gt;</span>
					<span class=nt>&lt;artifactId&gt;</span>junit-vintage-engine<span class=nt>&lt;/artifactId&gt;</span>
				<span class=nt>&lt;/exclusion&gt;</span>
			<span class=nt>&lt;/exclusions&gt;</span>
		<span class=nt>&lt;/dependency&gt;</span>
	<span class=nt>&lt;/dependencies&gt;</span>
<span class=nt>&lt;/project&gt;</span>
</code></pre></div><ul><li>API Pom.xml
parent 부분이 설정되어 있는 모습을 볼수 있고, core 모듈을 사용하기 위해 dependency 에 추가를 해준다.</li></ul><div class=highlight><pre class=chroma><code class=language-xml data-lang=xml><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span class=nt>&lt;project</span> <span class=na>xmlns=</span><span class=s>&#34;http://maven.apache.org/POM/4.0.0&#34;</span>
		 <span class=na>xmlns:xsi=</span><span class=s>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
		 <span class=na>xsi:schemaLocation=</span><span class=s>&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span class=nt>&gt;</span>
	<span class=nt>&lt;parent&gt;</span>
		<span class=nt>&lt;artifactId&gt;</span>library<span class=nt>&lt;/artifactId&gt;</span>
		<span class=nt>&lt;groupId&gt;</span>com.taetaetae<span class=nt>&lt;/groupId&gt;</span>
		<span class=nt>&lt;version&gt;</span>0.0.1-SNAPSHOT<span class=nt>&lt;/version&gt;</span>
	<span class=nt>&lt;/parent&gt;</span>
	<span class=nt>&lt;modelVersion&gt;</span>4.0.0<span class=nt>&lt;/modelVersion&gt;</span>
	<span class=nt>&lt;packaging&gt;</span>jar<span class=nt>&lt;/packaging&gt;</span>
	<span class=nt>&lt;artifactId&gt;</span>api<span class=nt>&lt;/artifactId&gt;</span>

	<span class=nt>&lt;dependencies&gt;</span>
		<span class=nt>&lt;dependency&gt;</span>
			<span class=nt>&lt;groupId&gt;</span>com.taetaetae<span class=nt>&lt;/groupId&gt;</span>
			<span class=nt>&lt;artifactId&gt;</span>core<span class=nt>&lt;/artifactId&gt;</span>
			<span class=nt>&lt;version&gt;</span>0.0.1-SNAPSHOT<span class=nt>&lt;/version&gt;</span>
		<span class=nt>&lt;/dependency&gt;</span>
	<span class=nt>&lt;/dependencies&gt;</span>

	<span class=nt>&lt;build&gt;</span>
		<span class=nt>&lt;finalName&gt;</span>library-api<span class=nt>&lt;/finalName&gt;</span>
		<span class=nt>&lt;plugins&gt;</span>
			<span class=nt>&lt;plugin&gt;</span>
				<span class=nt>&lt;groupId&gt;</span>org.springframework.boot<span class=nt>&lt;/groupId&gt;</span>
				<span class=nt>&lt;artifactId&gt;</span>spring-boot-maven-plugin<span class=nt>&lt;/artifactId&gt;</span>
			<span class=nt>&lt;/plugin&gt;</span>
		<span class=nt>&lt;/plugins&gt;</span>
	<span class=nt>&lt;/build&gt;</span>

<span class=nt>&lt;/project&gt;</span>
</code></pre></div><ul><li>Core Pom.xml
Core 모듈은 &ldquo;jar"로 패키징 되어 다른 곳에서 사용되어야 하기 때문에 packaging 만 설정해준다.</li></ul><div class=highlight><pre class=chroma><code class=language-xml data-lang=xml><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span class=nt>&lt;project</span> <span class=na>xmlns=</span><span class=s>&#34;http://maven.apache.org/POM/4.0.0&#34;</span>
		 <span class=na>xmlns:xsi=</span><span class=s>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
		 <span class=na>xsi:schemaLocation=</span><span class=s>&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span class=nt>&gt;</span>
	<span class=nt>&lt;parent&gt;</span>
		<span class=nt>&lt;artifactId&gt;</span>library<span class=nt>&lt;/artifactId&gt;</span>
		<span class=nt>&lt;groupId&gt;</span>com.taetaetae<span class=nt>&lt;/groupId&gt;</span>
		<span class=nt>&lt;version&gt;</span>0.0.1-SNAPSHOT<span class=nt>&lt;/version&gt;</span>
	<span class=nt>&lt;/parent&gt;</span>
	<span class=nt>&lt;modelVersion&gt;</span>4.0.0<span class=nt>&lt;/modelVersion&gt;</span>
	<span class=nt>&lt;packaging&gt;</span>jar<span class=nt>&lt;/packaging&gt;</span>
	<span class=nt>&lt;artifactId&gt;</span>core<span class=nt>&lt;/artifactId&gt;</span>

	<span class=nt>&lt;version&gt;</span>0.0.1-SNAPSHOT<span class=nt>&lt;/version&gt;</span>

<span class=nt>&lt;/project&gt;</span>
</code></pre></div><p>이렇게 하고서 Core 모듈에 공통으로 사용될 로직을 작성하고, API 모듈에서 이를 사용하는 로직을 작성한뒤, 빌드를 해보면 에러 없이 정상 작동을 하는 모습을 볼 수 있다.</p><ul><li>메이븐 빌드 Goal : mvn clean install -pl api -am</li></ul><blockquote><p>-pl [ ] : 지정된 이름의 모듈만 빌드한다.<br>-am : 연결된 상위 모듈까지 같이 빌드한다.<br><a href=https://books.sonatype.com/mvnref-book/reference/_using_advanced_reactor_options.html#_specifying_a_subset_of_projects target=_blank rel="noopener noreffer">Reference 참고</a></p></blockquote><div class=highlight><pre class=chroma><code class=language-markdown data-lang=markdown>[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] library                                                            [pom]
[INFO] core                                                               [jar]
[INFO] api                                                                [jar]
[INFO] 
[INFO] -----------------------<span class=p>&lt;</span> <span class=nt>com.taetaetae:library</span> <span class=p>&gt;</span>------------------------

...중략...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary for library 0.0.1-SNAPSHOT:
[INFO] 
[INFO] library ............................................ SUCCESS [  0.715 s]
[INFO] core ............................................... SUCCESS [  3.005 s]
[INFO] api ................................................ SUCCESS [  1.715 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  6.008 s
[INFO] Finished at: 2020-01-19T11:26:46+09:00
[INFO] ------------------------------------------------------------------------
</code></pre></div><p>본문 최 하단에 해당 소스가 업로드 된 Github에서 확인이 가능하겠지만, (&ldquo;도서관&rdquo; 이라는 목적에는 안맞지만&mldr;) 정수를 더하고 빼는 유틸을 Core에 만들고 이를 Api에 있는 컨트롤러에서 사용하도록 만들어 보았다. (어디까지나 모듈에서 멀티모듈로 되어있는 다른 모듈에 접근이 가능한지를 보기 위함이라&mldr; 예시가 우아하진 않다.)</p><h3 id=-마치며># 마치며</h3><p>언제부터인가 단순 로직개발보다 구조관점에서 바라보는 연습을 하곤한다. 아무리 알고리즘이 잘 작성되고 우아한 코드일지라도 구조가 개발 생산성 측면과 유지보수 측면에서 분리하면 아무 소용 없는것 같다. 위에서도 이야기 했듯이 멀티모듈이 무조건적인 정답은 아니지만 시스템을 구성하는데 있어 다양한 선택지를 알고있는 여유를 갖는것도 좋아보인다.</p><p>※ <a href=https://github.com/taetaetae/spring-boot-maven-multi-module target=_blank rel="noopener noreffer">Github 예제 소스</a></p></div><center><style>.bmc-button img{width:27px!important;margin-bottom:1px!important;box-shadow:none!important;border:none!important;vertical-align:middle!important}.bmc-button{line-height:29px!important;height:30px!important;text-decoration:none!important;display:inline-flex!important;color:#000!important;background-color:#fd0!important;border-radius:3px!important;border:1px solid transparent!important;padding:1px 9px!important;font-size:22px!important;letter-spacing:.6px!important;box-shadow:0 1px 2px rgba(190,190,190,.5)!important;-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;margin:0 auto!important;font-family:cookie,cursive!important;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;-o-transition:.3s all linear!important;-webkit-transition:.3s all linear!important;-moz-transition:.3s all linear!important;-ms-transition:.3s all linear!important;transition:.3s all linear!important}.bmc-button:hover,.bmc-button:active,.bmc-button:focus{-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;text-decoration:none!important;box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;opacity:.85!important;color:#000!important}</style><link href="https://fonts.googleapis.com/css?family=Cookie" rel=stylesheet><center><br><a class=bmc-button target=_blank href=https://www.buymeacoffee.com/taetaetae><img src=https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg alt="Buy me a coffee"><span style=margin-left:5px>Buy me a coffee</span></a>
<a href=https://bit.ly/ddbSupport target=_blank><img src=https://i.imgur.com/peaYpjh.png style=height:28px></a></center><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2020-01-19</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://taetaetae.github.io/2020/01/19/spring-boot-maven-multi-module/ data-title="스프링 부트로 멀티모듈 셋팅하기" data-hashtags="spring boot,module,structure,maven,archives-2020"><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://taetaetae.github.io/2020/01/19/spring-boot-maven-multi-module/ data-hashtag="spring boot"><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://taetaetae.github.io/2020/01/19/spring-boot-maven-multi-module/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Blogger" data-sharer=blogger data-url=https://taetaetae.github.io/2020/01/19/spring-boot-maven-multi-module/ data-title="스프링 부트로 멀티모듈 셋팅하기" data-description><i class="fab fa-blogger fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/spring-boot/>spring boot</a>,&nbsp;<a href=/tags/module/>module</a>,&nbsp;<a href=/tags/structure/>structure</a>,&nbsp;<a href=/tags/maven/>maven</a>,&nbsp;<a href=/tags/archives-2020/>archives-2020</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/2019/12/29/review-2019/ class=prev rel=prev title="조금은 무거운 2019 회고"><i class="fas fa-angle-left fa-fw"></i>조금은 무거운 2019 회고</a>
<a href=/2020/02/09/jupyter-install/ class=next rel=next title="Jupyter 설치하고 원격접속까지 (for 파.알.못)">Jupyter 설치하고 원격접속까지 (for 파.알.못)<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=utterances></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://utteranc.es/>Utterances</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.74.3">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i>LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2016 - 2024</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://taetaetae.github.io/resume target=_blank>태태태</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":500},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"Comment","lightTheme":"github-light","repo":"taetaetae/blog-comment"}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true}};</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','UA-86432198-1',{'anonymize_ip':true});</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-86432198-1" async></script></body></html>